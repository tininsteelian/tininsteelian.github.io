// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ea,fa,ga,ia,ka,la,ma,B,na,oa,pa,ra,sa,ta,K,ua,va,wa,xa,ya,za,Aa,Ba,Ea,Fa,Ga,Q,Ha,Ja,Ka,Na,Oa,V,Pa,Qa,W,Ra,Sa,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc={},mc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(a,c,g,d){this.set(a,c,g,d)}function p(){this.Fb=this.Eb=this.Hb=this.Gb=this.Sb=this.Rb=this.pb=this.ob=0}function m(a,c,g,d){a<c?g<d?(y=a<g?a:g,n=c>d?c:d):(y=a<d?a:d,n=c>g?c:g):g<d?(y=c<g?c:g,n=a>d?a:d):(y=c<d?c:d,n=a>g?a:g)}function q(){this.items=this.A=null;this.bh=0;Y&&(this.A=new Set);this.lg=[];this.ge=!0}function u(a){M[T++]=a}function t(){this.T=this.Qj=this.y=this.hk=0}function b(a){this.Ja=[];this.ei=this.gi=this.hi=this.fi=0;this.Hh(a)}function a(a,c){this.mk=a;
this.lk=c;this.cells={}}function e(a,c){this.mk=a;this.lk=c;this.cells={}}function w(a,c,g){var d;return G.length?(d=G.pop(),d.Qk=a,d.x=c,d.y=g,d):new ea(a,c,g)}function c(a,c,g){this.Qk=a;this.x=c;this.y=g;this.ab=new fa}function d(a,c,g){var d;return S.length?(d=S.pop(),d.Qk=a,d.x=c,d.y=g,d):new ga(a,c,g)}function l(a,c,g){this.Qk=a;this.x=c;this.y=g;this.ab=[];this.Of=!0;this.rd=new fa;this.qg=!1}function h(a,c){return a.dd-c.dd}ia=function(a){window.console&&window.console.log&&window.console.log(a)};
ka=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};la=function(a){return"undefined"===typeof a};ma=function(a){return"number"===typeof a};B=function(a){return"string"===typeof a};na=function(a){return 0<a&&0===(a-1&a)};oa=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};pa=function(a){return 0>a?-a:a};ra=function(a,c){return a>c?a:c};sa=function(a,c){return a<c?a:c};ta=Math.PI;K=function(a){return 0<=a?a|0:(a|0)-1};ua=function(a){var c=
a|0;return c===a?c:c+1};va=function(a,c,g,d,e,h,k,z){var v,C,A,b;a<g?(C=a,v=g):(C=g,v=a);e<k?(b=e,A=k):(b=k,A=e);if(v<b||C>A)return!1;c<d?(C=c,v=d):(C=d,v=c);h<z?(b=h,A=z):(b=z,A=h);if(v<b||C>A)return!1;v=e-a+k-g;C=h-c+z-d;a=g-a;c=d-c;e=k-e;h=z-h;z=pa(c*e-h*a);return pa(e*C-h*v)>z?!1:pa(a*C-c*v)<=z};f.prototype.set=function(a,c,g,d){this.left=a;this.top=c;this.right=g;this.bottom=d};f.prototype.vg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};f.prototype.width=
function(){return this.right-this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};f.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};f.prototype.Bt=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};f.prototype.Ct=
function(a,c,g){return!(a.right+c<this.left||a.bottom+g<this.top||a.left+c>this.right||a.top+g>this.bottom)};f.prototype.Vb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};f.prototype.Bg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};wa=f;p.prototype.tf=function(a){this.ob=a.left;this.pb=a.top;this.Rb=a.right;this.Sb=a.top;this.Gb=a.right;this.Hb=a.bottom;this.Eb=a.left;this.Fb=a.bottom};p.prototype.up=function(a,
c){if(0===c)this.tf(a);else{var g=Math.sin(c),d=Math.cos(c),e=a.left*g,h=a.top*g,k=a.right*g,g=a.bottom*g,z=a.left*d,v=a.top*d,C=a.right*d,d=a.bottom*d;this.ob=z-h;this.pb=v+e;this.Rb=C-h;this.Sb=v+k;this.Gb=C-g;this.Hb=d+k;this.Eb=z-g;this.Fb=d+e}};p.prototype.offset=function(a,c){this.ob+=a;this.pb+=c;this.Rb+=a;this.Sb+=c;this.Gb+=a;this.Hb+=c;this.Eb+=a;this.Fb+=c;return this};var y=0,n=0;p.prototype.Tm=function(a){m(this.ob,this.Rb,this.Gb,this.Eb);a.left=y;a.right=n;m(this.pb,this.Sb,this.Hb,
this.Fb);a.top=y;a.bottom=n};p.prototype.Vb=function(a,c){var g=this.ob,d=this.pb,e=this.Rb-g,h=this.Sb-d,k=this.Gb-g,z=this.Hb-d,v=a-g,C=c-d,A=e*e+h*h,b=e*k+h*z,h=e*v+h*C,w=k*k+z*z,l=k*v+z*C,f=1/(A*w-b*b),e=(w*h-b*l)*f,A=(A*l-b*h)*f;if(0<=e&&0<A&&1>e+A)return!0;e=this.Eb-g;h=this.Fb-d;A=e*e+h*h;b=e*k+h*z;h=e*v+h*C;f=1/(A*w-b*b);e=(w*h-b*l)*f;A=(A*l-b*h)*f;return 0<=e&&0<A&&1>e+A};p.prototype.ee=function(a,c){if(c)switch(a){case 0:return this.ob;case 1:return this.Rb;case 2:return this.Gb;case 3:return this.Eb;
case 4:return this.ob;default:return this.ob}else switch(a){case 0:return this.pb;case 1:return this.Sb;case 2:return this.Hb;case 3:return this.Fb;case 4:return this.pb;default:return this.pb}};p.prototype.zo=function(){return(this.ob+this.Rb+this.Gb+this.Eb)/4};p.prototype.Ao=function(){return(this.pb+this.Sb+this.Hb+this.Fb)/4};p.prototype.Nn=function(a){var c=a.zo(),g=a.Ao();if(this.Vb(c,g))return!0;c=this.zo();g=this.Ao();if(a.Vb(c,g))return!0;var d,e,h,k,z,v,C,A;for(C=0;4>C;C++)for(A=0;4>A;A++)if(c=
this.ee(C,!0),g=this.ee(C,!1),d=this.ee(C+1,!0),e=this.ee(C+1,!1),h=a.ee(A,!0),k=a.ee(A,!1),z=a.ee(A+1,!0),v=a.ee(A+1,!1),va(c,g,d,e,h,k,z,v))return!0;return!1};xa=p;ya=function(a,c,g){return Math.max(Math.min(a,255),0)|Math.max(Math.min(c,255),0)<<8|Math.max(Math.min(g,255),0)<<16};za=function(a){return a&255};Aa=function(a){return(a&65280)>>8};Ba=function(a){return(a&16711680)>>16};Ea=function(a,c){for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g]);return a};Fa=function(a,c){var g,d;c=K(c);if(!(0>
c||c>=a.length)){g=c;for(d=a.length-1;g<d;g++)a[g]=a[g+1];Ga(a,d)}};Ga=function(a,c){a.length=c};Q=function(a){Ga(a,0)};Ha=function(a,c){Q(a);var g,d;g=0;for(d=c.length;g<d;++g)a[g]=c[g]};Ja=function(a,c){a.push.apply(a,c)};Ka=function(a,c){var g,d;g=0;for(d=a.length;g<d;++g)if(a[g]===c)return g;return-1};Na=function(a,c){var g=Ka(a,c);-1!==g&&Fa(a,g)};Oa=function(a,c,g){return a<c?c:a>g?g:a};V=function(a){return a/(180/ta)};Pa=function(a){return 180/ta*a};Qa=function(a){a%=360;0>a&&(a+=360);return a};
W=function(a){a%=2*ta;0>a&&(a+=2*ta);return a};Ra=function(a){return Qa(Pa(a))};Sa=function(a){return W(V(a))};Va=function(a,c,g,d){return Math.atan2(d-c,g-a)};Wa=function(a,c){if(a===c)return 0;var g=Math.sin(a),d=Math.cos(a),e=Math.sin(c),h=Math.cos(c),g=g*e+d*h;return 1<=g?0:-1>=g?ta:Math.acos(g)};Xa=function(a,c,g){var d=Math.sin(a),e=Math.cos(a),h=Math.sin(c),k=Math.cos(c);return Math.acos(d*h+e*k)>g?0<e*h-d*k?W(a+g):W(a-g):W(c)};Ya=function(a,c){var g=Math.sin(a),d=Math.cos(a),e=Math.sin(c),
h=Math.cos(c);return 0>=d*e-g*h};Za=function(a,c,g,d,e,h){if(0===g)return h?a:c;var k=Math.sin(g);g=Math.cos(g);a-=d;c-=e;var z=a*k;a=a*g-c*k;c=c*g+z;return h?a+d:c+e};$a=function(a,c,g,d){a=g-a;c=d-c;return Math.sqrt(a*a+c*c)};ab=function(a,c){return!a!==!c};bb=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};cb=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var r=+new Date;db=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==
typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-r};var g=!1,k=g=!1,x=!1;"undefined"!==typeof window&&(g=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),g=!g&&/safari/i.test(navigator.userAgent),k=/(iphone|ipod|ipad)/i.test(navigator.userAgent),x=window.c2ejecta);var Y=!g&&!x&&!k&&"undefined"!==typeof Set&&"undefined"!==
typeof Set.prototype.forEach;q.prototype.contains=function(a){return this.Ed()?!1:Y?this.A.has(a):this.items&&this.items.hasOwnProperty(a)};q.prototype.add=function(a){if(Y)this.A.has(a)||(this.A.add(a),this.ge=!1);else{var c=a.toString(),g=this.items;g?g.hasOwnProperty(c)||(g[c]=a,this.bh++,this.ge=!1):(this.items={},this.items[c]=a,this.bh=1,this.ge=!1)}};q.prototype.remove=function(a){if(!this.Ed())if(Y)this.A.has(a)&&(this.A["delete"](a),this.ge=!1);else if(this.items){a=a.toString();var c=this.items;
c.hasOwnProperty(a)&&(delete c[a],this.bh--,this.ge=!1)}};q.prototype.clear=function(){this.Ed()||(Y?this.A.clear():(this.items=null,this.bh=0),Q(this.lg),this.ge=!0)};q.prototype.Ed=function(){return 0===this.count()};q.prototype.count=function(){return Y?this.A.size:this.bh};var M=null,T=0;q.prototype.$u=function(){if(!this.ge){if(Y)Q(this.lg),M=this.lg,T=0,this.A.forEach(u),M=null,T=0;else{var a=this.lg;Q(a);var c,g=0,d=this.items;if(d)for(c in d)d.hasOwnProperty(c)&&(a[g++]=d[c])}this.ge=!0}};
q.prototype.Wd=function(){this.$u();return this.lg};fa=q;var P=new fa;eb=function(a){var c,g;c=0;for(g=a.length;c<g;++c)P.add(a[c]);Ha(a,P.Wd());P.clear()};fb=function(a,c){Y?gb(a,c.A):jb(a,c.Wd())};gb=function(a,c){var g,d,e,h;d=g=0;for(e=a.length;g<e;++g)h=a[g],c.has(h)||(a[d++]=h);Ga(a,d)};jb=function(a,c){var g,d,e,h;d=g=0;for(e=a.length;g<e;++g)h=a[g],-1===Ka(c,h)&&(a[d++]=h);Ga(a,d)};t.prototype.add=function(a){this.y=a-this.hk;this.Qj=this.T+this.y;this.hk=this.Qj-this.T-this.y;this.T=this.Qj};
t.prototype.reset=function(){this.T=this.Qj=this.y=this.hk=0};kb=t;lb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.Hh=function(a){this.$o=a;this.Dc=a.length/2;this.Ja.length=a.length;this.ji=this.ki=-1;this.Wm=0};b.prototype.qe=function(){return!this.$o.length};b.prototype.pa=function(){for(var a=this.Ja,c=a[0],g=c,d=a[1],e=d,h,k,z=1,v=this.Dc;z<v;++z)k=2*z,h=a[k],k=a[k+1],h<c&&(c=h),h>g&&(g=h),k<d&&(d=k),k>e&&(e=k);this.fi=c;this.gi=g;this.hi=d;this.ei=e};b.prototype.tf=
function(a,c,g){this.Ja.length=8;this.Dc=4;var d=this.Ja;d[0]=a.left-c;d[1]=a.top-g;d[2]=a.right-c;d[3]=a.top-g;d[4]=a.right-c;d[5]=a.bottom-g;d[6]=a.left-c;d[7]=a.bottom-g;this.ki=a.right-a.left;this.ji=a.bottom-a.top;this.pa()};b.prototype.De=function(a,c,g,d,e){this.Ja.length=8;this.Dc=4;var h=this.Ja;h[0]=a.ob-c;h[1]=a.pb-g;h[2]=a.Rb-c;h[3]=a.Sb-g;h[4]=a.Gb-c;h[5]=a.Hb-g;h[6]=a.Eb-c;h[7]=a.Fb-g;this.ki=d;this.ji=e;this.pa()};b.prototype.tp=function(a){this.Dc=a.Dc;Ha(this.Ja,a.Ja);this.fi=a.fi;
this.hi-a.hi;this.gi=a.gi;this.ei=a.ei};b.prototype.fe=function(a,c,g){if(this.ki!==a||this.ji!==c||this.Wm!==g){this.ki=a;this.ji=c;this.Wm=g;var d,e,h,k,z,v=0,C=1,A=this.$o,b=this.Ja;0!==g&&(v=Math.sin(g),C=Math.cos(g));g=0;for(h=this.Dc;g<h;g++)d=2*g,e=d+1,k=A[d]*a,z=A[e]*c,b[d]=k*C-z*v,b[e]=z*C+k*v;this.pa()}};b.prototype.Vb=function(a,c){var g=this.Ja;if(a===g[0]&&c===g[1])return!0;var d,e,h,k=this.Dc,z=this.fi-110,v=this.hi-101,C=this.gi+131,A=this.ei+120,b,w,l=0,f=0;for(d=0;d<k;d++)e=2*d,h=
(d+1)%k*2,b=g[e],e=g[e+1],w=g[h],h=g[h+1],va(z,v,a,c,b,e,w,h)&&l++,va(C,A,a,c,b,e,w,h)&&f++;return 1===l%2||1===f%2};b.prototype.Pg=function(a,c,g){var d=a.Ja,e=this.Ja;if(this.Vb(d[0]+c,d[1]+g)||a.Vb(e[0]-c,e[1]-g))return!0;var h,k,z,v,C,A,b,w,l,f,r,y;h=0;for(v=this.Dc;h<v;h++)for(k=2*h,z=(h+1)%v*2,w=e[k],k=e[k+1],l=e[z],f=e[z+1],z=0,b=a.Dc;z<b;z++)if(C=2*z,A=(z+1)%b*2,r=d[C]+c,C=d[C+1]+g,y=d[A]+c,A=d[A+1]+g,va(w,k,l,f,r,C,y,A))return!0;return!1};mb=b;a.prototype.ne=function(a,c,g){var d;d=this.cells[a];
return d?(d=d[c])?d:g?(d=w(this,a,c),this.cells[a][c]=d):null:g?(d=w(this,a,c),this.cells[a]={},this.cells[a][c]=d):null};a.prototype.Cb=function(a){return K(a/this.mk)};a.prototype.Db=function(a){return K(a/this.lk)};a.prototype.update=function(a,c,g){var d,e,h,k,z;if(c)for(d=c.left,e=c.right;d<=e;++d)for(h=c.top,k=c.bottom;h<=k;++h)if(!g||!g.Vb(d,h))if(z=this.ne(d,h,!1))z.remove(a),z.Ed()&&(z.ab.clear(),1E3>G.length&&G.push(z),this.cells[d][h]=null);if(g)for(d=g.left,e=g.right;d<=e;++d)for(h=g.top,
k=g.bottom;h<=k;++h)c&&c.Vb(d,h)||this.ne(d,h,!0).Vk(a)};a.prototype.Ej=function(a,c){var g,d,e,h,k,z;g=this.Cb(a.left);e=this.Db(a.top);d=this.Cb(a.right);for(k=this.Db(a.bottom);g<=d;++g)for(h=e;h<=k;++h)(z=this.ne(g,h,!1))&&z.dump(c)};nb=a;e.prototype.ne=function(a,c,g){var e;e=this.cells[a];return e?(e=e[c])?e:g?(e=d(this,a,c),this.cells[a][c]=e):null:g?(e=d(this,a,c),this.cells[a]={},this.cells[a][c]=e):null};e.prototype.Cb=function(a){return K(a/this.mk)};e.prototype.Db=function(a){return K(a/
this.lk)};e.prototype.update=function(a,c,g){var d,e,h,k,z;if(c)for(d=c.left,e=c.right;d<=e;++d)for(h=c.top,k=c.bottom;h<=k;++h)if(!g||!g.Vb(d,h))if(z=this.ne(d,h,!1))z.remove(a),z.Ed()&&(z.reset(),1E3>S.length&&S.push(z),this.cells[d][h]=null);if(g)for(d=g.left,e=g.right;d<=e;++d)for(h=g.top,k=g.bottom;h<=k;++h)c&&c.Vb(d,h)||this.ne(d,h,!0).Vk(a)};e.prototype.Ej=function(a,c,g,d,e){var h,k;a=this.Cb(a);c=this.Db(c);g=this.Cb(g);for(h=this.Db(d);a<=g;++a)for(d=c;d<=h;++d)(k=this.ne(a,d,!1))&&k.dump(e)};
e.prototype.St=function(a){var c,g,d,e,h;c=a.left;d=a.top;g=a.right;for(e=a.bottom;c<=g;++c)for(a=d;a<=e;++a)if(h=this.ne(c,a,!1))h.Of=!1};ob=e;var G=[];c.prototype.Ed=function(){return this.ab.Ed()};c.prototype.Vk=function(a){this.ab.add(a)};c.prototype.remove=function(a){this.ab.remove(a)};c.prototype.dump=function(a){Ja(a,this.ab.Wd())};ea=c;var S=[];l.prototype.Ed=function(){if(!this.ab.length)return!0;if(this.ab.length>this.rd.count())return!1;this.Ck();return!0};l.prototype.Vk=function(a){this.rd.contains(a)?
(this.rd.remove(a),this.rd.Ed()&&(this.qg=!1)):this.ab.length?(this.ab[this.ab.length-1].md()>a.md()&&(this.Of=!1),this.ab.push(a)):(this.ab.push(a),this.Of=!0)};l.prototype.remove=function(a){this.rd.add(a);this.qg=!0;30<=this.rd.count()&&this.Ck()};l.prototype.Ck=function(){this.qg&&(this.rd.count()===this.ab.length?this.reset():(fb(this.ab,this.rd),this.rd.clear(),this.qg=!1))};l.prototype.$r=function(){this.Of||(this.ab.sort(h),this.Of=!0)};l.prototype.reset=function(){Q(this.ab);this.Of=!0;this.rd.clear();
this.qg=!1};l.prototype.dump=function(a){this.Ck();this.$r();this.ab.length&&a.push(this.ab)};ga=l;var F="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");pb=function(a){return 0>=a||11<=a?"source-over":F[a-1]};qb=function(a,c,g){if(g)switch(a.zb=g.ONE,a.wb=g.ONE_MINUS_SRC_ALPHA,c){case 1:a.zb=g.ONE;a.wb=g.ONE;break;case 3:a.zb=g.ONE;a.wb=g.ZERO;break;case 4:a.zb=g.ONE_MINUS_DST_ALPHA;a.wb=g.ONE;break;case 5:a.zb=g.DST_ALPHA;
a.wb=g.ZERO;break;case 6:a.zb=g.ZERO;a.wb=g.SRC_ALPHA;break;case 7:a.zb=g.ONE_MINUS_DST_ALPHA;a.wb=g.ZERO;break;case 8:a.zb=g.ZERO;a.wb=g.ONE_MINUS_SRC_ALPHA;break;case 9:a.zb=g.DST_ALPHA;a.wb=g.ONE_MINUS_SRC_ALPHA;break;case 10:a.zb=g.ONE_MINUS_DST_ALPHA,a.wb=g.SRC_ALPHA}};rb=function(a){return Math.round(1E6*a)/1E6};sb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};tb=function(a){a=a.target;return!a||a===document||
a===window||document&&document.body&&a===document.body||sb(a.tagName,"canvas")?!0:!1}})();var nc="undefined"!==typeof Float32Array?Float32Array:Array;function oc(f){var p=new nc(3);f&&(p[0]=f[0],p[1]=f[1],p[2]=f[2]);return p}function pc(f){var p=new nc(16);f&&(p[0]=f[0],p[1]=f[1],p[2]=f[2],p[3]=f[3],p[4]=f[4],p[5]=f[5],p[6]=f[6],p[7]=f[7],p[8]=f[8],p[9]=f[9],p[10]=f[10],p[11]=f[11],p[12]=f[12],p[13]=f[13],p[14]=f[14],p[15]=f[15]);return p}
function qc(f,p){p[0]=f[0];p[1]=f[1];p[2]=f[2];p[3]=f[3];p[4]=f[4];p[5]=f[5];p[6]=f[6];p[7]=f[7];p[8]=f[8];p[9]=f[9];p[10]=f[10];p[11]=f[11];p[12]=f[12];p[13]=f[13];p[14]=f[14];p[15]=f[15]}function rc(f,p){var m=p[0],q=p[1];p=p[2];f[0]*=m;f[1]*=m;f[2]*=m;f[3]*=m;f[4]*=q;f[5]*=q;f[6]*=q;f[7]*=q;f[8]*=p;f[9]*=p;f[10]*=p;f[11]*=p}
function sc(f,p,m,q){q||(q=pc());var u,t,b,a,e,w,c,d,l=f[0],h=f[1];f=f[2];t=m[0];b=m[1];u=m[2];m=p[1];w=p[2];l===p[0]&&h===m&&f===w?(f=q,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(m=l-p[0],w=h-p[1],c=f-p[2],d=1/Math.sqrt(m*m+w*w+c*c),m*=d,w*=d,c*=d,p=b*c-u*w,u=u*m-t*c,t=t*w-b*m,(d=Math.sqrt(p*p+u*u+t*t))?(d=1/d,p*=d,u*=d,t*=d):t=u=p=0,b=w*t-c*u,a=c*p-m*t,e=m*u-w*p,(d=Math.sqrt(b*b+a*a+e*e))?(d=1/d,b*=d,a*=d,e*=d):e=a=b=0,
q[0]=p,q[1]=b,q[2]=m,q[3]=0,q[4]=u,q[5]=a,q[6]=w,q[7]=0,q[8]=t,q[9]=e,q[10]=c,q[11]=0,q[12]=-(p*l+u*h+t*f),q[13]=-(b*l+a*h+e*f),q[14]=-(m*l+w*h+c*f),q[15]=1)}
(function(){function f(a,e,b){this.Fd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.la=!!b;this.Xi=this.Rg=!1;this.ti=0;this.Zj=1;this.Dm=1E3;this.gv=(this.Dm-this.Zj)/32768;this.jk=oc([0,0,100]);this.io=oc([0,0,0]);this.Tp=oc([0,1,0]);this.Vh=oc([1,1,1]);this.ln=!0;this.sj=pc();this.sc=pc();this.hl=pc();this.sk=pc();this.p=a;this.version=0===this.p.getParameter(this.p.VERSION).indexOf("WebGL 2")?2:1;this.Jn()}function p(a,e,b){this.p=a;this.Ih=
e;this.name=b;this.Bc=a.getAttribLocation(e,"aPos");this.ye=a.getAttribLocation(e,"aTex");this.fo=a.getUniformLocation(e,"matP");this.nj=a.getUniformLocation(e,"matMV");this.Vf=a.getUniformLocation(e,"opacity");this.pl=a.getUniformLocation(e,"colorFill");this.ho=a.getUniformLocation(e,"samplerFront");this.lh=a.getUniformLocation(e,"samplerBack");this.hf=a.getUniformLocation(e,"destStart");this.gf=a.getUniformLocation(e,"destEnd");this.nh=a.getUniformLocation(e,"seconds");this.rl=a.getUniformLocation(e,
"pixelWidth");this.ql=a.getUniformLocation(e,"pixelHeight");this.kh=a.getUniformLocation(e,"layerScale");this.jh=a.getUniformLocation(e,"layerAngle");this.oh=a.getUniformLocation(e,"viewOrigin");this.mh=a.getUniformLocation(e,"scrollPos");this.wt=!!(this.rl||this.ql||this.nh||this.lh||this.hf||this.gf||this.kh||this.jh||this.oh||this.mh);this.qo=this.ro=-999;this.rj=1;this.mo=this.lo=0;this.oo=this.ko=this.jo=1;this.uo=this.to=this.so=this.wo=this.vo=this.no=0;this.gl=[];this.po=pc();this.Vf&&a.uniform1f(this.Vf,
1);this.pl&&a.uniform4f(this.pl,1,1,1,1);this.ho&&a.uniform1i(this.ho,0);this.lh&&a.uniform1i(this.lh,1);this.hf&&a.uniform2f(this.hf,0,0);this.gf&&a.uniform2f(this.gf,1,1);this.kh&&a.uniform1f(this.kh,1);this.jh&&a.uniform1f(this.jh,0);this.oh&&a.uniform2f(this.oh,0,0);this.mh&&a.uniform2f(this.mh,0,0);this.nh&&a.uniform1f(this.nh,0);this.Xe=!1}function m(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&
a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===e[15]}function q(a,e){this.type=a;this.j=e;this.p=e.p;this.pc=this.Ab=this.Lo=0;this.O=this.Ic=null;this.vp=[]}var u=pc();f.prototype.Jn=function(){var a=this.p,e;this.Yn=1;this.df=this.se=null;this.si=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.la?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Zn=a.ONE;this.Vn=a.ONE_MINUS_SRC_ALPHA;this.Uh=new Float32Array(8E3*(this.la?3:2));this.Nh=new Float32Array(16E3);this.Wo=new Float32Array(32E3);this.Ll=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ll);a.bufferData(a.ARRAY_BUFFER,this.Wo.byteLength,a.DYNAMIC_DRAW);this.Th=Array(4);this.Mh=Array(4);for(e=0;4>e;e++)this.Th[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Th[e]),a.bufferData(a.ARRAY_BUFFER,this.Uh.byteLength,a.DYNAMIC_DRAW),this.Mh[e]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Mh[e]),a.bufferData(a.ARRAY_BUFFER,this.Nh.byteLength,a.DYNAMIC_DRAW);this.xd=0;this.zt=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.zt);for(var b=new Uint16Array(12E3),c=e=0;12E3>e;)b[e++]=c,b[e++]=c+1,b[e++]=c+2,b[e++]=c,b[e++]=c+2,b[e++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.Ml=this.Fe=this.Kc=0;this.Da=[];e=this.la?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";b=this.wg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.Da.push(b);b=this.wg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Da.push(b);b=this.wg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.Da.push(b);b=this.wg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.Da.push(b);for(var d in tc)tc.hasOwnProperty(d)&&this.Da.push(this.wg(tc[d],e,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.gd=[];this.Oc=0;this.Ya=!1;this.gn=this.eh=-1;this.Ef=null;this.Ak=a.createFramebuffer();this.yi=this.Fj=null;this.Qm=!1;this.la&&(this.yi=a.createRenderbuffer());this.He=oc([0,0,0]);this.xo=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.xo&&(this.xo=2048);this.Qb(0)};p.prototype.wm=function(a){m(this.po,a)||(qc(a,this.po),this.p.uniformMatrix4fv(this.nj,
!1,a))};f.prototype.wg=function(a,e,b){var c=this.p,d=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(d,a.src);c.compileShader(d);if(!c.getShaderParameter(d,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(d),c.deleteShader(d),Error("error compiling fragment shader: "+a);var l=c.createShader(c.VERTEX_SHADER);c.shaderSource(l,e);c.compileShader(l);if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(l),c.deleteShader(d),c.deleteShader(l),Error("error compiling vertex shader: "+a);e=
c.createProgram();c.attachShader(e,d);c.attachShader(e,l);c.linkProgram(e);if(!c.getProgramParameter(e,c.LINK_STATUS))throw a=c.getProgramInfoLog(e),c.deleteShader(d),c.deleteShader(l),c.deleteProgram(e),Error("error linking shader program: "+a);c.useProgram(e);c.deleteShader(d);c.deleteShader(l);d=new p(c,e,b);d.Fg=a.Fg||0;d.Gg=a.Gg||0;d.pi=!!a.pi;d.tc=!!a.tc;d.bi=!!a.bi;d.M=a.M||[];a=0;for(l=d.M.length;a<l;a++)d.M[a][1]=c.getUniformLocation(e,d.M[a][0]),d.gl.push(0),c.uniform1f(d.M[a][1],0);return d};
f.prototype.Ok=function(a){var e,b;e=0;for(b=this.Da.length;e<b;e++)if(this.Da[e].name===a)return e;return-1};f.prototype.Zo=function(a,e,b){var c=this.sc,d=this.sj,l=[0,0,0,0,0,0,0,0];l[0]=c[0]*a+c[4]*e+c[12];l[1]=c[1]*a+c[5]*e+c[13];l[2]=c[2]*a+c[6]*e+c[14];l[3]=c[3]*a+c[7]*e+c[15];l[4]=d[0]*l[0]+d[4]*l[1]+d[8]*l[2]+d[12]*l[3];l[5]=d[1]*l[0]+d[5]*l[1]+d[9]*l[2]+d[13]*l[3];l[6]=d[2]*l[0]+d[6]*l[1]+d[10]*l[2]+d[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],b[0]=(.5*l[4]+
.5)*this.width,b[1]=(.5*l[5]+.5)*this.height)};f.prototype.sf=function(a,e,b){if(this.width!==a||this.height!==e||b){this.zd();b=this.p;this.width=a;this.height=e;b.viewport(0,0,a,e);sc(this.jk,this.io,this.Tp,this.sc);if(this.la){var c=-a/2;a=a/2;var d=e/2;e=-e/2;var l=this.Zj,h=this.Dm,f=this.sj;f||(f=pc());var n=a-c,r=e-d,g=h-l;f[0]=2/n;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/r;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=-2/g;f[11]=0;f[12]=-(c+a)/n;f[13]=-(e+d)/r;f[14]=-(h+l)/g;f[15]=1;this.Vh[0]=1;this.Vh[1]=
1}else e=a/e,c=this.Zj,a=this.Dm,f=this.sj,h=c*Math.tan(45*Math.PI/360),e*=h,d=-e,l=-h,f||(f=pc()),n=e-d,r=h-l,g=a-c,f[0]=2*c/n,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2*c/r,f[6]=0,f[7]=0,f[8]=(e+d)/n,f[9]=(h+l)/r,f[10]=-(a+c)/g,f[11]=-1,f[12]=0,f[13]=0,f[14]=-(a*c*2)/g,f[15]=0,c=[0,0],a=[0,0],this.Zo(0,0,c),this.Zo(1,1,a),this.Vh[0]=1/(a[0]-c[0]),this.Vh[1]=-1/(a[1]-c[1]);c=0;for(a=this.Da.length;c<a;c++)d=this.Da[c],d.Xe=!1,d.fo&&(b.useProgram(d.Ih),b.uniformMatrix4fv(d.fo,!1,this.sj));b.useProgram(this.Da[this.eh].Ih);
b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);this.df=this.se=null;this.yi&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Ak),b.bindRenderbuffer(b.RENDERBUFFER,this.yi),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,this.width,this.height),this.Qm||(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,this.yi),this.Qm=!0),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),
this.Fj=null)}};f.prototype.Fc=function(){sc(this.jk,this.io,this.Tp,this.sc);rc(this.sc,this.Vh)};f.prototype.translate=function(a,e){if(0!==a||0!==e){this.He[0]=a;this.He[1]=e;this.He[2]=0;var b=this.sc,c=this.He,d=c[0],l=c[1],c=c[2];b[12]=b[0]*d+b[4]*l+b[8]*c+b[12];b[13]=b[1]*d+b[5]*l+b[9]*c+b[13];b[14]=b[2]*d+b[6]*l+b[10]*c+b[14];b[15]=b[3]*d+b[7]*l+b[11]*c+b[15]}};f.prototype.scale=function(a,e){if(1!==a||1!==e)this.He[0]=a,this.He[1]=e,this.He[2]=1,rc(this.sc,this.He)};f.prototype.Hj=function(a){if(0!==
a){var e=this.sc,b,c=Math.sin(a);a=Math.cos(a);var d=e[0],l=e[1],h=e[2],f=e[3],n=e[4],r=e[5],g=e[6],k=e[7];b?e!==b&&(b[8]=e[8],b[9]=e[9],b[10]=e[10],b[11]=e[11],b[12]=e[12],b[13]=e[13],b[14]=e[14],b[15]=e[15]):b=e;b[0]=d*a+n*c;b[1]=l*a+r*c;b[2]=h*a+g*c;b[3]=f*a+k*c;b[4]=d*-c+n*a;b[5]=l*-c+r*a;b[6]=h*-c+g*a;b[7]=f*-c+k*a}};f.prototype.vc=function(){if(!m(this.hl,this.sc)){var a=this.Mb();a.type=5;a.O?qc(this.sc,a.O):a.O=pc(this.sc);qc(this.sc,this.hl);this.Ya=!1}};f.prototype.Lj=function(a){this.la&&
(32760<a&&(a=32760),this.ti=this.jk[2]-this.Zj-a*this.gv)};q.prototype.Kr=function(){var a=this.p,e=this.j;0!==this.Ab?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,e.Ak),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),e.Xi=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),e.Xi=!1)};q.prototype.Or=function(){this.p.bindTexture(this.p.TEXTURE_2D,
this.Ic)};q.prototype.Pr=function(){var a=this.p;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ic);a.activeTexture(a.TEXTURE0)};q.prototype.Lr=function(){var a=this.Lo,e=this.j;e.si=a;e=e.Ef;e.Vf&&e.rj!==a&&(e.rj=a,this.p.uniform1f(e.Vf,a))};q.prototype.Fr=function(){this.p.drawElements(this.p.TRIANGLES,this.pc,this.p.UNSIGNED_SHORT,this.Ab)};q.prototype.Hr=function(){this.p.blendFunc(this.Ab,this.pc)};q.prototype.Qr=function(){var a,e,b,c=this.j.Da,d=this.j.gn;a=0;for(e=c.length;a<
e;a++)b=c[a],a===d&&b.nj?(b.wm(this.O),b.Xe=!0):b.Xe=!1;qc(this.O,this.j.sk)};q.prototype.Gr=function(){var a=this.p,e=this.j;this.Ic?(e.df===this.Ic&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),e.df=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,e.Ak),e.Xi||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ic,0)):(e.la||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
q.prototype.Cr=function(){var a=this.p,e=this.Ab;0===e?(a.clearColor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clear(a.COLOR_BUFFER_BIT)):1===e?(a.enable(a.SCISSOR_TEST),a.scissor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};q.prototype.Jr=function(){var a=this.p;0!==this.Ab?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};q.prototype.Er=function(){var a=this.p,e=this.j;e.la&&a.disable(a.DEPTH_TEST);
var b=e.Da[1];a.useProgram(b.Ih);!b.Xe&&b.nj&&(b.wm(e.sk),b.Xe=!0);a.enableVertexAttribArray(b.Bc);a.bindBuffer(a.ARRAY_BUFFER,e.Ll);a.vertexAttribPointer(b.Bc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Ab/4,this.pc);b=e.Ef;a.useProgram(b.Ih);0<=b.Bc&&(a.enableVertexAttribArray(b.Bc),a.bindBuffer(a.ARRAY_BUFFER,e.Th[e.xd]),a.vertexAttribPointer(b.Bc,e.la?3:2,a.FLOAT,!1,0,0));0<=b.ye&&(a.enableVertexAttribArray(b.ye),a.bindBuffer(a.ARRAY_BUFFER,e.Mh[e.xd]),a.vertexAttribPointer(b.ye,2,a.FLOAT,!1,
0,0));e.la&&a.enable(a.DEPTH_TEST)};q.prototype.Mr=function(){var a=this.p,e=this.j,b=e.Da[this.Ab];e.gn=this.Ab;e.Ef=b;a.useProgram(b.Ih);!b.Xe&&b.nj&&(b.wm(e.sk),b.Xe=!0);b.Vf&&b.rj!==e.si&&(b.rj=e.si,a.uniform1f(b.Vf,e.si));0<=b.Bc&&(a.enableVertexAttribArray(b.Bc),a.bindBuffer(a.ARRAY_BUFFER,e.Th[e.xd]),a.vertexAttribPointer(b.Bc,e.la?3:2,a.FLOAT,!1,0,0));0<=b.ye&&(a.enableVertexAttribArray(b.ye),a.bindBuffer(a.ARRAY_BUFFER,e.Mh[e.xd]),a.vertexAttribPointer(b.ye,2,a.FLOAT,!1,0,0))};q.prototype.Ir=
function(){var a=this.O;this.p.uniform4f(this.j.Ef.pl,a[0],a[1],a[2],a[3])};q.prototype.Nr=function(){var a,e,b=this.j.Ef,c=this.p;a=this.O;b.lh&&this.j.df!==this.Ic&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Ic),this.j.df=this.Ic,c.activeTexture(c.TEXTURE0));var d=a[0];b.rl&&d!==b.ro&&(b.ro=d,c.uniform1f(b.rl,d));d=a[1];b.ql&&d!==b.qo&&(b.qo=d,c.uniform1f(b.ql,d));d=a[2];e=a[3];!b.hf||d===b.lo&&e===b.mo||(b.lo=d,b.mo=e,c.uniform2f(b.hf,d,e));d=a[4];e=a[5];!b.gf||d===b.jo&&e===
b.ko||(b.jo=d,b.ko=e,c.uniform2f(b.gf,d,e));d=a[6];b.kh&&d!==b.oo&&(b.oo=d,c.uniform1f(b.kh,d));d=a[7];b.jh&&d!==b.no&&(b.no=d,c.uniform1f(b.jh,d));d=a[8];e=a[9];!b.oh||d===b.vo&&e===b.wo||(b.vo=d,b.wo=e,c.uniform2f(b.oh,d,e));d=a[10];e=a[11];!b.mh||d===b.so&&e===b.to||(b.so=d,b.to=e,c.uniform2f(b.mh,d,e));d=a[12];b.nh&&d!==b.uo&&(b.uo=d,c.uniform1f(b.nh,d));if(b.M.length)for(a=0,e=b.M.length;a<e;a++)d=this.vp[a],d!==b.gl[a]&&(b.gl[a]=d,c.uniform1f(b.M[a][1],d))};f.prototype.Mb=function(){this.Oc===
this.gd.length&&this.gd.push(new q(0,this));return this.gd[this.Oc++]};f.prototype.zd=function(){if(0!==this.Oc&&!this.p.isContextLost()){var a=this.p;0<this.Ml&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ll),a.bufferSubData(a.ARRAY_BUFFER,0,this.Wo.subarray(0,this.Ml)),b&&0<=b.Bc&&"<point>"===b.name&&a.vertexAttribPointer(b.Bc,4,a.FLOAT,!1,0,0));if(0<this.Kc){var b=this.Ef;a.bindBuffer(a.ARRAY_BUFFER,this.Th[this.xd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Uh.subarray(0,this.Kc));b&&0<=b.Bc&&"<point>"!==b.name&&
a.vertexAttribPointer(b.Bc,this.la?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Mh[this.xd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Nh.subarray(0,this.Fe));b&&0<=b.ye&&"<point>"!==b.name&&a.vertexAttribPointer(b.ye,2,a.FLOAT,!1,0,0)}for(var f,a=0,b=this.Oc;a<b;a++)switch(f=this.gd[a],f.type){case 1:f.Fr();break;case 2:f.Or();break;case 3:f.Lr();break;case 4:f.Hr();break;case 5:f.Qr();break;case 6:f.Gr();break;case 7:f.Cr();break;case 8:f.Er();break;case 9:f.Mr();break;case 10:f.Nr();break;
case 11:f.Pr();break;case 12:f.Ir();break;case 13:f.Jr();break;case 14:f.Kr()}this.Ml=this.Fe=this.Kc=this.Oc=0;this.Xi=this.Ya=!1;this.xd++;4<=this.xd&&(this.xd=0)}};f.prototype.rf=function(a){if(a!==this.Yn&&!this.Rg){var b=this.Mb();b.type=3;this.Yn=b.Lo=a;this.Ya=!1}};f.prototype.cb=function(a){if(a!==this.se){var b=this.Mb();b.type=2;this.se=b.Ic=a;this.Ya=!1}};f.prototype.Ce=function(a,b){if((a!==this.Zn||b!==this.Vn)&&!this.Rg){var f=this.Mb();f.type=4;f.Ab=a;f.pc=b;this.Zn=a;this.Vn=b;this.Ya=
!1}};f.prototype.lp=function(){this.Ce(this.p.ONE,this.p.ONE_MINUS_SRC_ALPHA)};f.prototype.pf=function(a,b,f,c,d,l,h,y){15992<=this.Kc&&this.zd();var n=this.Kc,r=this.Fe,g=this.Uh,k=this.Nh,x=this.ti;if(this.Ya)this.gd[this.Oc-1].pc+=6;else{var p=this.Mb();p.type=1;p.Ab=this.la?n:n/2*3;p.pc=6;this.Ya=!0}this.la?(g[n++]=a,g[n++]=b,g[n++]=x,g[n++]=f,g[n++]=c,g[n++]=x,g[n++]=d,g[n++]=l,g[n++]=x,g[n++]=h,g[n++]=y,g[n++]=x):(g[n++]=a,g[n++]=b,g[n++]=f,g[n++]=c,g[n++]=d,g[n++]=l,g[n++]=h,g[n++]=y);k[r++]=
0;k[r++]=0;k[r++]=1;k[r++]=0;k[r++]=1;k[r++]=1;k[r++]=0;k[r++]=1;this.Kc=n;this.Fe=r};f.prototype.Be=function(a,b,f,c,d,l,h,y,n){15992<=this.Kc&&this.zd();var r=this.Kc,g=this.Fe,k=this.Uh,x=this.Nh,p=this.ti;if(this.Ya)this.gd[this.Oc-1].pc+=6;else{var M=this.Mb();M.type=1;M.Ab=this.la?r:r/2*3;M.pc=6;this.Ya=!0}var M=n.left,m=n.top,q=n.right;n=n.bottom;this.la?(k[r++]=a,k[r++]=b,k[r++]=p,k[r++]=f,k[r++]=c,k[r++]=p,k[r++]=d,k[r++]=l,k[r++]=p,k[r++]=h,k[r++]=y,k[r++]=p):(k[r++]=a,k[r++]=b,k[r++]=f,
k[r++]=c,k[r++]=d,k[r++]=l,k[r++]=h,k[r++]=y);x[g++]=M;x[g++]=m;x[g++]=q;x[g++]=m;x[g++]=q;x[g++]=n;x[g++]=M;x[g++]=n;this.Kc=r;this.Fe=g};f.prototype.cp=function(a,b,f,c,d,l,h,y,n,r,g,k,x){15992<=this.Kc&&this.zd();var p=this.Kc,M=this.Fe,m=this.Uh,q=this.Nh,u=this.ti;if(this.Ya)this.gd[this.Oc-1].pc+=6;else{var t=this.Mb();t.type=1;t.Ab=this.la?p:p/2*3;t.pc=6;this.Ya=!0}this.la?(m[p++]=a,m[p++]=b,m[p++]=u,m[p++]=f,m[p++]=c,m[p++]=u,m[p++]=d,m[p++]=l,m[p++]=u,m[p++]=h,m[p++]=y,m[p++]=u):(m[p++]=
a,m[p++]=b,m[p++]=f,m[p++]=c,m[p++]=d,m[p++]=l,m[p++]=h,m[p++]=y);q[M++]=n;q[M++]=r;q[M++]=g;q[M++]=0;q[M++]=k;q[M++]=0;q[M++]=x;q[M++]=0;this.Kc=p;this.Fe=M};f.prototype.bn=function(a){var b=a.length/2-2,f=b-1,c=a[0],d=a[1],l,h,y,n,r,g,k;for(l=0;l<b;l+=2)h=2*l,y=a[h+2],n=a[h+3],r=a[h+4],g=a[h+5],l===f?this.pf(c,d,y,n,r,g,r,g):(k=a[h+6],h=a[h+7],this.pf(c,d,y,n,r,g,k,h))};f.prototype.Qb=function(a){if(this.eh!==a){if(!this.Da[a]){if(0===this.eh)return;a=0}var b=this.Mb();b.type=9;this.eh=b.Ab=a;this.Ya=
!1}};f.prototype.zh=function(a){a=this.Da[a];return!(!a.hf&&!a.gf)};f.prototype.Ol=function(a){a=this.Da[a];return!!(a.hf||a.gf||a.pi)};f.prototype.Nl=function(a){return this.Da[a].tc};f.prototype.nu=function(a){a=this.Da[a];return 0!==a.Fg||0!==a.Gg};f.prototype.$s=function(a){return this.Da[a].Fg};f.prototype.bt=function(a){return this.Da[a].Gg};f.prototype.ct=function(a,b){return this.Da[a].M[b][2]};f.prototype.Cj=function(a){return this.Da[a].bi};f.prototype.hg=function(a,b,f,c,d,l,h,y,n,r,g,
k,x,p,M){var m=this.Da[this.eh],q,u;if(m.wt||M.length){q=this.Mb();q.type=10;q.O?qc(this.sc,q.O):q.O=pc();u=q.O;u[0]=b;u[1]=f;u[2]=c;u[3]=d;u[4]=l;u[5]=h;u[6]=y;u[7]=n;u[8]=r;u[9]=g;u[10]=k;u[11]=x;u[12]=p;m.lh?q.Ic=a:q.Ic=null;if(M.length)for(f=q.vp,f.length=M.length,a=0,b=M.length;a<b;a++)f[a]=M[a];this.Ya=!1}};f.prototype.clear=function(a,b,f,c){var d=this.Mb();d.type=7;d.Ab=0;d.O||(d.O=pc());d.O[0]=a;d.O[1]=b;d.O[2]=f;d.O[3]=c;this.Ya=!1};f.prototype.clearRect=function(a,b,f,c){if(!(0>f||0>c)){var d=
this.Mb();d.type=7;d.Ab=1;d.O||(d.O=pc());d.O[0]=a;d.O[1]=b;d.O[2]=f;d.O[3]=c;this.Ya=!1}};f.prototype.op=function(a){if(this.la&&(a=!!a,this.Rg!==a)){var b=this.Mb();b.type=14;b.Ab=a?1:0;this.Ya=!1;this.Rg=a;this.Fj=null;this.Rg?this.Qb(2):this.Qb(0)}};f.prototype.np=function(a){if(this.la){var b=this.Mb();b.type=13;b.Ab=a?1:0;this.Ya=!1}};f.prototype.un=function(){qc(this.hl,u);this.Fc();this.vc();var a=this.width/2,b=this.height/2;this.pf(-a,b,a,b,a,-b,-a,-b);qc(u,this.sc);this.vc()};f.prototype.mp=
function(a,b,f){this.Qb(3);var c=this.Mb();c.type=12;c.O||(c.O=pc());c.O[0]=a;c.O[1]=b;c.O[2]=f;c.O[3]=1;this.Ya=!1};f.prototype.Mu=function(){this.Qb(0)};f.prototype.xu=function(){this.Qb(2)};f.prototype.mu=function(){this.zd();this.p.flush()};var t=[],b={};f.prototype.or=function(){Q(t);b={}};f.prototype.eo=function(a,e,f){var c;c=!1;e=!!e;var d=a.src+","+c+","+e+(c?",undefined":""),l=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(d))return l=b[d],l.ii++,l;this.zd();var h=this.p,y=na(a.width)&&
na(a.height),l=h.createTexture();h.bindTexture(h.TEXTURE_2D,l);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var n=h.RGBA,r=h.RGBA,g=h.UNSIGNED_BYTE;if(f&&!this.Fd)switch(f){case 1:r=n=h.RGB;break;case 2:g=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:g=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:r=n=h.RGB,g=h.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!y&&c){f=document.createElement("canvas");f.width=oa(a.width);f.height=oa(a.height);var k=f.getContext("2d");"undefined"!==typeof k.imageSmoothingEnabled?k.imageSmoothingEnabled=
e:(k.webkitImageSmoothingEnabled=e,k.mozImageSmoothingEnabled=e,k.msImageSmoothingEnabled=e);k.drawImage(a,0,0,a.width,a.height,0,0,f.width,f.height);h.texImage2D(h.TEXTURE_2D,0,n,r,g,f)}else h.texImage2D(h.TEXTURE_2D,0,n,r,g,a);c?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));e?(h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MAG_FILTER,h.LINEAR),(y||2<=this.version)&&this.ln?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.se=null;l.Ne=a.width;l.Me=a.height;l.ii=1;l.Vm=d;t.push(l);return b[d]=l};f.prototype.Ib=function(a,b,f,c,d){this.zd();
var l=this.p;this.Fd&&(c=!1);var h=l.createTexture();l.bindTexture(l.TEXTURE_2D,h);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,b,0,l.RGBA,c?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);d?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,f?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MIN_FILTER,f?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.se=null;h.Ne=a;h.Me=b;t.push(h);return h};f.prototype.zm=function(a,b,f){this.zd();var c=this.p;this.Fd&&(f=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,f?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}c.bindTexture(c.TEXTURE_2D,null);this.se=null};f.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.ii&&1<a.ii?a.ii--:(this.zd(),a===this.se&&(this.p.bindTexture(this.p.TEXTURE_2D,null),this.se=null),a===this.df&&(this.p.activeTexture(this.p.TEXTURE1),this.p.bindTexture(this.p.TEXTURE_2D,null),this.p.activeTexture(this.p.TEXTURE0),this.df=null),Na(t,a),"undefined"!==typeof a.Vm&&delete b[a.Vm],this.p.deleteTexture(a)))};f.prototype.Gc=function(a){if(a!==this.Fj){var b=this.Mb();b.type=6;this.Fj=b.Ic=a;this.Ya=!1}};ub=f})();
(function(){function f(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Dd=(this.Yi=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Jb=!!a.dc;this.Pn="undefined"!==typeof window.AppMobi||
this.Jb;this.Sc=!!window.c2cocoonjs;this.Tc=!!window.c2ejecta;this.Sc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Tc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.yb=this.Jb||this.Sc||this.Tc;this.Ug=
/edge\//i.test(navigator.userAgent);this.Fd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ug;this.Rn=/tizen/i.test(navigator.userAgent);this.Qg=/android/i.test(navigator.userAgent)&&!this.Rn&&!this.Fd&&!this.Ug;this.Un=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Fd&&!this.Ug;this.Nt=/ipad/i.test(navigator.userAgent);this.$g=this.Un||this.Nt||this.Tc;this.Yk=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Fd&&!this.Ug;this.On=/amazonwebappplatform/i.test(navigator.userAgent);this.Ft=/firefox/i.test(navigator.userAgent);this.Jt=/safari/i.test(navigator.userAgent)&&!this.Yk&&!this.Fd&&!this.Ug;this.Lt=/windows/i.test(navigator.userAgent);this.al="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Sn=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Mt=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Xg=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.el=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.dl=!!window.cr_windows10;this.Kt=this.Sn||this.Mt||this.el||this.dl;this.Et=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Wi=this.Qg&&!this.Yk&&!this.Yi&&!this.Ft&&!this.On&&!this.yb;this.devicePixelRatio=
1;this.bf=this.Dd||this.Yi||this.Pn||this.Sc||this.Qg||this.$g||this.Xg||this.el||this.Et||this.Rn||this.Tc;this.bf||(this.bf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.$i=!!(this.$g&&this.Dd&&window.webkit);"undefined"===typeof cr_is_preview||this.al||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.al=!0);this.canvas=a;this.Xm=document.getElementById("c2canvasdiv");
this.j=this.p=null;this.Pk="(unavailable)";this.la=!1;this.Se=0;this.za=null;this.Hi=!1;this.Jo=this.Ko=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Jb&&(window.c2runtime=this);this.al&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Wi&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.C=this.width;this.B=this.height;this.qi=this.width;this.yg=this.height;this.Sf=window.innerWidth;this.Rf=window.innerHeight;this.da=!0;this.Wg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.k=[];this.ya=[];this.kl={};this.Vc=[];this.zk={};
this.Ad=[];this.ng=[];this.Tj=[];this.ck=[];this.$q=[];this.dm=this.Bp=null;this.Pe={};this.$k=this.oe=!1;this.Uc=0;this.Zk=this.cl=!1;this.Qc=[];this.Tg=!1;this.jj=this.Zl="";this.Va=null;this.Gd="";this.Kh=this.zp=!1;this.Gi=[];this.Re=this.Qe=0;this.Bo=30;this.rk=this.ph=0;this.xf=1;this.jb=new kb;this.Xd=new kb;this.uj=this.Ki=this.Eg=this.ad=this.ff=this.Dk=this.cj=0;this.tg=null;this.vk=[];this.yk=[];this.Ci=-1;this.sl=[[]];this.rm=this.oj=0;this.Dj(null);this.ul=[];this.qj=-1;this.Eo=this.sh=
0;this.jl=!0;this.Hg=0;this.Lh=[];this.om=this.Rl=-1;this.ah=!0;this.mj=0;this.Zi=!1;this.Qu=0;this.Cf=null;this.Sg=!1;this.Io=new fa;this.Cl=new fa;this.Dl=new fa;this.qf=[];this.$c=new mb([]);this.lm=new mb([]);this.de=[];this.Ri={};this.ie={};this.ae={};this.mg={};this.Sm={};this.bo=this.ij=this.Ha=this.Ua=this.ao=this.hj=this.ea=null;this.kg=this.fl=!1;this.Fk=[null,null];this.Jf=0;this.Bk="";this.Jd={};this.Jh=this.we=null;this.Ap="";this.tj=[];this.wu()}}function p(a,c){return 128>=c?a[3]:256>=
c?a[2]:512>=c?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function q(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(a,c,g,b){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=q;d.onerror=b;d.onsuccess=function(d){d=d.target.result;d.onerror=b;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=g}}catch(h){b(h)}}function t(a,c,g){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=q;d.onerror=
g;d.onsuccess=function(d){d=d.target.result;d.onerror=g;var b=d.transaction(["saves"]).objectStore("saves").get(a);b.onsuccess=function(){b.result?c(b.result.data):c(null)}}}catch(b){g(b)}}function b(){ia("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,g={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof fa||a[c]&&"undefined"!==typeof a[c].jw||
"spriteCreatedDestroyCallback"!==c&&(g[c]=a[c]);return g}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.wu=function(){var a=this;if(this.$i)this.Hs(function(c){a.ih(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.Xg?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var g="data.js";if(this.Sn||this.Xg||this.el||this.dl)g="data.json";
c.open("GET",g,!0);var d=!1;if(!this.yb&&"response"in c&&"responseType"in c)try{c.responseType="json",d="json"===c.responseType}catch(b){d=!1}if(!d&&"responseType"in c)try{c.responseType="text"}catch(h){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.Xg?c.onreadystatechange=function(){4===c.readyState&&a.ih(JSON.parse(c.responseText))}:(c.onload=function(){if(d)a.ih(c.response);else if(a.Tc){var g=c.responseText,g=g.substr(g.indexOf("{"));a.ih(JSON.parse(g))}else a.ih(JSON.parse(c.responseText))},
c.onerror=function(a){ka("Error requesting "+g+":");ka(a)});c.send()}};f.prototype.At=function(){var a=this,c,g,d,b,h,e,k,f,l;this.cf=(!this.yb||this.Tc||this.Dd)&&this.bv&&!this.Wi;0===this.Wb&&this.$g&&(this.cf=!1);this.devicePixelRatio=this.cf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.qb();0<this.Wb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();
a.Wt();ia("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.j.Jn();a.j.sf(a.j.width,a.j.height,!0);a.Ua=null;a.Ha=null;a.Fk[0]=null;a.Fk[1]=null;a.Xt();a.da=!0;ia("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Yr&&(this.Sc||this.Tc||!this.yb)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Qg||(this.p=this.canvas.getContext("webgl2",
c)),this.p||(this.p=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(r){}if(this.p){if(c=this.p.getExtension("WEBGL_debug_renderer_info"))this.Pk=this.p.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.p.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.la&&(this.Pk+=" [front-to-back enabled]");this.yb||(this.mb=document.createElement("canvas"),jQuery(this.mb).appendTo(this.canvas.parentNode),this.mb.oncontextmenu=function(){return!1},this.mb.onselectstart=function(){return!1},
this.mb.width=Math.round(this.qi*this.devicePixelRatio),this.mb.height=Math.round(this.yg*this.devicePixelRatio),jQuery(this.mb).css({width:this.qi+"px",height:this.yg+"px"}),this.Xo(),this.Kl=this.mb.getContext("2d"));this.j=new ub(this.p,this.bf,this.la);this.j.sf(this.canvas.width,this.canvas.height);this.j.ln=0!==this.Rr;this.za=null;c=0;for(g=this.k.length;c<g;c++)for(h=this.k[c],d=0,b=h.J.length;d<b;d++)k=h.J[d],k.La=this.j.Ok(k.id),k.tc=this.j.Nl(k.La),this.kg=this.kg||this.j.zh(k.La);c=0;
for(g=this.Vc.length;c<g;c++){f=this.Vc[c];d=0;for(b=f.J.length;d<b;d++)k=f.J[d],k.La=this.j.Ok(k.id),k.tc=this.j.Nl(k.La);f.cd();d=0;for(b=f.L.length;d<b;d++){l=f.L[d];h=0;for(e=l.J.length;h<e;h++)k=l.J[h],k.La=this.j.Ok(k.id),k.tc=this.j.Nl(k.La),this.kg=this.kg||this.j.zh(k.La);l.cd()}}}else{if(0<this.Wb&&this.Jb){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.za=AppMobi.canvas.getContext("2d");try{this.za.samplingMode=this.Ba?"smooth":
"sharp",this.za.globalScale=1,this.za.HTML5CompatibilityMode=!0,this.za.imageSmoothingEnabled=this.Ba}catch(x){}0!==this.width&&0!==this.height&&(this.za.width=this.width,this.za.height=this.height)}this.za||(this.Sc?(c={antialias:!!this.Ba,alpha:!0},this.za=this.canvas.getContext("2d",c)):(c={alpha:!0},this.za=this.canvas.getContext("2d",c)),this.Kj(this.za,this.Ba));this.Kl=this.mb=null}this.Lp=function(c){a.fb(!1,c)};window==window.top||this.yb||this.Kt||this.Xg||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Sc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ia("Reloading for continuous preview"),this.jj="__c2_continuouspreview",this.Kh=!0),this.du&&!this.bf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){a.nf()});this.yb||(c=function(a){if(tb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Wb&&
this.cf&&1<this.devicePixelRatio&&this.setSize(this.Xa,this.Wa,!0);this.Pp();this.qt();this.go();this.q={}};f.prototype.setSize=function(a,c,g){var d=0,b=0,h=0,e=0,e=0;if(this.Sf!==a||this.Rf!==c||g){this.Sf=a;this.Rf=c;var k=this.Wb;if((h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Zi)&&!this.Dd)||0!==this.Wb||g)h&&(k=this.Jf),g=this.devicePixelRatio,4<=k?(h=this.Xa/this.Wa,a/c>h?(h*=c,5===k?(e=h*g/this.Xa,1<e?e=Math.floor(e):1>
e&&(e=1/Math.ceil(1/e)),h=this.Xa*e/g,e=this.Wa*e/g,d=(a-h)/2,b=(c-e)/2,a=h,c=e):(d=(a-h)/2,a=h)):(e=a/h,5===k?(e=e*g/this.Wa,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),h=this.Xa*e/g,e=this.Wa*e/g,d=(a-h)/2,b=(c-e)/2,a=h):b=(c-e)/2,c=e)):h&&0===k&&(d=Math.floor((a-this.Xa)/2),b=Math.floor((c-this.Wa)/2),a=this.Xa,c=this.Wa),2>k&&(this.sg=g),this.qi=Math.round(a),this.yg=Math.round(c),this.width=Math.round(a*g),this.height=Math.round(c*g),this.da=!0,this.aq?(this.C=this.width,this.B=this.height,
this.mc=!0):this.width<this.Xa&&this.height<this.Wa||1===k?(this.C=this.width,this.B=this.height,this.mc=!0):(this.C=this.Xa,this.B=this.Wa,this.mc=!1,2===k?(h=this.Xa/this.Wa,k=this.Sf/this.Rf,k<h?this.C=this.B*k:k>h&&(this.B=this.C/k)):3===k&&(h=this.Xa/this.Wa,k=this.Sf/this.Rf,k>h?this.C=this.B*k:k<h&&(this.B=this.C/k))),this.Xm&&!this.yb&&(jQuery(this.Xm).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&
jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*g),this.canvas.height=Math.round(c*g),this.Tc?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.cf&&!this.yb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.mb&&(this.mb.width=Math.round(a*g),this.mb.height=
Math.round(c*g),this.mb.style.width=this.qi+"px",this.mb.style.height=this.yg+"px"),this.j&&this.j.sf(Math.round(a*g),Math.round(c*g)),this.Jb&&this.za&&(this.za.width=Math.round(a),this.za.height=Math.round(c)),this.za&&this.Kj(this.za,this.Ba),this.Pp(),this.Un&&!this.Dd&&window.scrollTo(0,0)}};f.prototype.Pp=function(){if(this.cr&&0!==this.Jl){var a="portrait";2===this.Jl&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};f.prototype.Wt=function(){this.j.or();this.fl=!0;var a,c,g;a=0;for(c=this.k.length;a<c;a++)g=this.k[a],g.vj&&g.vj()};f.prototype.Xt=function(){this.fl=!1;var a,c,g;a=0;for(c=this.k.length;a<c;a++)g=this.k[a],g.Hl&&g.Hl()};f.prototype.Xo=
function(){if(!this.yb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Zi)&&!this.Dd?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.mb).css(a)}};var w=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var c;if(a&&!this.Wg)for(ia("[Construct 2] Suspending"),
this.Wg=!0,-1!==this.Rl&&w&&w(this.Rl),-1!==this.om&&clearTimeout(this.om),a=0,c=this.Lh.length;a<c;a++)this.Lh[a](!0);else if(!a&&this.Wg){ia("[Construct 2] Resuming");this.Wg=!1;this.cj=db();this.ff=db();a=this.ph=this.Ki=0;for(c=this.Lh.length;a<c;a++)this.Lh[a](!1);this.fb(!1)}};f.prototype.Zq=function(a){this.Lh.push(a)};f.prototype.Zd=function(a){return this.tj[a]};f.prototype.ih=function(a){a&&a.project||ka("Project model unavailable");a=a.project;this.name=a[0];this.tn=a[1];this.Wb=a[12];
this.Xa=a[10];this.Wa=a[11];this.So=this.Xa/2;this.To=this.Wa/2;this.yb&&!this.Tc&&(4<=a[12]||0===a[12])&&(ia("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Wb=3);this.ym=a[18];this.xe=a[19];if(0===this.xe){var c=new Image;c.crossOrigin="anonymous";this.qp(c,"loading-logo.png");this.we={pj:c}}else if(4===this.xe){c=new Image;c.src="";var g=new Image;g.src="";var d=new Image;d.src="";var b=new Image;b.src="";var h=new Image;
h.src="";var e=new Image;e.src="";var k=new Image;k.src="";var f=new Image;f.src="";var l=new Image;l.src="";var r=new Image;r.src="";var x=new Image;x.src="";var y=new Image;y.src="";this.we={pj:[c,g,d,b],ju:[h,e,k,f],dv:[l,r,x,y]}}this.sh=a[21];this.tj=uc();this.td=new X(this);c=0;for(g=a[2].length;c<g;c++)k=a[2][c],d=this.Zd(k[0]),vb(k,d.prototype),f=new d(this),f.Nj=k[1],f.re=k[2],f.mw=k[5],f.Co=k[9],f.ma&&f.ma(),this.plugins.push(f);this.tj=uc();c=0;for(g=a[3].length;c<g;c++){k=a[3][c];h=this.Zd(k[1]);
f=null;d=0;for(b=this.plugins.length;d<b;d++)if(this.plugins[d]instanceof h){f=this.plugins[d];break}l=new f.rb(f);l.name=k[0];l.G=k[2];l.Wk=k[3].slice(0);l.cv=k[3].length;l.dr=k[4];l.Ls=k[5];l.R=k[11];l.G?(l.kf=[],l.Bd=this.Hg++,l.ua=null):(l.kf=null,l.Bd=-1,l.ua=[]);l.Ei=null;l.Hf=null;l.mn=null;l.Kb=!1;l.Ub=null;k[6]?(l.Ip=k[6][0],l.Jp=k[6][1],l.Uu=k[6][2]):(l.Ip=null,l.Jp=0,l.Uu=0);k[7]?l.Tb=k[7]:l.Tb=null;l.index=c;l.d=[];l.wi=[];l.Sd=[new wb(l)];l.hd=0;l.zc=null;l.xr=0;l.jg=!0;l.Uj=xb;l.Qs=
Ab;l.Xs=Bb;l.ba=Cb;l.Bh=Db;l.dg=Eb;l.Nd=Fb;l.Mi=Gb;l.Gk=Hb;l.Jk=Ib;l.fd=Jb;l.Lk=Kb;l.mi=new nb(this.Xa,this.Wa);l.ci=!0;l.di=!1;l.q={};l.toString=Lb;l.ya=[];d=0;for(b=k[8].length;d<b;d++){r=k[8][d];x=this.Zd(r[1]);y=null;h=0;for(e=this.ya.length;h<e;h++)if(this.ya[h]instanceof x){y=this.ya[h];break}y||(y=new x(this),y.zl=[],y.yl=new fa,y.ma&&y.ma(),this.ya.push(y),vc&&y instanceof vc&&(this.Bp=y),wc&&y instanceof wc&&(this.dm=y));-1===y.zl.indexOf(l)&&y.zl.push(l);h=new y.rb(y,l);h.name=r[0];h.R=
r[2];h.ma();l.ya.push(h)}l.global=k[9];l.bl=k[10];l.J=[];d=0;for(b=k[12].length;d<b;d++)l.J.push({id:k[12][d][0],name:k[12][d][1],La:-1,tc:!1,jc:!0,index:d});l.uw=k[13];this.ym&&!l.G&&!l.bl&&f.re||l.ma();l.name&&(this.types[l.name]=l);this.k.push(l);f.Nj&&(d=new f.Na(l),d.uid=this.sh++,d.bp=this.Eo++,d.Ze=0,d.Jg=Mb,d.toString=Nb,d.D=k[14],d.ma(),l.d.push(d),this.Jd[d.uid.toString()]=d)}c=0;for(g=a[4].length;c<g;c++)for(h=a[4][c],e=this.k[h[0]],d=1,b=h.length;d<b;d++)k=this.k[h[d]],k.ua.push(e),e.kf.push(k);
c=0;for(g=a[28].length;c<g;c++){h=a[28][c];e=[];d=0;for(b=h.length;d<b;d++)e.push(this.k[h[d]]);d=0;for(b=e.length;d<b;d++)e[d].Kb=!0,e[d].Ub=e}if(0<this.Hg)for(c=0,g=this.k.length;c<g;c++)if(k=this.k[c],!k.G&&k.ua.length){k.Ei=Array(this.Hg);k.Hf=Array(this.Hg);k.mn=Array(this.Hg);l=[];d=y=x=r=0;for(b=k.ua.length;d<b;d++)for(f=k.ua[d],k.Ei[f.Bd]=r,r+=f.cv,k.Hf[f.Bd]=x,x+=f.dr,k.mn[f.Bd]=y,y+=f.Ls,h=0,e=f.J.length;h<e;h++)l.push(Ea({},f.J[h]));k.J=l.concat(k.J);d=0;for(b=k.J.length;d<b;d++)k.J[d].index=
d}c=0;for(g=a[5].length;c<g;c++)k=a[5][c],d=new Ob(this,k),this.kl[d.name]=d,this.Vc.push(d);c=0;for(g=a[6].length;c<g;c++)k=a[6][c],d=new Pb(this,k),this.zk[d.name]=d,this.Ad.push(d);c=0;for(g=this.Ad.length;c<g;c++)this.Ad[c].Ea();c=0;for(g=this.Ad.length;c<g;c++)this.Ad[c].vm();c=0;for(g=this.Tj.length;c<g;c++)this.Tj[c].Ea();Q(this.Tj);this.br=a[7];this.Bk=a[8];this.Md=a[9];this.sg=1;this.Yr=a[13];this.Ba=a[14];this.$m=a[15];this.bv=a[17];this.Jl=a[20];this.cr=0<this.Jl;this.du=a[22];this.mc=
this.aq=a[23];this.Rr=a[24];this.ku=a[25];this.la=a[27]&&!this.Fd;this.Oj=Date.now();Q(this.tj);this.At()};var c=!1,d=0,l=[];f.prototype.su=function(a,c){function g(){d--;b.yo()}var b=this;a.addEventListener("load",g);a.addEventListener("error",g);l.push([a,c]);this.yo()};f.prototype.yo=function(){for(var a;l.length&&100>d;)d++,a=l.shift(),this.qp(a[0],a[1])};f.prototype.$p=function(a,g){a.cocoonLazyLoad=!0;a.onerror=function(g){c=a.Um=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",g)};this.Tc?a.src=g:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(g,function(c){a.src=c},function(d){c=a.Um=!0;console&&console.error&&console.error("Error extracting image '"+g+"' from expansion file: ",d)}):(a.crossOrigin="anonymous",this.su(a,g)));this.ng.push(a)};f.prototype.Js=function(a){var c,g;c=0;for(g=this.ng.length;c<g;c++)if(this.ng[c].pr===a)return this.ng[c];return null};var h=0,y=!1;f.prototype.qt=function(){this.Cf&&(h=this.Cf.Ku(this.br))};f.prototype.Pm=function(){var a=
h,c=0,g=0,d=!0,b,k,g=0;for(b=this.ng.length;g<b;g++){k=this.ng[g];var e=k.cn;if(!e||0>=e)e=5E4;a+=e;k.src&&(k.complete||k.loaded)&&!k.Um?c+=e:d=!1}d&&this.ku&&this.Cf&&(y||(this.Cf.Ru(),y=!0),g=this.Cf.Zs(),c+=g,g<h&&(d=!1));this.Yc=0==a?1:c/a;return d};var n=!1;f.prototype.go=function(){if(this.za||this.j){var a=this.za||this.Kl;this.mb&&this.Xo();var g=window.innerWidth,d=window.innerHeight;this.Sf===g&&this.Rf===d||this.setSize(g,d);this.Yc=0;this.$n=-1;var b=this;if(this.Pm()&&(4!==this.xe||n))this.tt();
else{d=Date.now()-this.Oj;if(a){var h=this.width,k=this.height,g=this.devicePixelRatio;if(3>this.xe&&(this.Sc||500<=d&&this.$n!=this.Yc)){a.clearRect(0,0,h,k);var d=h/2,k=k/2,h=0===this.xe&&this.we.pj.complete,l=40*g,f=0,r=80*g,x;if(h){var y=this.we.pj,r=y.width*g;x=y.height*g;l=r/2;f=x/2;a.drawImage(y,K(d-l),K(k-f),r,x)}1>=this.xe?(d=K(d-l)+.5,k=K(k+(f+(h?12*g:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(d,k,Math.floor(r*this.Yc),6*g),a.strokeStyle="black",a.strokeRect(d,k,r,6*g),a.strokeStyle=
"white",a.strokeRect(d-1*g,k-1*g,r+2*g,8*g)):2===this.xe&&(a.font=this.Tc?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.sw="middle",g=Math.round(100*this.Yc)+"%",h=a.measureText?a.measureText(g):null,a.fillText(g,d-(h?h.width:0)/2,k));this.$n=this.Yc}else if(4===this.xe){this.Wr(a);e?e(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.Sc?10:100)}}};var r=-1,g="undefined"===typeof cr_is_preview?200:0,k=!0,x=!1,Y=0,M=0,T="undefined"===typeof cr_is_preview?
3E3:0,P=null,G=null,S=0;f.prototype.Wr=function(a){if(!n){for(var d=Math.ceil(this.width),b=Math.ceil(this.height),h=this.we.pj,e=this.we.ju,l=this.we.dv,f=0;4>f;++f)if(!h[f].complete||!e[f].complete||!l[f].complete)return;0===S&&(r=Date.now());var f=Date.now(),y=!1,m=a,w,q;k||x?(a.clearRect(0,0,d,b),P&&P.width===d&&P.height===b||(P=document.createElement("canvas"),P.width=d,P.height=b,G=P.getContext("2d")),m=G,y=!0,k&&1===S&&(r=Date.now())):a.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,d,
b);256<this.yg?(w=Oa(.22*b,105,.6*d),q=.25*w,m.drawImage(p(e,w),.5*d-w/2,.2*b-q/2,w,q),q=w=Math.min(.395*b,.95*d),m.drawImage(p(h,w),.5*d-w/2,.485*b-q/2,w,q),w=Oa(.22*b,105,.6*d),q=.25*w,m.drawImage(p(l,w),.5*d-w/2,.868*b-q/2,w,q),m.fillStyle="#3C3C3C",w=d,q=Math.max(.005*b,2),m.fillRect(0,.8*b-q/2,w,q),m.fillStyle=c?"red":"#E0FF65",w=d*this.Yc,m.fillRect(.5*d-w/2,.8*b-q/2,w,q)):(q=w=.55*b,m.drawImage(p(h,w),.5*d-w/2,.45*b-q/2,w,q),m.fillStyle="#3C3C3C",w=d,q=Math.max(.005*b,2),m.fillRect(0,.85*b-
q/2,w,q),m.fillStyle=c?"red":"#E0FF65",w=d*this.Yc,m.fillRect(.5*d-w/2,.85*b-q/2,w,q));y&&(k?a.globalAlpha=0===S?0:Math.min((f-r)/300,1):x&&(a.globalAlpha=Math.max(1-(f-M)/300,0)),a.drawImage(P,0,0,d,b));k&&300<=f-r&&2<=S&&(k=!1,Y=f);!k&&f-Y>=T&&!x&&1<=this.Yc&&(x=!0,M=f);if(x&&f-M>=300+g||"undefined"!==typeof cr_is_preview&&1<=this.Yc&&500>Date.now()-r)n=!0,x=k=!1,this.we=G=P=null;++S}};f.prototype.tt=function(){this.mb&&(this.canvas.parentNode.removeChild(this.mb),this.mb=this.Kl=null);this.Oj=
Date.now();this.ff=db();var a,c,g;if(this.ym)for(a=0,c=this.k.length;a<c;a++)g=this.k[a],g.G||g.bl||!g.xa.re||g.ma();else this.ah=!1;a=0;for(c=this.Vc.length;a<c;a++)this.Vc[a].rr();2<=this.Wb&&(a=this.Xa/this.Wa,c=this.width/this.height,this.sg=2!==this.Wb&&c>a||2===this.Wb&&c<a?this.height/this.Wa:this.width/this.Xa);this.tn?this.kl[this.tn].km():this.Vc[0].km();this.ym||(this.mj=1,this.trigger(X.prototype.n.Jm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(c=this.k.length;a<c;a++)g=this.k[a],g.Vt&&g.Vt();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.fb(!1);this.Jb&&AppMobi.webview.execute("onGameReady();")};f.prototype.fb=function(a,c,g){if(this.ea){var d=db();if(g||!this.Wg||a){a||(e?this.Rl=e(this.Lp):this.om=setTimeout(this.Lp,this.bf?1:16));c=c||d;var b=this.Wb;((g=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.Dd)||this.Zi)&&0<this.Jf&&(b=this.Jf);if(0<b){var b=window.innerWidth,h=window.innerHeight;this.Sf===b&&this.Rf===h||this.setSize(b,h)}this.yb||(g?this.Hi||(this.Hi=!0):this.Hi?(this.Hi=!1,0===this.Wb&&this.setSize(Math.round(this.Ko/this.devicePixelRatio),Math.round(this.Jo/this.devicePixelRatio),!0)):(this.Ko=this.width,this.Jo=this.height));this.ah&&(g=this.Pm(),this.mj=this.Yc,g&&(this.ah=!1,this.Yc=1,this.trigger(X.prototype.n.Jm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Rt(c);
!this.da&&!this.Sc||this.fl||this.Kh||a||(this.da=!1,this.j?this.lc():this.jd(),this.Jh&&(this.canvas&&this.canvas.toDataURL&&(this.Ap=this.canvas.toDataURL(this.Jh[0],this.Jh[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Ap),this.trigger(X.prototype.n.Aq,null)),this.Jh=null));this.lw||(this.ad++,this.Eg++,this.Ki++);this.ph+=db()-d}}};f.prototype.Rt=function(a){var c,g,d,b,h,k,e,l;1E3<=a-this.ff&&(this.ff+=1E3,1E3<=a-this.ff&&(this.ff=a),this.Dk=this.Ki,this.Ki=0,this.rk=this.ph,this.ph=0);
c=0;0!==this.cj&&(c=a-this.cj,0>c&&(c=0),this.Re=c/=1E3,.5<this.Re?this.Re=0:this.Re>1/this.Bo&&(this.Re=1/this.Bo));this.cj=a;this.Qe=this.Re*this.xf;this.jb.add(this.Qe);this.Xd.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Zi)&&!this.Dd;2<=this.Wb||a&&0<this.Jf?(c=this.Xa/this.Wa,g=this.width/this.height,d=this.Wb,a&&0<this.Jf&&(d=this.Jf),this.sg=2!==d&&g>c||2===d&&g<c?this.height/this.Wa:this.width/this.Xa,this.ea&&(this.ea.jp(this.ea.scrollX),
this.ea.kp(this.ea.scrollY))):this.sg=this.cf?this.devicePixelRatio:1;this.qb();this.Uc++;this.td.Bu();this.Uc--;this.qb();this.Uc++;g=this.Io.Wd();a=0;for(c=g.length;a<c;a++)g[a].pw();a=0;for(c=this.k.length;a<c;a++)if(k=this.k[a],!k.G&&(k.ya.length||k.ua.length))for(g=0,d=k.d.length;g<d;g++)for(e=k.d[g],b=0,h=e.I.length;b<h;b++)e.I[b].fb();a=0;for(c=this.k.length;a<c;a++)if(k=this.k[a],!k.G&&(k.ya.length||k.ua.length))for(g=0,d=k.d.length;g<d;g++)for(e=k.d[g],b=0,h=e.I.length;b<h;b++)l=e.I[b],l.iu&&
l.iu();g=this.Cl.Wd();a=0;for(c=g.length;a<c;a++)g[a].fb();this.Uc--;this.ut();for(a=0;this.tg&&10>a++;)this.kn(this.tg);a=0;for(c=this.Ad.length;a<c;a++)this.Ad[a].Rk=!1;this.ea.Te&&this.ea.Te.Ka();Q(this.qf);this.jl=!1;this.Uc++;a=0;for(c=this.k.length;a<c;a++)if(k=this.k[a],!k.G&&(k.ya.length||k.ua.length))for(g=0,d=k.d.length;g<d;g++)for(e=k.d[g],b=0,h=e.I.length;b<h;b++)l=e.I[b],l.mm&&l.mm();g=this.Dl.Wd();a=0;for(c=g.length;a<c;a++)g[a].mm();this.Uc--};f.prototype.nf=function(){var a,c,g,d,
b,h,k,e,l;a=0;for(c=this.k.length;a<c;a++)if(k=this.k[a],!k.G)for(g=0,d=k.d.length;g<d;g++)if(e=k.d[g],e.nf&&e.nf(),e.I)for(b=0,h=e.I.length;b<h;b++)l=e.I[b],l.nf&&l.nf()};f.prototype.kn=function(a){var c=this.ea;this.ea.Su();var g,d,b;if(this.j)for(g=0,d=this.k.length;g<d;g++)b=this.k[g],b.G||!b.Sp||b.global&&0!==b.d.length||-1!==a.Og.indexOf(b)||b.Sp();c==a&&Q(this.td.ic);Q(this.qf);this.gp(!0);a.km();this.gp(!1);this.jl=this.da=!0;this.qb()};f.prototype.gp=function(a){var c,g,d,b,h,k,e,l,f;c=0;
for(g=this.ya.length;c<g;c++)d=this.ya[c],a?d.uh&&d.uh():d.wh&&d.wh();c=0;for(g=this.k.length;c<g;c++)if(d=this.k[c],d.global||d.xa.Nj)for(b=0,h=d.d.length;b<h;b++)if(k=d.d[b],a?k.uh&&k.uh():k.wh&&k.wh(),k.I)for(e=0,l=k.I.length;e<l;e++)f=k.I[e],a?f.uh&&f.uh():f.wh&&f.wh()};f.prototype.nm=function(a){this.Cl.add(a)};f.prototype.Vu=function(a){this.Dl.add(a)};f.prototype.Hk=function(a){return a&&-1!==a.rh?this.Re*a.rh:this.Qe};f.prototype.jd=function(){this.ea.jd(this.za);this.Jb&&this.za.present()};
f.prototype.lc=function(){this.la&&(this.Se=1,this.ea.Ff(this.j));this.ea.lc(this.j);this.j.mu()};f.prototype.Mm=function(a){a&&this.vk.push(a)};f.prototype.Pi=function(a){a=a.toString();return this.Jd.hasOwnProperty(a)?this.Jd[a]:null};var F=[];f.prototype.Ie=function(a){var c,g;c=a.type.name;var d=null;if(this.Pe.hasOwnProperty(c)){if(d=this.Pe[c],d.contains(a))return}else d=F.length?F.pop():new fa,this.Pe[c]=d;d.add(a);this.oe=!0;if(a.Kb)for(c=0,g=a.siblings.length;c<g;c++)this.Ie(a.siblings[c]);
this.$k&&d.lg.push(a);this.Zk||(this.Uc++,this.trigger(Object.getPrototypeOf(a.type.xa).n.Cq,a),this.Uc--)};f.prototype.qb=function(){if(this.oe){var a,c,g,d,b,h;this.$k=!0;g=0;for(b=this.Qc.length;g<b;++g)for(a=this.Qc[g],c=a.type,c.d.push(a),d=0,h=c.ua.length;d<h;++d)c.ua[d].d.push(a),c.ua[d].jg=!0;Q(this.Qc);this.tq();cb(this.Pe);this.oe=this.$k=!1}};f.prototype.tq=function(){for(var a in this.Pe)this.Pe.hasOwnProperty(a)&&this.hq(this.Pe[a])};f.prototype.hq=function(a){var c=a.Wd(),g=c[0].type,
d,b,h,k,e,l;fb(g.d,a);g.jg=!0;0===g.d.length&&(g.di=!1);d=0;for(b=g.ua.length;d<b;++d)l=g.ua[d],fb(l.d,a),l.jg=!0;d=0;for(b=this.td.ic.length;d<b;++d)if(e=this.td.ic[d],e.hc.hasOwnProperty(g.index)&&fb(e.hc[g.index].$e,a),!g.G)for(h=0,k=g.ua.length;h<k;++h)l=g.ua[h],e.hc.hasOwnProperty(l.index)&&fb(e.hc[l.index].$e,a);if(e=c[0].g){if(e.wc)for(h=e.d,d=0,b=h.length;d<b;++d)k=h[d],a.contains(k)&&(k.pa(),e.nb.update(k,k.Nb,null),k.Nb.set(0,0,-1,-1));fb(e.d,a);e.Gh(0)}for(d=0;d<c.length;++d)this.gq(c[d],
g);a.clear();F.push(a);this.da=!0};f.prototype.gq=function(a,c){var g,d,b;g=0;for(d=this.vk.length;g<d;++g)this.vk[g](a);a.je&&c.mi.update(a,a.je,null);(g=a.g)&&g.fg(a,!0);if(a.I)for(g=0,d=a.I.length;g<d;++g)b=a.I[g],b.vh&&b.vh(),b.behavior.yl.remove(a);this.Io.remove(a);this.Cl.remove(a);this.Dl.remove(a);a.vh&&a.vh();this.Jd.hasOwnProperty(a.uid.toString())&&delete this.Jd[a.uid.toString()];this.uj--;100>c.wi.length&&c.wi.push(a)};f.prototype.dn=function(a,c,g,d){if(a.G){var b=K(Math.random()*a.kf.length);
return this.dn(a.kf[b],c,g,d)}return a.zc?this.ke(a.zc,c,!1,g,d,!1):null};var O=[];f.prototype.ke=function(a,c,g,d,b,h){var k,e,l,f;if(!a)return null;var r=this.k[a[1]],x=r.xa.re;if(this.ah&&x&&!r.bl||x&&!this.j&&11===a[0][11])return null;var y=c;x||(c=null);var n;r.wi.length?(n=r.wi.pop(),n.Ec=!0,r.xa.Na.call(n,r)):(n=new r.xa.Na(r),n.Ec=!1);!g||h||this.Jd.hasOwnProperty(a[2].toString())?n.uid=this.sh++:n.uid=a[2];this.Jd[n.uid.toString()]=n;n.bp=this.Eo++;n.Ze=r.d.length;k=0;for(e=this.Qc.length;k<
e;++k)this.Qc[k].type===r&&n.Ze++;n.Jg=Mb;n.toString=Nb;l=a[3];if(n.Ec)cb(n.q);else{n.q={};if("undefined"!==typeof cr_is_preview)for(n.Mn=[],n.Mn.length=l.length,k=0,e=l.length;k<e;k++)n.Mn[k]=l[k][1];n.Ta=[];n.Ta.length=l.length}k=0;for(e=l.length;k<e;k++)n.Ta[k]=l[k][0];if(x){var p=a[0];n.x=la(d)?p[0]:d;n.y=la(b)?p[1]:b;n.z=p[2];n.width=p[3];n.height=p[4];n.depth=p[5];n.i=p[6];n.opacity=p[7];n.Yb=p[8];n.Zb=p[9];n.tb=p[10];k=p[11];!this.j&&r.J.length&&(n.tb=k);n.ug=pb(n.tb);this.p&&qb(n,n.tb,this.p);
if(n.Ec){k=0;for(e=p[12].length;k<e;k++)for(l=0,f=p[12][k].length;l<f;l++)n.Aa[k][l]=p[12][k][l];n.qa.set(0,0,0,0);n.je.set(0,0,-1,-1);n.Nb.set(0,0,-1,-1);n.ub.tf(n.qa);Q(n.gk)}else{n.Aa=p[12].slice(0);k=0;for(e=n.Aa.length;k<e;k++)n.Aa[k]=p[12][k].slice(0);n.X=[];n.$d=[];n.$d.length=r.J.length;n.qa=new wa(0,0,0,0);n.je=new wa(0,0,-1,-1);n.Nb=new wa(0,0,-1,-1);n.ub=new xa;n.gk=[];n.W=Qb;n.iw=Rb;n.Vb=Sb;n.pa=Tb;n.av=Ub;n.Xp=Vb;n.md=Wb}n.Ge=!1;n.Yu=0;n.Xu=0;n.Wu=null;14===p.length&&(n.Ge=!0,n.Yu=p[13][0],
n.Xu=p[13][1],n.Wu=p[13][2]);k=0;for(e=r.J.length;k<e;k++)n.$d[k]=!0;n.Qd=!0;n.cd=Xb;n.cd();n.Yp=!!n.X.length;n.fk=!0;n.kk=!0;r.ci=!0;n.visible=!0;n.rh=-1;n.g=c;n.dd=c.d.length;n.Se=0;"undefined"===typeof n.K&&(n.K=null);this.da=n.wd=!0}var m;Q(O);k=0;for(e=r.ua.length;k<e;k++)O.push.apply(O,r.ua[k].ya);O.push.apply(O,r.ya);if(n.Ec)for(k=0,e=O.length;k<e;k++){var w=O[k];m=n.I[k];m.Ec=!0;w.behavior.Na.call(m,w,n);p=a[4][k];l=0;for(f=p.length;l<f;l++)m.D[l]=p[l];m.ma();w.behavior.yl.add(n)}else for(n.I=
[],k=0,e=O.length;k<e;k++)w=O[k],m=new w.behavior.Na(w,n),m.Ec=!1,m.D=a[4][k].slice(0),m.ma(),n.I.push(m),w.behavior.yl.add(n);p=a[5];if(n.Ec)for(k=0,e=p.length;k<e;k++)n.D[k]=p[k];else n.D=p.slice(0);this.Qc.push(n);this.oe=!0;c&&(c.rg(n,!0),1!==c.Kd||1!==c.Ld)&&(r.di=!0);this.uj++;if(r.Kb){if(n.Kb=!0,n.Ec?Q(n.siblings):n.siblings=[],!g&&!h){k=0;for(e=r.Ub.length;k<e;k++)if(r.Ub[k]!==r){if(!r.Ub[k].zc)return null;n.siblings.push(this.ke(r.Ub[k].zc,y,!1,x?n.x:d,x?n.y:b,!0))}k=0;for(e=n.siblings.length;k<
e;k++)for(n.siblings[k].siblings.push(n),l=0;l<e;l++)k!==l&&n.siblings[k].siblings.push(n.siblings[l])}}else n.Kb=!1,n.siblings=null;n.ma();k=0;for(e=n.I.length;k<e;k++)n.I[k].hu&&n.I[k].hu();return n};f.prototype.Us=function(a){var c,g;c=0;for(g=this.ea.L.length;c<g;c++){var d=this.ea.L[c];if(sb(d.name,a))return d}return null};f.prototype.Vs=function(a){a=K(a);0>a&&(a=0);a>=this.ea.L.length&&(a=this.ea.L.length-1);return this.ea.L[a]};f.prototype.pk=function(a){var c,g;c=0;for(g=a.length;c<g;c++)a[c].ba().ra=
!0};f.prototype.Bh=function(a){var c,g;c=0;for(g=a.length;c<g;c++)a[c].Bh()};f.prototype.dg=function(a){var c,g;c=0;for(g=a.length;c<g;c++)a[c].dg()};f.prototype.Nd=function(a){var c,g;c=0;for(g=a.length;c<g;c++)a[c].Nd()};f.prototype.Vp=function(a){if(a.ci){var c,g,d=a.d;c=0;for(g=d.length;c<g;++c)d[c].Xp();d=this.Qc;c=0;for(g=d.length;c<g;++c)d[c].type===a&&d[c].Xp();a.ci=!1}};f.prototype.xn=function(a,c,g,d){var b,k,h=a?1!==a.Kd||1!==a.Ld:!1;if(c.G)for(a=0,b=c.kf.length;a<b;++a)k=c.kf[a],h||k.di?
Ja(d,k.d):(this.Vp(k),k.mi.Ej(g,d));else h||c.di?Ja(d,c.d):(this.Vp(c),c.mi.Ej(g,d))};f.prototype.En=function(a,c,g,d){var b,k;b=0;for(k=c.length;b<k;++b)this.xn(a,c[b],g,d)};f.prototype.dt=function(a,c,g){var d=this.Bp;d&&this.En(a,d.zl,c,g)};f.prototype.vf=function(a,c){if(!(a&&c&&a!==c&&a.wd&&c.wd))return!1;a.pa();c.pa();var g=a.g,d=c.g,b,k,h,e,l,f,r,n;if(g===d||g.Kd===d.Kd&&d.Ld===d.Ld&&g.scale===d.scale&&g.i===d.i&&g.Wh===d.Wh){if(!a.qa.Bt(c.qa)||!a.ub.Nn(c.ub)||a.Ge&&c.Ge)return!1;if(a.Ge)return this.Fp(a,
c);if(c.Ge)return this.Fp(c,a);r=a.K&&!a.K.qe();b=c.K&&!c.K.qe();if(!r&&!b)return!0;r?(a.K.fe(a.width,a.height,a.i),r=a.K):(this.$c.De(a.ub,a.x,a.y,a.width,a.height),r=this.$c);b?(c.K.fe(c.width,c.height,c.i),n=c.K):(this.$c.De(c.ub,c.x,c.y,c.width,c.height),n=this.$c);return r.Pg(n,c.x-a.x,c.y-a.y)}r=a.K&&!a.K.qe();b=c.K&&!c.K.qe();r?(a.K.fe(a.width,a.height,a.i),this.$c.tp(a.K)):this.$c.De(a.ub,a.x,a.y,a.width,a.height);r=this.$c;b?(c.K.fe(c.width,c.height,c.i),this.lm.tp(c.K)):this.lm.De(c.ub,
c.x,c.y,c.width,c.height);n=this.lm;b=0;for(k=r.Dc;b<k;b++)h=2*b,e=h+1,l=r.Ja[h],f=r.Ja[e],r.Ja[h]=g.wa(l+a.x,f+a.y,!0),r.Ja[e]=g.wa(l+a.x,f+a.y,!1);r.pa();b=0;for(k=n.Dc;b<k;b++)h=2*b,e=h+1,l=n.Ja[h],f=n.Ja[e],n.Ja[h]=d.wa(l+c.x,f+c.y,!0),n.Ja[e]=d.wa(l+c.x,f+c.y,!1);n.pa();return r.Pg(n,0,0)};var E=new xa;new wa(0,0,0,0);var L=[];f.prototype.Fp=function(a,c){var g,d,b,k,h=c.qa,e=a.x,l=a.y;a.yn(h,L);var f=c.K&&!c.K.qe();g=0;for(d=L.length;g<d;++g)if(b=L[g],k=b.dp,h.Ct(k,e,l)&&(E.tf(k),E.offset(e,
l),E.Nn(c.ub)))if(f)if(c.K.fe(c.width,c.height,c.i),b.of){if(b.of.Pg(c.K,c.x-(e+k.left),c.y-(l+k.top)))return Q(L),!0}else{if(this.$c.De(E,0,0,k.right-k.left,k.bottom-k.top),this.$c.Pg(c.K,c.x,c.y))return Q(L),!0}else if(b.of){if(this.$c.De(c.ub,0,0,c.width,c.height),b.of.Pg(this.$c,-(e+k.left),-(l+k.top)))return Q(L),!0}else return Q(L),!0;Q(L);return!1};f.prototype.Qp=function(a,c){if(!c)return!1;var g,d,b,k,h;g=0;for(d=a.ya.length;g<d;g++)if(a.ya[g].behavior instanceof c)return!0;if(!a.G)for(g=
0,d=a.ua.length;g<d;g++)for(h=a.ua[g],b=0,k=h.ya.length;b<k;b++)if(h.ya[b].behavior instanceof c)return!0;return!1};f.prototype.tm=function(a){return this.Qp(a,mc.Gv)};f.prototype.um=function(a){return this.Qp(a,mc.Hv)};var D=[];f.prototype.Td=function(a){var c,g,d;a.pa();this.dt(a.g,a.qa,D);c=0;for(g=D.length;c<g;++c)if(d=D[c],d.q.solidEnabled&&this.vf(a,d))return Q(D),d;Q(D);return null};f.prototype.ru=function(a,c,g,d){d=d||50;var b=a.x,k=a.y,h,e=null,l=null;for(h=0;h<d;h++)if(a.x=b+c*h,a.y=k+
g*h,a.W(),!this.vf(a,e)&&((e=this.Td(a))&&(l=e),!e&&!e))return l&&this.ou(a,c,g,l),!0;a.x=b;a.y=k;a.W();return!1};f.prototype.ou=function(a,c,g,d){var b=2,k,h=!1;k=!1;for(var e=a.x,l=a.y;16>=b;)k=1/b,b*=2,a.x+=c*k*(h?1:-1),a.y+=g*k*(h?1:-1),a.W(),this.vf(a,d)?k=h=!0:(k=h=!1,e=a.x,l=a.y);k&&(a.x=e,a.y=l,a.W())};f.prototype.Pl=function(a,c){var g=la(c)?100:c,d=0,b=a.x,k=a.y,h=0,e=0,l=0,f=this.Td(a);if(!f)return!0;for(;d<=g;){switch(h){case 0:e=0;l=-1;d++;break;case 1:e=1;l=-1;break;case 2:e=1;l=0;break;
case 3:l=e=1;break;case 4:e=0;l=1;break;case 5:e=-1;l=1;break;case 6:e=-1;l=0;break;case 7:l=e=-1}h=(h+1)%8;a.x=K(b+e*d);a.y=K(k+l*d);a.W();if(!this.vf(a,f)&&(f=this.Td(a),!f))return!0}a.x=b;a.y=k;a.W();return!1};f.prototype.fp=function(a,c){a.wd&&c.wd&&this.qf.push([a,c])};f.prototype.Yq=function(a,c,g){var d,b,k;d=0;for(b=this.qf.length;d<b;++d){k=this.qf[d];if(k[0]===a)k=k[1];else if(k[1]===a)k=k[0];else continue;if(c.G){if(-1===c.kf.indexOf(c))continue}else if(k.type!==c)continue;-1===g.indexOf(k)&&
g.push(k)}};f.prototype.mr=function(a,c){var g,d,b;g=0;for(d=this.qf.length;g<d;g++)if(b=this.qf[g],b[0]===a&&b[1]===c||b[0]===c&&b[1]===a)return!0;return!1};f.prototype.jr=function(a,c,g){var d=a.x,b=a.y,k=ra(10,$a(c,g,d,b)),h=Va(c,g,d,b),e=this.Td(a);if(!e)return W(h+ta);var l=e,f,r,n,x,y=V(5);for(f=1;36>f;f++)if(r=h-f*y,a.x=c+Math.cos(r)*k,a.y=g+Math.sin(r)*k,a.W(),!this.vf(a,l)&&(l=this.Td(a),!l)){n=r;break}36===f&&(n=W(h+ta));l=e;for(f=1;36>f;f++)if(r=h+f*y,a.x=c+Math.cos(r)*k,a.y=g+Math.sin(r)*
k,a.W(),!this.vf(a,l)&&(l=this.Td(a),!l)){x=r;break}36===f&&(x=W(h+ta));a.x=d;a.y=b;a.W();if(x===n)return x;a=Wa(x,n)/2;a=Ya(x,n)?W(n+a+ta):W(x+a);n=Math.cos(h);h=Math.sin(h);x=Math.cos(a);a=Math.sin(a);c=n*x+h*a;return Va(0,0,n-2*c*x,h-2*c*a)};var J=-1;f.prototype.trigger=function(a,c,g){if(!this.ea)return!1;var d=this.ea.Te;if(!d)return!1;var b=!1,k,h,e;J++;var l=d.uk;h=0;for(e=l.length;h<e;++h)k=this.Np(a,c,l[h],g),b=b||k;k=this.Np(a,c,d,g);J--;return b||k};f.prototype.Np=function(a,c,g,d){var b=
!1,k,h,e,l;if(c)for(e=this.qm(a,c,c.type.name,g,d),b=b||e,l=c.type.ua,k=0,h=l.length;k<h;++k)e=this.qm(a,c,l[k].name,g,d),b=b||e;else e=this.qm(a,c,"system",g,d),b=b||e;return b};f.prototype.qm=function(a,c,g,d,b){var k,h=!1,e=!1,e="undefined"!==typeof b,l=(e?d.pn:d.Op)[g];if(!l)return h;var f=null;d=0;for(k=l.length;d<k;++d)if(l[d].method==a){f=l[d].Dg;break}if(!f)return h;var r;e?r=f[b]:r=f;if(!r)return null;d=0;for(k=r.length;d<k;d++)a=r[d][0],b=r[d][1],e=this.Gs(c,g,a,b),h=h||e;return h};f.prototype.Gs=
function(a,c,g,d){var b,k,h=!1;this.rm++;var e=this.xb().Bb;e&&this.Bh(e.Ee);var l=1<this.rm;this.Bh(g.Ee);l&&this.pu();var f=this.Dj(g);f.Bb=g;a&&(b=this.types[c].ba(),b.ra=!1,Q(b.d),b.d[0]=a,this.types[c].fd());a=!0;if(g.parent){c=f.Ep;for(b=g.parent;b;)c.push(b),b=b.parent;c.reverse();b=0;for(k=c.length;b<k;b++)if(!c[b].Du()){a=!1;break}}a&&(this.Eg++,g.Wc?g.Cu(d):g.Ka(),h=h||f.ef);this.zj();l&&this.fu();this.Nd(g.Ee);e&&this.Nd(e.Ee);this.oe&&0===this.Uc&&0===J&&!this.cl&&this.qb();this.rm--;
return h};f.prototype.Ni=function(){var a=this.xb();return a.Bb.Pa[a.Oa]};f.prototype.pu=function(){this.oj++;this.oj>=this.sl.length&&this.sl.push([])};f.prototype.fu=function(){this.oj--};f.prototype.zn=function(){return this.sl[this.oj]};f.prototype.Dj=function(a){this.Ci++;this.Ci>=this.yk.length&&this.yk.push(new Yb);var c=this.xb();c.reset(a);return c};f.prototype.zj=function(){this.Ci--};f.prototype.xb=function(){return this.yk[this.Ci]};f.prototype.qu=function(a){this.qj++;this.qj>=this.ul.length&&
this.ul.push(aa({name:a,index:0,Ma:!1}));var c=this.Ps();c.name=a;c.index=0;c.Ma=!1;return c};f.prototype.gu=function(){this.qj--};f.prototype.Ps=function(){return this.ul[this.qj]};f.prototype.An=function(a,c){for(var g,d,b,k,h,e;c;){g=0;for(d=c.Hc.length;g<d;g++)if(e=c.Hc[g],e instanceof Zb&&sb(a,e.name))return e;c=c.parent}g=0;for(d=this.Ad.length;g<d;g++)for(h=this.Ad[g],b=0,k=h.me.length;b<k;b++)if(e=h.me[b],e instanceof Zb&&sb(a,e.name))return e;return null};f.prototype.Bn=function(a){var c,
g;c=0;for(g=this.Vc.length;c<g;c++)if(this.Vc[c].R===a)return this.Vc[c];return null};f.prototype.Qi=function(a){var c,g;c=0;for(g=this.k.length;c<g;c++)if(this.k[c].R===a)return this.k[c];return null};f.prototype.Rs=function(a){var c,g;c=0;for(g=this.de.length;c<g;c++)if(this.de[c].R===a)return this.de[c];return null};f.prototype.yr=function(a,c){this.Jh=[a,c];this.da=!0};f.prototype.ut=function(){var a=this,c=this.Zl,g=this.Gd,d=this.jj,k=!1;this.zp&&(k=!0,c="__c2_continuouspreview",this.zp=!1);
if(c.length){this.qb();g=this.Hu();if(m()&&!this.Sc)u(c,g,function(){ia("Saved state to IndexedDB storage ("+g.length+" bytes)");a.Gd=g;a.trigger(X.prototype.n.$j,null);a.Gd="";k&&b()},function(d){try{localStorage.setItem("__c2save_"+c,g),ia("Saved state to WebStorage ("+g.length+" bytes)"),a.Gd=g,a.trigger(X.prototype.n.$j,null),a.Gd="",k&&b()}catch(h){ia("Failed to save game state: "+d+"; "+h),a.trigger(X.prototype.n.Km,null)}});else try{localStorage.setItem("__c2save_"+c,g),ia("Saved state to WebStorage ("+
g.length+" bytes)"),a.Gd=g,this.trigger(X.prototype.n.$j,null),a.Gd="",k&&b()}catch(h){ia("Error saving to WebStorage: "+h),a.trigger(X.prototype.n.Km,null)}this.jj=this.Zl="";this.Va=null}if(d.length){if(m()&&!this.Sc)t(d,function(c){c?(a.Va=c,ia("Loaded state from IndexedDB storage ("+a.Va.length+" bytes)")):(a.Va=localStorage.getItem("__c2save_"+d)||"",ia("Loaded state from WebStorage ("+a.Va.length+" bytes)"));a.Kh=!1;a.Va||(a.Va=null,a.trigger(X.prototype.n.Zh,null))},function(){a.Va=localStorage.getItem("__c2save_"+
d)||"";ia("Loaded state from WebStorage ("+a.Va.length+" bytes)");a.Kh=!1;a.Va||(a.Va=null,a.trigger(X.prototype.n.Zh,null))});else{try{this.Va=localStorage.getItem("__c2save_"+d)||"",ia("Loaded state from WebStorage ("+this.Va.length+" bytes)")}catch(e){this.Va=null}this.Kh=!1;a.Va||(a.Va=null,a.trigger(X.prototype.n.Zh,null))}this.Zl=this.jj=""}null!==this.Va&&(this.qb(),this.Pt(this.Va)?(this.Gd=this.Va,this.trigger(X.prototype.n.Fq,null),this.Gd=""):a.trigger(X.prototype.n.Zh,null),this.Va=null)};
f.prototype.Hu=function(){var c,g,d,b,k,h,e,l={c2save:!0,version:1,rt:{time:this.jb.T,walltime:this.Xd.T,timescale:this.xf,tickcount:this.ad,execcount:this.Eg,next_uid:this.sh,running_layout:this.ea.R,start_time_offset:Date.now()-this.Oj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(g=this.k.length;c<g;c++)if(k=this.k[c],!k.G&&!this.tm(k)){h={instances:[]};bb(k.q)&&(h.ex=a(k.q));d=0;for(b=k.d.length;d<b;d++)h.instances.push(this.Yl(k.d[d]));l.types[k.R.toString()]=h}c=0;
for(g=this.Vc.length;c<g;c++)d=this.Vc[c],l.layouts[d.R.toString()]=d.Pb();b=l.events.groups;c=0;for(g=this.de.length;c<g;c++)d=this.de[c],b[d.R.toString()]=this.Ri[d.Lg].Kg;g=l.events.cnds;for(e in this.ie)this.ie.hasOwnProperty(e)&&(c=this.ie[e],bb(c.q)&&(g[e]={ex:a(c.q)}));g=l.events.acts;for(e in this.ae)this.ae.hasOwnProperty(e)&&(c=this.ae[e],bb(c.q)&&(g[e]={ex:a(c.q)}));g=l.events.vars;for(e in this.mg)this.mg.hasOwnProperty(e)&&(c=this.mg[e],c.aj||c.parent&&!c.Zg||(g[e]=c.data));l.system=
this.td.Pb();return JSON.stringify(l)};f.prototype.ep=function(){var a,c,g,d,b,k;this.Jd={};a=0;for(c=this.k.length;a<c;a++)if(g=this.k[a],!g.G)for(d=0,b=g.d.length;d<b;d++)k=g.d[d],this.Jd[k.uid.toString()]=k};f.prototype.Pt=function(a){var c;try{c=JSON.parse(a)}catch(g){return!1}if(!c.c2save||1<c.version)return!1;this.Tg=!0;a=c.rt;this.jb.reset();this.jb.T=a.time;this.Xd.reset();this.Xd.T=a.walltime||0;this.xf=a.timescale;this.ad=a.tickcount;this.Eg=a.execcount;this.Oj=Date.now()-a.start_time_offset;
var d=a.running_layout;if(d!==this.ea.R)if(d=this.Bn(d))this.kn(d);else return;var b,k,h,e,l,f,r;f=c.types;for(k in f)if(f.hasOwnProperty(k)&&(e=this.Qi(parseInt(k,10)))&&!e.G&&!this.tm(e)){f[k].ex?e.q=f[k].ex:cb(e.q);l=e.d;h=f[k].instances;d=0;for(b=sa(l.length,h.length);d<b;d++)this.kj(l[d],h[d]);d=h.length;for(b=l.length;d<b;d++)this.Ie(l[d]);d=l.length;for(b=h.length;d<b;d++){l=null;if(e.xa.re&&(l=this.ea.Oi(h[d].w.l),!l))continue;l=this.ke(e.zc,l,!1,0,0,!0);this.kj(l,h[d])}e.jg=!0}this.qb();
this.ep();b=c.layouts;for(k in b)b.hasOwnProperty(k)&&(d=this.Bn(parseInt(k,10)))&&d.rc(b[k]);b=c.events.groups;for(k in b)b.hasOwnProperty(k)&&(d=this.Rs(parseInt(k,10)))&&this.Ri[d.Lg]&&this.Ri[d.Lg].pp(b[k]);d=c.events.cnds;for(k in this.ie)this.ie.hasOwnProperty(k)&&(d.hasOwnProperty(k)?this.ie[k].q=d[k].ex:this.ie[k].q={});d=c.events.acts;for(k in this.ae)this.ae.hasOwnProperty(k)&&(d.hasOwnProperty(k)?this.ae[k].q=d[k].ex:this.ae[k].q={});d=c.events.vars;for(k in d)d.hasOwnProperty(k)&&this.mg.hasOwnProperty(k)&&
(this.mg[k].data=d[k]);this.sh=a.next_uid;this.Tg=!1;d=0;for(b=this.Gi.length;d<b;++d)l=this.Gi[d],this.trigger(Object.getPrototypeOf(l.type.xa).n.Xh,l);Q(this.Gi);this.td.rc(c.system);d=0;for(b=this.k.length;d<b;d++)if(e=this.k[d],!e.G&&!this.tm(e))for(c=0,k=e.d.length;c<k;c++){l=e.d[c];if(e.Kb)for(f=l.Jg(),Q(l.siblings),a=0,h=e.Ub.length;a<h;a++)r=e.Ub[a],e!==r&&l.siblings.push(r.d[f]);l.be&&l.be();if(l.I)for(a=0,h=l.I.length;a<h;a++)f=l.I[a],f.be&&f.be()}return this.da=!0};f.prototype.Yl=function(c,
g){var d,b,k,h,e;h=c.type;k=h.xa;var l={};g?l.c2=!0:l.uid=c.uid;bb(c.q)&&(l.ex=a(c.q));if(c.Ta&&c.Ta.length)for(l.ivs={},d=0,b=c.Ta.length;d<b;d++)l.ivs[c.type.Wk[d].toString()]=c.Ta[d];if(k.re){k={x:c.x,y:c.y,w:c.width,h:c.height,l:c.g.R,zi:c.md()};0!==c.i&&(k.a=c.i);1!==c.opacity&&(k.o=c.opacity);.5!==c.Yb&&(k.hX=c.Yb);.5!==c.Zb&&(k.hY=c.Zb);0!==c.tb&&(k.bm=c.tb);c.visible||(k.v=c.visible);c.wd||(k.ce=c.wd);-1!==c.rh&&(k.mts=c.rh);if(h.J.length)for(k.fx=[],d=0,b=h.J.length;d<b;d++)e=h.J[d],k.fx.push({name:e.name,
active:c.$d[e.index],params:c.Aa[e.index]});l.w=k}if(c.I&&c.I.length)for(l.behs={},d=0,b=c.I.length;d<b;d++)h=c.I[d],h.Pb&&(l.behs[h.type.R.toString()]=h.Pb());c.Pb&&(l.data=c.Pb());return l};f.prototype.Ts=function(a,c){var g,d;g=0;for(d=a.Wk.length;g<d;g++)if(a.Wk[g]===c)return g;return-1};f.prototype.Os=function(a,c){var g,d;g=0;for(d=a.I.length;g<d;g++)if(a.I[g].type.R===c)return g;return-1};f.prototype.kj=function(a,c,g){var d,b,k,h,e;e=a.type;var l=e.xa;if(g){if(!c.c2)return}else a.uid=c.uid;
c.ex?a.q=c.ex:cb(a.q);if(b=c.ivs)for(d in b)b.hasOwnProperty(d)&&(k=this.Ts(e,parseInt(d,10)),0>k||k>=a.Ta.length||(h=b[d],null===h&&(h=NaN),a.Ta[k]=h));if(l.re){k=c.w;a.g.R!==k.l&&(b=a.g,a.g=this.ea.Oi(k.l),a.g?(b.fg(a,!0),a.g.rg(a,!0),a.W(),a.g.Gh(0)):(a.g=b,g||this.Ie(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.dd=k.zi;a.i=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.Yb=k.hasOwnProperty("hX")?k.hX:.5;a.Zb=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?
k.v:!0;a.wd=k.hasOwnProperty("ce")?k.ce:!0;a.rh=k.hasOwnProperty("mts")?k.mts:-1;a.tb=k.hasOwnProperty("bm")?k.bm:0;a.ug=pb(a.tb);this.p&&qb(a,a.tb,this.p);a.W();if(k.hasOwnProperty("fx"))for(g=0,b=k.fx.length;g<b;g++)h=e.Jk(k.fx[g].name),0>h||(a.$d[h]=k.fx[g].active,a.Aa[h]=k.fx[g].params);a.cd()}if(e=c.behs)for(d in e)e.hasOwnProperty(d)&&(g=this.Os(a,parseInt(d,10)),0>g||a.I[g].rc(e[d]));c.data&&a.rc(c.data)};f.prototype.qn=function(a,c,g){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(c,g)},g)};f.prototype.Hs=function(a,c){this.qn("data.js",function(g){var d=new FileReader;d.onload=function(c){a(c.target.result)};d.onerror=c;d.readAsText(g)},c)};var Z=[],ba=0;f.prototype.wl=function(){if(Z.length&&!(8<=ba)){ba++;var a=Z.shift();this.Dr(a.filename,a.Tu,a.as)}};f.prototype.rn=function(a,c,g){var d=this;Z.push({filename:a,Tu:function(a){ba--;d.wl();c(a)},as:function(a){ba--;d.wl();g(a)}});this.wl()};f.prototype.Dr=function(a,c,g){this.qn(a,function(a){var g=
new FileReader;g.onload=function(a){c(a.target.result)};g.readAsArrayBuffer(a)},g)};f.prototype.Is=function(a,c,g){var d="",b=a.toLowerCase(),k=b.substr(b.length-4),b=b.substr(b.length-5);".mp4"===k?d="video/mp4":".webm"===b?d="video/webm":".m4a"===k?d="audio/mp4":".mp3"===k&&(d="audio/mpeg");this.rn(a,function(a){a=URL.createObjectURL(new Blob([a],{type:d}));c(a)},g)};f.prototype.Dt=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.prototype.qp=function(a,
c){this.$i&&!this.Dt(c)?this.Is(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};f.prototype.Kj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};$b=function(a){return new f(document.getElementById(a))};ac=function(a,c){return new f({dc:!0,width:a,height:c})};window.cr_createRuntime=$b;window.cr_createDCRuntime=ac;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Rm=!0;document.body.appendChild(a);a=new f(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,p){var m=window.cr_getC2Runtime();m&&m.yr(f,p)};window.cr_sizeCanvas=function(f,p){if(0!==f&&0!==p){var m=window.cr_getC2Runtime();m&&m.setSize(f,p)}};window.cr_setSuspended=function(f){var p=window.cr_getC2Runtime();p&&p.setSuspended(f)};
(function(){function f(a,d){this.b=a;this.Te=null;this.scrollX=this.b.Xa/2;this.scrollY=this.b.Wa/2;this.scale=1;this.i=0;this.If=!0;this.name=d[0];this.bu=d[1];this.au=d[2];this.width=d[1];this.height=d[2];this.Rp=d[3];this.wp=d[4];this.R=d[5];var b=d[6],h,e;this.L=[];this.Og=[];h=0;for(e=b.length;h<e;h++){var f=new bc(this,b[h]);f.Go=h;this.L.push(f)}b=d[7];this.pe=[];h=0;for(e=b.length;h<e;h++){var f=b[h],r=this.b.k[f[1]];r.zc||(r.zc=f);this.pe.push(f);-1===this.Og.indexOf(r)&&this.Og.push(r)}this.J=
[];this.X=[];this.Qd=!0;this.Aa=[];h=0;for(e=d[8].length;h<e;h++)this.J.push({id:d[8][h][0],name:d[8][h][1],La:-1,tc:!1,jc:!0,index:h}),this.Aa.push(d[8][h][2].slice(0));this.cd();this.eg=new wa(0,0,1,1);this.Sl=new wa(0,0,1,1);this.Ae={}}function p(a,d){return a.dd-d.dd}function m(a,d){this.$a=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.yd=!1;this.Ud=new wa(0,0,0,0);this.Mp=new xa;this.fa=this.aa=this.ga=this.Z=0;this.yf=!1;this.Yd=-1;this.qk=0;this.name=d[0];this.index=d[1];this.R=d[2];this.visible=
d[3];this.Nc=d[4];this.bd=d[5];this.Kd=d[6];this.Ld=d[7];this.opacity=d[8];this.Ji=d[9];this.wc=d[10];this.Wh=d[11];this.tb=d[12];this.Xr=d[13];this.ug="source-over";this.wb=this.zb=0;this.nb=null;this.Hd=q();this.Zc=!0;this.Tf=new wa(0,0,-1,-1);this.hb=new wa(0,0,-1,-1);this.wc&&(this.nb=new ob(this.b.Xa,this.b.Wa));this.sd=!1;var b=d[14],h,e;this.Cp=[];this.qc=[];this.xg=[];h=0;for(e=b.length;h<e;h++){var f=b[h],r=this.b.k[f[1]];r.zc||(r.zc=f,r.xr=this.index);this.qc.push(f);-1===this.$a.Og.indexOf(r)&&
this.$a.Og.push(r)}Ha(this.Cp,this.qc);this.J=[];this.X=[];this.Qd=!0;this.Aa=[];h=0;for(e=d[15].length;h<e;h++)this.J.push({id:d[15][h][0],name:d[15][h][1],La:-1,tc:!1,jc:!0,index:h}),this.Aa.push(d[15][h][2].slice(0));this.cd();this.eg=new wa(0,0,1,1);this.Sl=new wa(0,0,1,1)}function q(){return a.length?a.pop():[]}function u(c){Q(c);a.push(c)}f.prototype.Gu=function(a){var d=a.type.R.toString();this.Ae.hasOwnProperty(d)||(this.Ae[d]=[]);this.Ae[d].push(this.b.Yl(a))};f.prototype.Gn=function(){var a=
this.L[0];return!a.bd&&1===a.opacity&&!a.Ji&&a.visible};f.prototype.cd=function(){Q(this.X);this.Qd=!0;var a,d,b;a=0;for(d=this.J.length;a<d;a++)b=this.J[a],b.jc&&(this.X.push(b),b.tc||(this.Qd=!1))};f.prototype.Ik=function(a){var d,b,h;d=0;for(b=this.J.length;d<b;d++)if(h=this.J[d],h.name===a)return h;return null};var t=[],b=!0;f.prototype.km=function(){this.wp&&(this.Te=this.b.zk[this.wp],this.Te.vm());this.b.ea=this;this.width=this.bu;this.height=this.au;this.scrollX=this.b.Xa/2;this.scrollY=this.b.Wa/
2;var a,d,e,h,f,n,r;a=0;for(e=this.b.k.length;a<e;a++)if(d=this.b.k[a],!d.G)for(f=d.d,d=0,h=f.length;d<h;d++)if(n=f[d],n.g){var g=n.g.Go;g>=this.L.length&&(g=this.L.length-1);n.g=this.L[g];-1===n.g.d.indexOf(n)&&n.g.d.push(n);n.g.yf=!0}if(!b)for(a=0,e=this.L.length;a<e;++a)this.L[a].d.sort(p);Q(t);this.er();a=0;for(e=this.L.length;a<e;a++)n=this.L[a],n.sr(),n.Wj();f=!1;if(!this.If){for(r in this.Ae)if(this.Ae.hasOwnProperty(r)&&(d=this.b.Qi(parseInt(r,10)))&&!d.G&&this.b.um(d)){h=this.Ae[r];a=0;for(e=
h.length;a<e;a++){n=null;if(d.xa.re&&(n=this.Oi(h[a].w.l),!n))continue;n=this.b.ke(d.zc,n,!1,0,0,!0);this.b.kj(n,h[a]);f=!0;t.push(n)}Q(h)}a=0;for(e=this.L.length;a<e;a++)this.L[a].d.sort(p),this.L[a].yf=!0}f&&(this.b.qb(),this.b.ep());for(a=0;a<t.length;a++)if(n=t[a],n.type.Kb)for(e=n.Jg(),d=0,h=n.type.Ub.length;d<h;d++)r=n.type.Ub[d],n.type!==r&&(r.d.length>e?n.siblings.push(r.d[e]):r.zc&&(f=this.b.ke(r.zc,n.g,!0,n.x,n.y,!0),this.b.qb(),r.Uj(),n.siblings.push(f),t.push(f)));a=0;for(e=this.pe.length;a<
e;a++)n=this.pe[a],d=this.b.k[n[1]],d.Kb||this.b.ke(this.pe[a],null,!0);this.b.tg=null;this.b.qb();if(this.b.za&&!this.b.yb)for(a=0,e=this.b.k.length;a<e;a++)r=this.b.k[a],!r.G&&r.d.length&&r.Yo&&r.Yo(this.b.za);if(this.b.Tg)Ha(this.b.Gi,t);else for(a=0,e=t.length;a<e;a++)n=t[a],this.b.trigger(Object.getPrototypeOf(n.type.xa).n.Xh,n);Q(t);this.b.Tg||this.b.trigger(X.prototype.n.Im,null);this.If=!1};f.prototype.rr=function(){var a,d,b,h,e;d=a=0;for(b=this.pe.length;a<b;a++)h=this.pe[a],e=this.b.k[h[1]],
e.global?e.Kb||this.b.ke(h,null,!0):(this.pe[d]=h,d++);Ga(this.pe,d)};f.prototype.Su=function(){this.b.Tg||this.b.trigger(X.prototype.n.Eq,null);this.b.Zk=!0;Q(this.b.td.ic);var a,d,e,h,f,n;if(!this.If)for(a=0,d=this.L.length;a<d;a++)for(this.L[a].xm(),f=this.L[a].d,e=0,h=f.length;e<h;e++)n=f[e],n.type.global||this.b.um(n.type)&&this.Gu(n);a=0;for(d=this.L.length;a<d;a++){f=this.L[a].d;e=0;for(h=f.length;e<h;e++)n=f[e],n.type.global||this.b.Ie(n);this.b.qb();Q(f);this.L[a].yf=!0}a=0;for(d=this.b.k.length;a<
d;a++)if(f=this.b.k[a],!(f.global||f.xa.re||f.xa.Nj||f.G)){e=0;for(h=f.d.length;e<h;e++)this.b.Ie(f.d[e]);this.b.qb()}b=!1;this.b.Zk=!1};new wa(0,0,0,0);f.prototype.jd=function(a){var d,b=a,e=!1,f=!this.b.mc;f&&(this.b.ij||(this.b.ij=document.createElement("canvas"),d=this.b.ij,d.width=this.b.C,d.height=this.b.B,this.b.bo=d.getContext("2d"),e=!0),d=this.b.ij,b=this.b.bo,d.width!==this.b.C&&(d.width=this.b.C,e=!0),d.height!==this.b.B&&(d.height=this.b.B,e=!0),e&&this.b.Kj(b,this.b.Ba));b.globalAlpha=
1;b.globalCompositeOperation="source-over";this.b.$m&&!this.Gn()&&b.clearRect(0,0,this.b.C,this.b.B);var n,r,e=0;for(n=this.L.length;e<n;e++)r=this.L[e],r.visible&&0<r.opacity&&11!==r.tb&&(r.d.length||!r.bd)?r.jd(b):r.Wj();f&&a.drawImage(d,0,0,this.b.width,this.b.height)};f.prototype.Ff=function(a){a.op(!0);this.b.Ha||(this.b.Ha=a.Ib(this.b.C,this.b.B,this.b.Ba));if(this.b.Ha.Ne!==this.b.C||this.b.Ha.Me!==this.b.B)a.deleteTexture(this.b.Ha),this.b.Ha=a.Ib(this.b.C,this.b.B,this.b.Ba);a.Gc(this.b.Ha);
this.b.mc||a.sf(this.b.C,this.b.B);var d,b;for(d=this.L.length-1;0<=d;--d)b=this.L[d],b.visible&&1===b.opacity&&b.Qd&&0===b.tb&&(b.d.length||!b.bd)?b.Ff(a):b.Wj();a.op(!1)};f.prototype.lc=function(a){var d=0<this.X.length||this.b.kg||!this.b.mc||this.b.la;if(d){this.b.Ha||(this.b.Ha=a.Ib(this.b.C,this.b.B,this.b.Ba));if(this.b.Ha.Ne!==this.b.C||this.b.Ha.Me!==this.b.B)a.deleteTexture(this.b.Ha),this.b.Ha=a.Ib(this.b.C,this.b.B,this.b.Ba);a.Gc(this.b.Ha);this.b.mc||a.sf(this.b.C,this.b.B)}else this.b.Ha&&
(a.Gc(null),a.deleteTexture(this.b.Ha),this.b.Ha=null);this.b.$m&&!this.Gn()&&a.clear(0,0,0,0);var b,e,f;b=0;for(e=this.L.length;b<e;b++)f=this.L[b],f.visible&&0<f.opacity&&(f.d.length||!f.bd)?f.lc(a):f.Wj();d&&(0===this.X.length||1===this.X.length&&this.b.mc?(1===this.X.length?(d=this.X[0].index,a.Qb(this.X[0].La),a.hg(null,1/this.b.C,1/this.b.B,0,0,1,1,this.scale,this.i,0,0,this.b.C/2,this.b.B/2,this.b.jb.T,this.Aa[d]),a.Cj(this.X[0].La)&&(this.b.da=!0)):a.Qb(0),this.b.mc||a.sf(this.b.width,this.b.height),
a.Gc(null),a.np(!1),a.rf(1),a.cb(this.b.Ha),a.lp(),a.Fc(),a.vc(),d=this.b.width/2,b=this.b.height/2,a.pf(-d,b,d,b,d,-b,-d,-b),a.cb(null),a.np(!0)):this.Tl(a,null,null,null))};f.prototype.Ig=function(){return 0<this.X.length||this.b.kg||!this.b.mc||this.b.la?this.b.Ha:null};f.prototype.Cn=function(){var a=this.L[0].Xb(),d,b,e;d=1;for(b=this.L.length;d<b;d++)e=this.L[d],(0!==e.Kd||0!==e.Ld)&&e.Xb()<a&&(a=e.Xb());return a};f.prototype.jp=function(a){if(!this.Rp){var d=1/this.Cn()*this.b.C/2;a>this.width-
d&&(a=this.width-d);a<d&&(a=d)}this.scrollX!==a&&(this.scrollX=a,this.b.da=!0)};f.prototype.kp=function(a){if(!this.Rp){var d=1/this.Cn()*this.b.B/2;a>this.height-d&&(a=this.height-d);a<d&&(a=d)}this.scrollY!==a&&(this.scrollY=a,this.b.da=!0)};f.prototype.er=function(){this.jp(this.scrollX);this.kp(this.scrollY)};f.prototype.Tl=function(a,d,b,e){var f=b?b.X:d?d.X:this.X,n=1,r=0,g=0,k=0,x=this.b.C,p=this.b.B;b?(n=b.g.Xb(),r=b.g.Sa(),g=b.g.Z,k=b.g.aa,x=b.g.ga,p=b.g.fa):d&&(n=d.Xb(),r=d.Sa(),g=d.Z,k=
d.aa,x=d.ga,p=d.fa);var m=this.b.Fk,w,q,u,t,F=0,O=1,E,L,D=this.b.C,J=this.b.B,Z=D/2,ba=J/2,z=d?d.eg:this.eg,v=d?d.Sl:this.Sl,C=0,A=0,I=0,H=0,R=D,ca=D,N=J,ja=J,da=u=0;t=b?b.g.Sa():0;if(b){w=0;for(q=f.length;w<q;w++)u+=a.$s(f[w].La),da+=a.bt(f[w].La);H=b.qa;C=d.wa(H.left,H.top,!0,!0);I=d.wa(H.left,H.top,!1,!0);R=d.wa(H.right,H.bottom,!0,!0);N=d.wa(H.right,H.bottom,!1,!0);0!==t&&(w=d.wa(H.right,H.top,!0,!0),q=d.wa(H.right,H.top,!1,!0),A=d.wa(H.left,H.bottom,!0,!0),H=d.wa(H.left,H.bottom,!1,!0),t=Math.min(C,
R,w,A),R=Math.max(C,R,w,A),C=t,t=Math.min(I,N,q,H),N=Math.max(I,N,q,H),I=t);C-=u;I-=da;R+=u;N+=da;v.left=C/D;v.top=1-I/J;v.right=R/D;v.bottom=1-N/J;A=C=K(C);H=I=K(I);ca=R=ua(R);ja=N=ua(N);A-=u;H-=da;ca+=u;ja+=da;0>C&&(C=0);0>I&&(I=0);R>D&&(R=D);N>J&&(N=J);0>A&&(A=0);0>H&&(H=0);ca>D&&(ca=D);ja>J&&(ja=J);z.left=C/D;z.top=1-I/J;z.right=R/D;z.bottom=1-N/J}else z.left=v.left=0,z.top=v.top=0,z.right=v.right=1,z.bottom=v.bottom=1;da=b&&(a.zh(f[0].La)||0!==u||0!==da||1!==b.opacity||b.type.xa.Co)||d&&!b&&
1!==d.opacity;a.lp();if(da){m[F]||(m[F]=a.Ib(D,J,this.b.Ba));if(m[F].Ne!==D||m[F].Me!==J)a.deleteTexture(m[F]),m[F]=a.Ib(D,J,this.b.Ba);a.Qb(0);a.Gc(m[F]);L=ja-H;a.clearRect(A,J-H-L,ca-A,L);b?b.lc(a):(a.cb(this.b.Ua),a.rf(d.opacity),a.Fc(),a.translate(-Z,-ba),a.vc(),a.Be(C,N,R,N,R,I,C,I,z));v.left=v.top=0;v.right=v.bottom=1;b&&(t=z.top,z.top=z.bottom,z.bottom=t);F=1;O=0}a.rf(1);u=f.length-1;var Ca=a.Ol(f[u].La)||!d&&!b&&!this.b.mc;w=t=0;for(q=f.length;w<q;w++){m[F]||(m[F]=a.Ib(D,J,this.b.Ba));if(m[F].Ne!==
D||m[F].Me!==J)a.deleteTexture(m[F]),m[F]=a.Ib(D,J,this.b.Ba);a.Qb(f[w].La);t=f[w].index;a.Cj(f[w].La)&&(this.b.da=!0);0!=w||da?(a.hg(e,1/D,1/J,v.left,v.top,v.right,v.bottom,n,r,g,k,(g+x)/2,(k+p)/2,this.b.jb.T,b?b.Aa[t]:d?d.Aa[t]:this.Aa[t]),a.cb(null),w!==u||Ca?(a.Gc(m[F]),L=ja-H,E=J-H-L,a.clearRect(A,E,ca-A,L)):(b?a.Ce(b.zb,b.wb):d&&a.Ce(d.zb,d.wb),a.Gc(e)),a.cb(m[O]),a.Fc(),a.translate(-Z,-ba),a.vc(),a.Be(C,N,R,N,R,I,C,I,z),w!==u||Ca||a.cb(null)):(a.Gc(m[F]),L=ja-H,E=J-H-L,a.clearRect(A,E,ca-A,
L),b?(b.gb&&b.gb.eb?(E=b.gb.eb,O=1/E.width,E=1/E.height):(O=1/b.width,E=1/b.height),a.hg(e,O,E,v.left,v.top,v.right,v.bottom,n,r,g,k,(g+x)/2,(k+p)/2,this.b.jb.T,b.Aa[t]),b.lc(a)):(a.hg(e,1/D,1/J,0,0,1,1,n,r,g,k,(g+x)/2,(k+p)/2,this.b.jb.T,d?d.Aa[t]:this.Aa[t]),a.cb(d?this.b.Ua:this.b.Ha),a.Fc(),a.translate(-Z,-ba),a.vc(),a.Be(C,N,R,N,R,I,C,I,z)),v.left=v.top=0,v.right=v.bottom=1,b&&!Ca&&(t=N,N=I,I=t));F=0===F?1:0;O=0===F?1:0}Ca&&(a.Qb(0),b?a.Ce(b.zb,b.wb):d?a.Ce(d.zb,d.wb):this.b.mc||(a.sf(this.b.width,
this.b.height),Z=this.b.width/2,ba=this.b.height/2,I=C=0,R=this.b.width,N=this.b.height),a.Gc(e),a.cb(m[O]),a.Fc(),a.translate(-Z,-ba),a.vc(),b&&1===f.length&&!da?a.Be(C,I,R,I,R,N,C,N,z):a.Be(C,N,R,N,R,I,C,I,z),a.cb(null))};f.prototype.Oi=function(a){var d,b;d=0;for(b=this.L.length;d<b;d++)if(this.L[d].R===a)return this.L[d];return null};f.prototype.Pb=function(){var a,d,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.If,persist:this.Ae,fx:[],layers:{}};
a=0;for(d=this.J.length;a<d;a++)b=this.J[a],e.fx.push({name:b.name,active:b.jc,params:this.Aa[b.index]});a=0;for(d=this.L.length;a<d;a++)b=this.L[a],e.layers[b.R.toString()]=b.Pb();return e};f.prototype.rc=function(a){var d,b,e,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.Ae=a.persist;"undefined"!==typeof a.fv&&(this.If=a.fv);var n=a.fx;d=0;for(b=n.length;d<b;d++)if(e=this.Ik(n[d].name))e.jc=n[d].active,this.Aa[e.index]=n[d].params;this.cd();
d=a.layers;for(f in d)d.hasOwnProperty(f)&&(a=this.Oi(parseInt(f,10)))&&a.rc(d[f])};Ob=f;m.prototype.cd=function(){Q(this.X);this.Qd=!0;var a,d,b;a=0;for(d=this.J.length;a<d;a++)b=this.J[a],b.jc&&(this.X.push(b),b.tc||(this.Qd=!1))};m.prototype.Ik=function(a){var d,b,e;d=0;for(b=this.J.length;d<b;d++)if(e=this.J[d],e.name===a)return e;return null};m.prototype.sr=function(){var a,d,b,e,f,n;d=a=0;for(b=this.qc.length;a<b;a++){e=this.qc[a];f=this.b.k[e[1]];n=this.b.um(f);f=!0;if(!n||this.$a.If){e=this.b.ke(e,
this,!0);if(!e)continue;t.push(e);e.type.global&&(f=!1,this.xg.push(e.uid))}f&&(this.qc[d]=this.qc[a],d++)}this.qc.length=d;this.b.qb();!this.b.j&&this.J.length&&(this.tb=this.Xr);this.ug=pb(this.tb);this.b.p&&qb(this,this.tb,this.b.p);this.Zc=!0};m.prototype.fg=function(a,d){var b=Ka(this.d,a);0>b||(d&&this.wc&&a.Nb&&a.Nb.right>=a.Nb.left&&(a.pa(),this.nb.update(a,a.Nb,null),a.Nb.set(0,0,-1,-1)),b===this.d.length-1?this.d.pop():(Fa(this.d,b),this.Gh(b)),this.Zc=!0)};m.prototype.rg=function(a,d){a.dd=
this.d.length;this.d.push(a);d&&this.wc&&a.Nb&&a.W();this.Zc=!0};m.prototype.lu=function(a){this.d.unshift(a);this.Gh(0)};m.prototype.Ut=function(a,d,b){var e=a.md();d=d.md();Fa(this.d,e);e<d&&d--;b&&d++;d===this.d.length?this.d.push(a):this.d.splice(d,0,a);this.Gh(e<d?e:d)};m.prototype.Gh=function(a){-1===this.Yd?this.Yd=a:a<this.Yd&&(this.Yd=a);this.Zc=this.yf=!0};m.prototype.xm=function(){if(this.yf){-1===this.Yd&&(this.Yd=0);var a,d,b;if(this.wc)for(a=this.Yd,d=this.d.length;a<d;++a)b=this.d[a],
b.dd=a,this.nb.St(b.Nb);else for(a=this.Yd,d=this.d.length;a<d;++a)this.d[a].dd=a;this.yf=!1;this.Yd=-1}};m.prototype.Xb=function(a){return this.Ws()*(this.b.mc||a?this.b.sg:1)};m.prototype.Ws=function(){return(this.scale*this.$a.scale-1)*this.Wh+1};m.prototype.Sa=function(){return this.yd?0:W(this.$a.i+this.i)};var a=[],e=[],w=[];m.prototype.Nk=function(){this.xm();this.nb.Ej(this.Z,this.aa,this.ga,this.fa,w);if(!w.length)return q();if(1===w.length){var a=q();Ha(a,w[0]);Q(w);return a}for(var d=!0;1<
w.length;){for(var a=w,b=void 0,h=void 0,f=void 0,n=void 0,r=void 0,b=0,h=a.length;b<h-1;b+=2){var f=a[b],n=a[b+1],r=q(),g=f,k=n,x=r,p=0,m=0,t=0,P=g.length,G=k.length,S=void 0,F=void 0;for(x.length=P+G;p<P&&m<G;++t)S=g[p],F=k[m],S.dd<F.dd?(x[t]=S,++p):(x[t]=F,++m);for(;p<P;++p,++t)x[t]=g[p];for(;m<G;++m,++t)x[t]=k[m];d||(u(f),u(n));e.push(r)}1===h%2&&(d?(f=q(),Ha(f,a[h-1]),e.push(f)):e.push(a[h-1]));Ha(a,e);Q(e);d=!1}a=w[0];Q(w);return a};m.prototype.jd=function(a){this.sd=this.Ji||1!==this.opacity||
0!==this.tb;var d=this.b.canvas,b=a,e=!1;this.sd&&(this.b.hj||(this.b.hj=document.createElement("canvas"),d=this.b.hj,d.width=this.b.C,d.height=this.b.B,this.b.ao=d.getContext("2d"),e=!0),d=this.b.hj,b=this.b.ao,d.width!==this.b.C&&(d.width=this.b.C,e=!0),d.height!==this.b.B&&(d.height=this.b.B,e=!0),e&&this.b.Kj(b,this.b.Ba),this.bd&&b.clearRect(0,0,this.b.C,this.b.B));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.bd||(b.fillStyle="rgb("+this.Nc[0]+","+this.Nc[1]+","+this.Nc[2]+")",
b.fillRect(0,0,this.b.C,this.b.B));b.save();this.yd=!0;var e=this.he(!0),f=this.he(!1);this.yd=!1;this.b.Md&&(e=Math.round(e),f=Math.round(f));this.Gj(e,f,b);var n=this.Xb();b.scale(n,n);b.translate(-e,-f);this.wc?(this.hb.left=this.nb.Cb(this.Z),this.hb.top=this.nb.Db(this.aa),this.hb.right=this.nb.Cb(this.ga),this.hb.bottom=this.nb.Db(this.fa),this.Zc||!this.hb.Bg(this.Tf)?(u(this.Hd),e=this.Nk(),this.Zc=!1,this.Tf.vg(this.hb)):e=this.Hd):e=this.d;for(var r,g=null,f=0,n=e.length;f<n;++f)r=e[f],
r!==g&&(this.Sr(r,b),g=r);this.wc&&(this.Hd=e);b.restore();this.sd&&(a.globalCompositeOperation=this.ug,a.globalAlpha=this.opacity,a.drawImage(d,0,0))};m.prototype.Sr=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.pa();var e=a.qa;e.right<this.Z||e.bottom<this.aa||e.left>this.ga||e.top>this.fa||(b.globalCompositeOperation=a.ug,a.jd(b))}};m.prototype.Wj=function(){this.yd=!0;var a=this.he(!0),b=this.he(!1);this.yd=!1;this.b.Md&&(a=Math.round(a),b=Math.round(b));this.Gj(a,b,null)};m.prototype.Gj=
function(a,b,e){var h=this.Xb();this.Z=a;this.aa=b;this.ga=a+1/h*this.b.C;this.fa=b+1/h*this.b.B;this.Z>this.ga&&(a=this.Z,this.Z=this.ga,this.ga=a);this.aa>this.fa&&(a=this.aa,this.aa=this.fa,this.fa=a);a=this.Sa();0!==a&&(e&&(e.translate(this.b.C/2,this.b.B/2),e.rotate(-a),e.translate(this.b.C/-2,this.b.B/-2)),this.Ud.set(this.Z,this.aa,this.ga,this.fa),this.Ud.offset((this.Z+this.ga)/-2,(this.aa+this.fa)/-2),this.Mp.up(this.Ud,a),this.Mp.Tm(this.Ud),this.Ud.offset((this.Z+this.ga)/2,(this.aa+this.fa)/
2),this.Z=this.Ud.left,this.aa=this.Ud.top,this.ga=this.Ud.right,this.fa=this.Ud.bottom)};m.prototype.Ff=function(a){if(this.sd=this.Ji){this.b.Ua||(this.b.Ua=a.Ib(this.b.C,this.b.B,this.b.Ba));if(this.b.Ua.Ne!==this.b.C||this.b.Ua.Me!==this.b.B)a.deleteTexture(this.b.Ua),this.b.Ua=a.Ib(this.b.C,this.b.B,this.b.Ba);a.Gc(this.b.Ua)}this.yd=!0;var b=this.he(!0),e=this.he(!1);this.yd=!1;this.b.Md&&(b=Math.round(b),e=Math.round(e));this.Gj(b,e,null);b=this.Xb();a.Fc();a.scale(b,b);a.Hj(-this.Sa());a.translate((this.Z+
this.ga)/-2,(this.aa+this.fa)/-2);a.vc();this.wc?(this.hb.left=this.nb.Cb(this.Z),this.hb.top=this.nb.Db(this.aa),this.hb.right=this.nb.Cb(this.ga),this.hb.bottom=this.nb.Db(this.fa),this.Zc||!this.hb.Bg(this.Tf)?(u(this.Hd),b=this.Nk(),this.Zc=!1,this.Tf.vg(this.hb)):b=this.Hd):b=this.d;for(var h,f=null,e=b.length-1;0<=e;--e)h=b[e],h!==f&&(this.Ur(b[e],a),f=h);this.wc&&(this.Hd=b);this.bd||(this.qk=this.b.Se++,a.Lj(this.qk),a.mp(1,1,1),a.un(),a.xu())};m.prototype.lc=function(a){var b=0,e=0;if(this.sd=
this.Ji||1!==this.opacity||0<this.X.length||0!==this.tb){this.b.Ua||(this.b.Ua=a.Ib(this.b.C,this.b.B,this.b.Ba));if(this.b.Ua.Ne!==this.b.C||this.b.Ua.Me!==this.b.B)a.deleteTexture(this.b.Ua),this.b.Ua=a.Ib(this.b.C,this.b.B,this.b.Ba);a.Gc(this.b.Ua);this.bd&&a.clear(0,0,0,0)}this.bd||(this.b.la?(a.Lj(this.qk),a.mp(this.Nc[0]/255,this.Nc[1]/255,this.Nc[2]/255),a.un(),a.Mu()):a.clear(this.Nc[0]/255,this.Nc[1]/255,this.Nc[2]/255,1));this.yd=!0;var h=this.he(!0),b=this.he(!1);this.yd=!1;this.b.Md&&
(h=Math.round(h),b=Math.round(b));this.Gj(h,b,null);h=this.Xb();a.Fc();a.scale(h,h);a.Hj(-this.Sa());a.translate((this.Z+this.ga)/-2,(this.aa+this.fa)/-2);a.vc();this.wc?(this.hb.left=this.nb.Cb(this.Z),this.hb.top=this.nb.Db(this.aa),this.hb.right=this.nb.Cb(this.ga),this.hb.bottom=this.nb.Db(this.fa),this.Zc||!this.hb.Bg(this.Tf)?(u(this.Hd),b=this.Nk(),this.Zc=!1,this.Tf.vg(this.hb)):b=this.Hd):b=this.d;var f,n,r=null,e=0;for(f=b.length;e<f;++e)n=b[e],n!==r&&(this.Tr(b[e],a),r=n);this.wc&&(this.Hd=
b);this.sd&&(b=this.X.length?this.X[0].La:0,e=this.X.length?this.X[0].index:0,0===this.X.length||1===this.X.length&&!a.Ol(b)&&1===this.opacity?(1===this.X.length?(a.Qb(b),a.hg(this.$a.Ig(),1/this.b.C,1/this.b.B,0,0,1,1,h,this.Sa(),this.Z,this.aa,(this.Z+this.ga)/2,(this.aa+this.fa)/2,this.b.jb.T,this.Aa[e]),a.Cj(b)&&(this.b.da=!0)):a.Qb(0),a.Gc(this.$a.Ig()),a.rf(this.opacity),a.cb(this.b.Ua),a.Ce(this.zb,this.wb),a.Fc(),a.vc(),h=this.b.C/2,b=this.b.B/2,a.pf(-h,b,h,b,h,-b,-h,-b),a.cb(null)):this.$a.Tl(a,
this,null,this.$a.Ig()))};m.prototype.Tr=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.pa();var e=a.qa;e.right<this.Z||e.bottom<this.aa||e.left>this.ga||e.top>this.fa||(b.Lj(a.Se),a.Yp?this.Vr(a,b):(b.Qb(0),b.Ce(a.zb,a.wb),a.lc(b)))}};m.prototype.Ur=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.pa();var e=a.qa;e.right<this.Z||e.bottom<this.aa||e.left>this.ga||e.top>this.fa||(a.Se=this.b.Se++,0===a.tb&&1===a.opacity&&a.Qd&&a.Ff&&(b.Lj(a.Se),a.Ff(b)))}};m.prototype.Vr=function(a,
b){var e=a.X[0].La,h=a.X[0].index,f=this.Xb();if(1!==a.X.length||b.Ol(e)||b.nu(e)||(a.i||a.g.Sa())&&b.zh(e)||1!==a.opacity||a.type.xa.Co)this.$a.Tl(b,this,a,this.sd?this.b.Ua:this.$a.Ig()),b.Fc(),b.scale(f,f),b.Hj(-this.Sa()),b.translate((this.Z+this.ga)/-2,(this.aa+this.fa)/-2),b.vc();else{b.Qb(e);b.Ce(a.zb,a.wb);b.Cj(e)&&(this.b.da=!0);var n=0,r=0,g=0,k=0;b.zh(e)&&(k=a.qa,n=this.wa(k.left,k.top,!0,!0),r=this.wa(k.left,k.top,!1,!0),g=this.wa(k.right,k.bottom,!0,!0),k=this.wa(k.right,k.bottom,!1,
!0),n=n/windowWidth,r=1-r/windowHeight,g=g/windowWidth,k=1-k/windowHeight);var x;a.gb&&a.gb.eb?(x=a.gb.eb,e=1/x.width,x=1/x.height):(e=1/a.width,x=1/a.height);b.hg(this.sd?this.b.Ua:this.$a.Ig(),e,x,n,r,g,k,f,this.Sa(),this.Z,this.aa,(this.Z+this.ga)/2,(this.aa+this.fa)/2,this.b.jb.T,a.Aa[h]);a.lc(b)}};m.prototype.he=function(a){var b=0,e=0,h=this.b.devicePixelRatio;this.b.cf&&(b*=h,e*=h);var h=this.b.So,f=this.b.To,h=(this.$a.scrollX-h)*this.Kd+h,f=(this.$a.scrollY-f)*this.Ld+f,n,r,g=1/this.Xb(!1);
n=h-this.b.C*g/2;r=f-this.b.B*g/2;n+=b*g;r+=e*g;e=this.Sa();0!==e&&(n-=h,r-=f,b=Math.cos(e),e=Math.sin(e),g=n*b-r*e,r=r*b+n*e,n=g+h,r+=f);return a?n:r};m.prototype.wa=function(a,b,e,h){var f=this.b.So,n=this.b.To,r=(this.$a.scrollX-f)*this.Kd+f,g=(this.$a.scrollY-n)*this.Ld+n,n=r,f=g,k=this.Sa();if(0!==k){a-=r;b-=g;var x=Math.cos(-k),k=Math.sin(-k),p=a*x-b*k;b=b*x+a*k;a=p+r;b+=g}r=1/this.Xb(!h);h?(n-=this.b.C*r/2,f-=this.b.B*r/2):(n-=this.b.width*r/2,f-=this.b.height*r/2);n=(a-n)/r;f=(b-f)/r;a=this.b.devicePixelRatio;
this.b.cf&&!h&&(n/=a,f/=a);return e?n:f};m.prototype.Pb=function(){var a,b,e,h={s:this.scale,a:this.i,vl:this.Z,vt:this.aa,vr:this.ga,vb:this.fa,v:this.visible,bc:this.Nc,t:this.bd,px:this.Kd,py:this.Ld,o:this.opacity,zr:this.Wh,fx:[],cg:this.xg,instances:[]};a=0;for(b=this.J.length;a<b;a++)e=this.J[a],h.fx.push({name:e.name,active:e.jc,params:this.Aa[e.index]});return h};m.prototype.rc=function(a){var b,e,h;this.scale=a.s;this.i=a.a;this.Z=a.vl;this.aa=a.vt;this.ga=a.vr;this.fa=a.vb;this.visible=
a.v;this.Nc=a.bc;this.bd=a.t;this.Kd=a.px;this.Ld=a.py;this.opacity=a.o;this.Wh=a.zr;this.xg=a.cg||[];Ha(this.qc,this.Cp);var f=new fa;b=0;for(h=this.xg.length;b<h;++b)f.add(this.xg[b]);e=b=0;for(h=this.qc.length;b<h;++b)f.contains(this.qc[b][2])||(this.qc[e]=this.qc[b],++e);Ga(this.qc,e);e=a.fx;b=0;for(h=e.length;b<h;b++)if(a=this.Ik(e[b].name))a.jc=e[b].active,this.Aa[a.index]=e[b].params;this.cd();this.d.sort(p);this.yf=!0};bc=m})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function p(a,b){return a.index-b.index}function m(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(p);a.length>=y.length&&(y.length=a.length+1);y[a.length]||(y[a.length]=[]);e=y[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}
function q(a,b){this.b=a;this.Op={};this.pn={};this.Rk=!1;this.In=new fa;this.uk=[];this.dk=[];this.name=b[0];var c=b[1];this.me=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Kn(c[d],null,this.me)}function u(a){this.type=a;this.d=[];this.Y=[];this.ra=!0}function t(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ka=[];this.Ee=[];this.Hn=this.Sj=this.pm=this.Vi=this.group=this.jm=!1;this.Pa=[];this.Lc=[];this.Hc=[];this.Lg="";this.Kg=this.Vi=this.group=!1;this.ni=null;c[1]&&(this.Lg=c[1][1].toLowerCase(),
this.group=!0,this.Vi=!!c[1][0],this.ni=[],this.Kg=this.Vi,this.b.de.push(this),this.b.Ri[this.Lg]=this);this.Wc=c[2];this.R=c[4];this.group||(this.b.Sm[this.R.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new cc(this,d[a]);e.index=a;this.Pa.push(e);this.Nm(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new dc(this,d[a]),e.index=a,this.Lc.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Kn(c[a],this,this.Hc);this.bj=!1;this.Pa.length&&(this.bj=null==this.Pa[0].type&&
this.Pa[0].ib==X.prototype.n.mq)}function b(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Kb))for(c=0,d=a.Ub.length;c<d;c++)e=a.Ub[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.kc=a;this.sheet=a.sheet;this.b=a.b;this.M=[];this.Ca=[];this.q={};this.index=-1;this.pg=!1;this.ib=this.b.Zd(b[1]);this.trigger=0<b[3];this.nn=2===b[3];this.od=b[4];this.Xk=b[5];this.Ot=b[6];this.R=b[7];this.b.ie[this.R.toString()]=this;-1===b[0]?(this.type=null,this.Ka=this.Xl,this.Le=null,this.Pc=-1):
(this.type=this.b.k[b[0]],this.Ka=this.Ot?this.Eu:this.Wl,b[2]?(this.Le=this.type.Mi(b[2]),this.Pc=this.type.Gk(b[2])):(this.Le=null,this.Pc=-1),this.kc.parent&&this.kc.parent.Mj());this.nn&&(this.Ka=this.Fu);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var h=new ec(this,e[c]);this.M.push(h)}this.Ca.length=e.length}}function e(a,b){this.kc=a;this.sheet=a.sheet;this.b=a.b;this.M=[];this.Ca=[];this.q={};this.index=-1;this.pg=!1;this.ib=this.b.Zd(b[1]);-1===b[0]?(this.type=null,this.Ka=
this.Xl,this.Le=null,this.Pc=-1):(this.type=this.b.k[b[0]],this.Ka=this.Wl,b[2]?(this.Le=this.type.Mi(b[2]),this.Pc=this.type.Gk(b[2])):(this.Le=null,this.Pc=-1));this.R=b[3];this.b.ae[this.R.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var h=new ec(this,e[c]);this.M.push(h)}this.Ca.length=e.length}}function w(){r++;n.length===r&&n.push(new fc);return n[r]}function c(a,b){this.Cc=a;this.kc=a.kc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.kd=null;this.Rd=0;this.get=
null;this.an=0;this.$a=null;this.key=0;this.object=null;this.index=0;this.Qh=this.uf=this.Qh=this.uf=this.sn=this.Ue=this.Rh=null;this.Jc=!1;var c,d,e;switch(b[0]){case 0:case 7:this.kd=new gc(this,b[1]);this.Rd=0;this.get=this.ht;break;case 1:this.kd=new gc(this,b[1]);this.Rd=0;this.get=this.it;break;case 5:this.kd=new gc(this,b[1]);this.Rd=0;this.get=this.mt;break;case 3:case 8:this.an=b[1];this.get=this.ft;break;case 6:this.$a=this.b.kl[b[1]];this.get=this.nt;break;case 9:this.key=b[1];this.get=
this.lt;break;case 4:this.object=this.b.k[b[1]];this.get=this.ot;this.kc.Nm(this.object);this.Cc instanceof dc?this.kc.Mj():this.kc.parent&&this.kc.parent.Mj();break;case 10:this.index=b[1];a.type&&a.type.G?(this.get=this.jt,this.Jc=!0):this.get=this.kt;break;case 11:this.Rh=b[1];this.Ue=null;this.get=this.gt;break;case 2:case 12:this.sn=b[1];this.get=this.et;break;case 13:for(this.get=this.pt,this.uf=[],this.Qh=[],c=1,d=b.length;c<d;c++)e=new ec(this.Cc,b[c]),this.uf.push(e),this.Qh.push(0)}}function d(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ka=[];this.name=c[1];this.Sh=c[2];this.Ui=c[3];this.Zg=!!c[4];this.aj=!!c[5];this.R=c[6];this.b.mg[this.R.toString()]=this;this.data=this.Ui;this.parent?(this.jf=this.Zg||this.aj?-1:this.b.Qu++,this.b.$q.push(this)):(this.jf=-1,this.b.ck.push(this))}function l(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ka=[];this.Ng=null;this.yt=c[1];this.jc=!0}function h(){this.Ep=[];this.reset(null)}var y=[];q.prototype.toString=function(){return this.name};
q.prototype.Kn=function(a,b,c){switch(a[0]){case 0:a=new hc(this,b,a);if(a.Wc)for(c.push(a),c=0,b=a.Pa.length;c<b;c++)a.Pa[c].trigger&&this.Ln(a,c);else a.Tn()?this.Ln(a,0):c.push(a);break;case 1:a=new Zb(this,b,a);c.push(a);break;case 2:a=new ic(this,b,a),c.push(a)}};q.prototype.Ea=function(){var a,b;a=0;for(b=this.me.length;a<b;a++)this.me[a].Ea(a<b-1&&this.me[a+1].bj)};q.prototype.vm=function(){Q(this.uk);Q(this.dk);this.Lm(this);Q(this.dk)};q.prototype.Lm=function(a){var b,c,d,e,h=a.uk,f=a.dk,
r=this.In.Wd();b=0;for(c=r.length;b<c;++b)d=r[b],e=d.Ng,!d.jc||a===e||-1<f.indexOf(e)||(f.push(e),e.Lm(a),h.push(e))};q.prototype.Ka=function(a){this.b.qw||(this.Rk=!0,a||(this.b.cl=!0));var b,c;b=0;for(c=this.me.length;b<c;b++){var d=this.me[b];d.Ka();this.b.pk(d.ka);this.b.oe&&this.b.qb()}a||(this.b.cl=!1)};q.prototype.Ln=function(a,b){a.Wc||this.b.Tj.push(a);var c,d,e=a.Pa[b],h;e.type?h=e.type.name:h="system";var f=(c=e.nn)?this.pn:this.Op;f[h]||(f[h]=[]);h=f[h];f=e.ib;if(c){if(e.M.length&&(e=
e.M[0],1===e.type&&2===e.kd.type)){e=e.kd.value.toLowerCase();c=0;for(d=h.length;c<d;c++)if(h[c].method==f){c=h[c].Dg;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];h.push({method:f,Dg:c})}}else{c=0;for(d=h.length;c<d;c++)if(h[c].method==f){h[c].Dg.push([a,b]);return}xc&&f===xc.prototype.n.Bf?h.unshift({method:f,Dg:[[a,b]]}):h.push({method:f,Dg:[[a,b]]})}};Pb=q;u.prototype.Fn=function(){return this.ra?this.type.d.length:this.d.length};u.prototype.oc=function(){return this.ra?this.type.d:
this.d};u.prototype.yh=function(a){a&&(a.b.xb().Bb.Wc?(this.ra&&(Q(this.d),Ha(this.Y,a.type.d),this.ra=!1),a=this.Y.indexOf(a),-1!==a&&(this.d.push(this.Y[a]),this.Y.splice(a,1))):(this.ra=!1,Q(this.d),this.d[0]=a))};wb=u;window._c2hh_="7FE4E7585B092F815764D292A79CA071DCE18F83";t.prototype.Ea=function(a){var b,c=this.parent;if(this.group)for(this.Sj=!0;c;){if(!c.group){this.Sj=!1;break}c=c.parent}this.pm=!this.Tn()&&(!this.parent||this.parent.group&&this.parent.Sj);this.Hn=!!a;this.Ee=this.ka.slice(0);
for(c=this.parent;c;){a=0;for(b=c.ka.length;a<b;a++)this.Xq(c.ka[a]);c=c.parent}this.ka=m(this.ka);this.Ee=m(this.Ee);a=0;for(b=this.Pa.length;a<b;a++)this.Pa[a].Ea();a=0;for(b=this.Lc.length;a<b;a++)this.Lc[a].Ea();a=0;for(b=this.Hc.length;a<b;a++)this.Hc[a].Ea(a<b-1&&this.Hc[a+1].bj)};t.prototype.pp=function(a){if(this.Kg!==!!a){this.Kg=!!a;var b;a=0;for(b=this.ni.length;a<b;++a)this.ni[a].Up();0<b&&this.b.ea.Te&&this.b.ea.Te.vm()}};t.prototype.Nm=function(a){b(a,this.ka)};t.prototype.Xq=function(a){b(a,
this.Ee)};t.prototype.Mj=function(){this.jm=!0;this.parent&&this.parent.Mj()};t.prototype.Tn=function(){return this.Pa.length?this.Pa[0].trigger:!1};t.prototype.Ka=function(){var a,b,c=!1,d=this.b,e=this.b.xb();e.Bb=this;var h=this.Pa;this.bj||(e.xk=!1);if(this.Wc){0===h.length&&(c=!0);e.Oa=0;for(a=h.length;e.Oa<a;e.Oa++)b=h[e.Oa],b.trigger||(b=b.Ka())&&(c=!0);(e.ef=c)&&this.Ij()}else{e.Oa=0;for(a=h.length;e.Oa<a;e.Oa++)if(b=h[e.Oa].Ka(),!b){e.ef=!1;this.pm&&d.oe&&d.qb();return}e.ef=!0;this.Ij()}this.Zr(e)};
t.prototype.Zr=function(a){a.ef&&this.Hn&&(a.xk=!0);this.pm&&this.b.oe&&this.b.qb()};t.prototype.Cu=function(a){this.b.xb().Bb=this;this.Pa[a].Ka()&&(this.Ij(),this.b.xb().ef=!0)};t.prototype.Ij=function(){var a=this.b.xb(),b;a.xc=0;for(b=this.Lc.length;a.xc<b;a.xc++)if(this.Lc[a.xc].Ka())return;this.hp()};t.prototype.zu=function(){var a=this.b.xb(),b;for(b=this.Lc.length;a.xc<b;a.xc++)if(this.Lc[a.xc].Ka())return;this.hp()};t.prototype.hp=function(){if(this.Hc.length){var a,b,c,d,e=this.Hc.length-
1;this.b.Dj(this);if(this.jm)for(a=0,b=this.Hc.length;a<b;a++)c=this.Hc[a],(d=!this.Sj||!this.group&&a<e)&&this.b.dg(c.ka),c.Ka(),d?this.b.Nd(c.ka):this.b.pk(c.ka);else for(a=0,b=this.Hc.length;a<b;a++)this.Hc[a].Ka();this.b.zj()}};t.prototype.Du=function(){var a=this.b.xb();a.Bb=this;var b=!1,c;a.Oa=0;for(c=this.Pa.length;a.Oa<c;a.Oa++)if(this.Pa[a.Oa].Ka())b=!0;else if(!this.Wc)return!1;return this.Wc?b:!0};t.prototype.Ch=function(){this.b.Eg++;var a=this.b.xb().Oa,b=this.b.Dj(this);if(!this.Wc)for(b.Oa=
a+1,a=this.Pa.length;b.Oa<a;b.Oa++)if(!this.Pa[b.Oa].Ka()){this.b.zj();return}this.Ij();this.b.zj()};t.prototype.Gt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Pa[b].type===a.type)return!1;return!0};hc=t;a.prototype.Ea=function(){var a,b,c;a=0;for(b=this.M.length;a<b;a++)c=this.M[a],c.Ea(),c.Jc&&(this.pg=!0)};a.prototype.Fu=function(){return!0};a.prototype.Xl=function(){var a,b;a=0;for(b=this.M.length;a<b;a++)this.Ca[a]=this.M[a].get();return ab(this.ib.apply(this.b.td,this.Ca),
this.Xk)};a.prototype.Eu=function(){var a,b;a=0;for(b=this.M.length;a<b;a++)this.Ca[a]=this.M[a].get();a=this.ib.apply(this.Le?this.Le:this.type,this.Ca);this.type.fd();return a};a.prototype.Wl=function(){var a,b,c,d,e,h,f,r,l=this.type,n=l.ba(),p=this.kc.Wc&&!this.trigger;b=0;var m=l.Kb,w=l.G,q=l.Bd,u=this.Pc,y=-1<u,t=this.pg,z=this.M,v=this.Ca,C=this.Xk,A=this.ib,I;if(t)for(b=0,e=z.length;b<e;++b)h=z[b],h.Jc||(v[b]=h.get(0));else for(b=0,e=z.length;b<e;++b)v[b]=z[b].get(0);if(n.ra){Q(n.d);Q(n.Y);
I=l.d;a=0;for(d=I.length;a<d;++a){r=I[a];if(t)for(b=0,e=z.length;b<e;++b)h=z[b],h.Jc&&(v[b]=h.get(a));y?(b=0,w&&(b=r.type.Hf[q]),b=A.apply(r.I[u+b],v)):b=A.apply(r,v);(f=ab(b,C))?n.d.push(r):p&&n.Y.push(r)}l.finish&&l.finish(!0);n.ra=!1;l.fd();return n.Fn()}c=0;I=(f=p&&!this.kc.Gt(this))?n.Y:n.d;var H=!1;a=0;for(d=I.length;a<d;++a){r=I[a];if(t)for(b=0,e=z.length;b<e;++b)h=z[b],h.Jc&&(v[b]=h.get(a));y?(b=0,w&&(b=r.type.Hf[q]),b=A.apply(r.I[u+b],v)):b=A.apply(r,v);if(ab(b,C))if(H=!0,f){if(n.d.push(r),
m)for(b=0,e=r.siblings.length;b<e;b++)h=r.siblings[b],h.type.ba().d.push(h)}else{I[c]=r;if(m)for(b=0,e=r.siblings.length;b<e;b++)h=r.siblings[b],h.type.ba().d[c]=h;c++}else if(f){I[c]=r;if(m)for(b=0,e=r.siblings.length;b<e;b++)h=r.siblings[b],h.type.ba().Y[c]=h;c++}else if(p&&(n.Y.push(r),m))for(b=0,e=r.siblings.length;b<e;b++)h=r.siblings[b],h.type.ba().Y.push(h)}Ga(I,c);if(m)for(w=l.Ub,a=0,d=w.length;a<d;a++)r=w[a].ba(),f?Ga(r.Y,c):Ga(r.d,c);c=H;if(f&&!H)for(a=0,d=n.d.length;a<d;a++){r=n.d[a];if(t)for(b=
0,e=z.length;b<e;b++)h=z[b],h.Jc&&(v[b]=h.get(a));b=y?A.apply(r.I[u],v):A.apply(r,v);if(ab(b,C)){H=!0;break}}l.finish&&l.finish(c||p);return p?H:n.Fn()};cc=a;e.prototype.Ea=function(){var a,b,c;a=0;for(b=this.M.length;a<b;a++)c=this.M[a],c.Ea(),c.Jc&&(this.pg=!0)};e.prototype.Xl=function(){var a=this.b,b,c,d=this.M,e=this.Ca;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.ib.apply(a.td,e)};e.prototype.Wl=function(){var a=this.type,b=this.Pc,c=a.Bd,d=this.pg,e=this.M,h=this.Ca,f=this.ib,r=a.ba().oc(),
a=a.G,l=-1<b,n,p,m,w,q,u;if(d)for(p=0,w=e.length;p<w;++p)q=e[p],q.Jc||(h[p]=q.get(0));else for(p=0,w=e.length;p<w;++p)h[p]=e[p].get(0);n=0;for(m=r.length;n<m;++n){u=r[n];if(d)for(p=0,w=e.length;p<w;++p)q=e[p],q.Jc&&(h[p]=q.get(n));l?(p=0,a&&(p=u.type.Hf[c]),f.apply(u.I[b+p],h)):f.apply(u,h)}return!1};dc=e;var n=[],r=-1;c.prototype.Ea=function(){var a,b;if(11===this.type)this.Ue=this.b.An(this.Rh,this.kc.parent);else if(13===this.type)for(a=0,b=this.uf.length;a<b;a++)this.uf[a].Ea();this.kd&&this.kd.Ea()};
c.prototype.Tt=function(a){this.Jc||!a||a.xa.Nj||(this.Jc=!0)};c.prototype.sp=function(){this.Jc=!0};c.prototype.ht=function(a){this.Rd=a||0;a=w();this.kd.get(a);r--;return a.data};c.prototype.it=function(a){this.Rd=a||0;a=w();this.kd.get(a);r--;return B(a.data)?a.data:""};c.prototype.ot=function(){return this.object};c.prototype.ft=function(){return this.an};c.prototype.mt=function(a){this.Rd=a||0;a=w();this.kd.get(a);r--;return a.Za()?this.b.Vs(a.data):this.b.Us(a.data)};c.prototype.nt=function(){return this.$a};
c.prototype.lt=function(){return this.key};c.prototype.kt=function(){return this.index};c.prototype.jt=function(a){a=a||0;var b=this.Cc.type,c=null,c=b.ba(),d=c.oc();if(d.length)c=d[a%d.length].type;else if(c.Y.length)c=c.Y[a%c.Y.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.Ei[b.Bd]};c.prototype.gt=function(){return this.Ue};c.prototype.et=function(){return this.sn};c.prototype.pt=function(){var a,b;a=0;for(b=this.uf.length;a<b;a++)this.Qh[a]=this.uf[a].get();
return this.Qh};ec=c;d.prototype.Ea=function(){this.ka=m(this.ka)};d.prototype.Pd=function(a){var b=this.b.zn();this.parent&&!this.Zg&&b?(this.jf>=b.length&&(b.length=this.jf+1),b[this.jf]=a):this.data=a};d.prototype.We=function(){var a=this.b.zn();return!this.parent||this.Zg||!a||this.aj?this.data:this.jf>=a.length||"undefined"===typeof a[this.jf]?this.Ui:a[this.jf]};d.prototype.Ka=function(){!this.parent||this.Zg||this.aj||this.Pd(this.Ui)};Zb=d;l.prototype.toString=function(){return"include:"+
this.Ng.toString()};l.prototype.Ea=function(){this.Ng=this.b.zk[this.yt];this.sheet.In.add(this);this.ka=m(this.ka);for(var a=this.parent;a;)a.group&&a.ni.push(this),a=a.parent;this.Up()};l.prototype.Ka=function(){this.parent&&this.b.Bh(this.b.k);this.Ng.Rk||this.Ng.Ka(!0);this.parent&&this.b.Nd(this.b.k)};l.prototype.Up=function(){for(var a=this.parent;a;){if(a.group&&!a.Kg){this.jc=!1;return}a=a.parent}this.jc=!0};ic=l;h.prototype.reset=function(a){this.Bb=a;this.xc=this.Oa=0;Q(this.Ep);this.xk=
this.ef=!1};h.prototype.It=function(){return this.Bb.jm?!0:this.Oa<this.Bb.Pa.length-1?!!this.Bb.ka.length:!1};Yb=h})();
(function(){function f(b,a){this.Cc=b;this.b=b.b;this.type=a[0];this.get=[this.ts,this.os,this.Cs,this.Fs,this.bs,this.Ds,this.xs,this.ls,this.ws,this.Bs,this.cs,this.As,this.ms,this.ys,this.us,this.vs,this.qs,this.rs,this.ks,this.Es,this.zs,this.ss,this.js,this.ns][this.type];var e=null;this.Id=this.M=this.Ca=this.ib=this.Rj=this.second=this.first=this.value=null;this.Pc=-1;this.Rc=null;this.Zp=-1;this.Ue=this.Rh=null;this.gg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new gc(b,a[1]);break;case 18:this.first=new gc(b,a[1]);this.second=new gc(b,a[2]);this.Rj=new gc(b,a[3]);break;case 19:this.ib=this.b.Zd(a[1]);this.ib!==X.prototype.Qa.random&&this.ib!==X.prototype.Qa.nr||this.Cc.sp();this.Ca=[];this.M=[];3===a.length?(e=a[2],this.Ca.length=e.length+1):this.Ca.length=1;break;case 20:this.Id=this.b.k[a[1]];this.Pc=-1;this.ib=this.b.Zd(a[2]);this.gg=a[3];lc.Function&&this.ib===lc.Function.prototype.Qa.mv&&this.Cc.sp();a[4]?this.Rc=new gc(b,a[4]):this.Rc=null;this.Ca=
[];this.M=[];6===a.length?(e=a[5],this.Ca.length=e.length+1):this.Ca.length=1;break;case 21:this.Id=this.b.k[a[1]];this.gg=a[2];a[3]?this.Rc=new gc(b,a[3]):this.Rc=null;this.Zp=a[4];break;case 22:this.Id=this.b.k[a[1]];this.Id.Mi(a[2]);this.Pc=this.Id.Gk(a[2]);this.ib=this.b.Zd(a[3]);this.gg=a[4];a[5]?this.Rc=new gc(b,a[5]):this.Rc=null;this.Ca=[];this.M=[];7===a.length?(e=a[6],this.Ca.length=e.length+1):this.Ca.length=1;break;case 23:this.Rh=a[1],this.Ue=null}this.Cc.Tt(this.Id);4<=this.type&&17>=
this.type&&(this.first=new gc(b,a[1]),this.second=new gc(b,a[2]));if(e){var f,c;f=0;for(c=e.length;f<c;f++)this.M.push(new gc(b,e[f]))}}function p(){++t;u.length===t&&u.push(new fc);return u[t]}function m(b,a,e){var f,c;f=0;for(c=b.length;f<c;++f)b[f].get(e),a[f+1]=e.data}function q(b,a){this.type=b||jc.Af;this.data=a||0;this.mf=null;this.type==jc.Af&&(this.data=Math.floor(this.data))}f.prototype.Ea=function(){23===this.type&&(this.Ue=this.Cc.b.An(this.Rh,this.Cc.kc.parent));this.first&&this.first.Ea();
this.second&&this.second.Ea();this.Rj&&this.Rj.Ea();this.Rc&&this.Rc.Ea();if(this.M){var b,a;b=0;for(a=this.M.length;b<a;b++)this.M[b].Ea()}};var u=[],t=-1;f.prototype.Es=function(b){var a=this.M,e=this.Ca;e[0]=b;b=p();m(a,e,b);--t;this.ib.apply(this.b.td,e)};f.prototype.zs=function(b){var a=this.Id,e=this.Ca,f=this.M,c=this.Rc,d=this.ib,l=this.Cc.Rd,h=a.ba(),q=h.oc();if(!q.length)if(h.Y.length)q=h.Y;else{this.gg?b.gc(""):b.na(0);return}e[0]=b;b.mf=a;b=p();m(f,e,b);c&&(c.get(b),b.Za()&&(l=b.data,
q=a.d));--t;a=q.length;if(l>=a||l<=-a)l%=a;0>l&&(l+=a);d.apply(q[l],e)};f.prototype.js=function(b){var a=this.Id,e=this.Ca,f=this.M,c=this.Rc,d=this.Pc,l=this.ib,h=this.Cc.Rd,q=a.ba(),n=q.oc();if(!n.length)if(q.Y.length)n=q.Y;else{this.gg?b.gc(""):b.na(0);return}e[0]=b;b.mf=a;b=p();m(f,e,b);c&&(c.get(b),b.Za()&&(h=b.data,n=a.d));--t;f=n.length;if(h>=f||h<=-f)h%=f;0>h&&(h+=f);h=n[h];n=0;a.G&&(n=h.type.Hf[a.Bd]);l.apply(h.I[d+n],e)};f.prototype.ss=function(b){var a=this.Rc,e=this.Id,f=this.Zp,c=this.Cc.Rd,
d=e.ba(),l=d.oc();if(!l.length)if(d.Y.length)l=d.Y;else{this.gg?b.gc(""):b.na(0);return}if(a){d=p();a.get(d);if(d.Za()){c=d.data;l=e.d;0!==l.length&&(c%=l.length,0>c&&(c+=l.length));c=e.Lk(c);e=c.Ta[f];B(e)?b.gc(e):b.N(e);--t;return}--t}a=l.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=l[c];l=0;e.G&&(l=c.type.Ei[e.Bd]);e=c.Ta[f+l];B(e)?b.gc(e):b.N(e)};f.prototype.ts=function(b){b.type=jc.Af;b.data=this.value};f.prototype.os=function(b){b.type=jc.zf;b.data=this.value};f.prototype.Cs=function(b){b.type=
jc.String;b.data=this.value};f.prototype.Fs=function(b){this.first.get(b);b.Za()&&(b.data=-b.data)};f.prototype.bs=function(b){this.first.get(b);var a=p();this.second.get(a);b.Za()&&a.Za()&&(b.data+=a.data,a.Mf()&&b.Wf());--t};f.prototype.Ds=function(b){this.first.get(b);var a=p();this.second.get(a);b.Za()&&a.Za()&&(b.data-=a.data,a.Mf()&&b.Wf());--t};f.prototype.xs=function(b){this.first.get(b);var a=p();this.second.get(a);b.Za()&&a.Za()&&(b.data*=a.data,a.Mf()&&b.Wf());--t};f.prototype.ls=function(b){this.first.get(b);
var a=p();this.second.get(a);b.Za()&&a.Za()&&(b.data/=a.data,b.Wf());--t};f.prototype.ws=function(b){this.first.get(b);var a=p();this.second.get(a);b.Za()&&a.Za()&&(b.data%=a.data,a.Mf()&&b.Wf());--t};f.prototype.Bs=function(b){this.first.get(b);var a=p();this.second.get(a);b.Za()&&a.Za()&&(b.data=Math.pow(b.data,a.data),a.Mf()&&b.Wf());--t};f.prototype.cs=function(b){this.first.get(b);var a=p();this.second.get(a);a.Pf()||b.Pf()?this.es(b,a):this.ds(b,a);--t};f.prototype.es=function(b,a){b.Pf()&&
a.Pf()?this.hs(b,a):this.gs(b,a)};f.prototype.hs=function(b,a){b.data+=a.data};f.prototype.gs=function(b,a){b.Pf()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.gc(b.data.toString()+a.data)};f.prototype.ds=function(b,a){b.na(b.data&&a.data?1:0)};f.prototype.As=function(b){this.first.get(b);var a=p();this.second.get(a);b.Za()&&a.Za()&&(b.data||a.data?b.na(1):b.na(0));--t};f.prototype.ks=function(b){this.first.get(b);b.data?this.second.get(b):this.Rj.get(b)};f.prototype.ms=function(b){this.first.get(b);
var a=p();this.second.get(a);b.na(b.data===a.data?1:0);--t};f.prototype.ys=function(b){this.first.get(b);var a=p();this.second.get(a);b.na(b.data!==a.data?1:0);--t};f.prototype.us=function(b){this.first.get(b);var a=p();this.second.get(a);b.na(b.data<a.data?1:0);--t};f.prototype.vs=function(b){this.first.get(b);var a=p();this.second.get(a);b.na(b.data<=a.data?1:0);--t};f.prototype.qs=function(b){this.first.get(b);var a=p();this.second.get(a);b.na(b.data>a.data?1:0);--t};f.prototype.rs=function(b){this.first.get(b);
var a=p();this.second.get(a);b.na(b.data>=a.data?1:0);--t};f.prototype.ns=function(b){var a=this.Ue.We();ma(a)?b.N(a):b.gc(a)};gc=f;q.prototype.Mf=function(){return this.type===jc.zf};q.prototype.Za=function(){return this.type===jc.Af||this.type===jc.zf};q.prototype.Pf=function(){return this.type===jc.String};q.prototype.Wf=function(){this.Mf()||(this.Pf()&&(this.data=parseFloat(this.data)),this.type=jc.zf)};q.prototype.na=function(b){this.type=jc.Af;this.data=Math.floor(b)};q.prototype.N=function(b){this.type=
jc.zf;this.data=b};q.prototype.gc=function(b){this.type=jc.String;this.data=b};q.prototype.Nu=function(b){ma(b)?(this.type=jc.zf,this.data=b):B(b)?(this.type=jc.String,this.data=b.toString()):(this.type=jc.Af,this.data=0)};fc=q;jc={Af:0,zf:1,String:2}})();function X(f){this.b=f;this.ic=[]}
X.prototype.Pb=function(){var f={},p,m,q,u,t,b,a,e;f.waits=[];var w=f.waits,c;p=0;for(m=this.ic.length;p<m;p++){b=this.ic[p];c={t:b.time,st:b.Pu,s:b.yp,ev:b.Cg.R,sm:[],sols:{}};b.Cg.Lc[b.xc]&&(c.act=b.Cg.Lc[b.xc].R);q=0;for(u=b.ka.length;q<u;q++)c.sm.push(b.ka[q].R);for(t in b.hc)if(b.hc.hasOwnProperty(t)){a=this.b.k[parseInt(t,10)];e={sa:b.hc[t].ip,insts:[]};q=0;for(u=b.hc[t].$e.length;q<u;q++)e.insts.push(b.hc[t].$e[q].uid);c.sols[a.R.toString()]=e}w.push(c)}return f};
X.prototype.rc=function(f){f=f.waits;var p,m,q,u,t,b,a,e,w,c,d;Q(this.ic);p=0;for(m=f.length;p<m;p++)if(b=f[p],e=this.b.Sm[b.ev.toString()]){w=-1;q=0;for(u=e.Lc.length;q<u;q++)if(e.Lc[q].R===b.act){w=q;break}if(-1!==w){a={hc:{},ka:[],jn:!1};a.time=b.t;a.Pu=b.st||"";a.yp=!!b.s;a.Cg=e;a.xc=w;q=0;for(u=b.sm.length;q<u;q++)(e=this.b.Qi(b.sm[q]))&&a.ka.push(e);for(t in b.sols)if(b.sols.hasOwnProperty(t)&&(e=this.b.Qi(parseInt(t,10)))){w=b.sols[t];c={ip:w.sa,$e:[]};q=0;for(u=w.insts.length;q<u;q++)(d=this.b.Pi(w.insts[q]))&&
c.$e.push(d);a.hc[e.index.toString()]=c}this.ic.push(a)}}};
(function(){function f(){}function p(){}function m(){}var q=X.prototype;f.prototype.oq=function(){return!0};f.prototype.Im=function(){return!0};f.prototype.Eq=function(){return!0};f.prototype.iq=function(b,a,e){return kc(b,a,e)};f.prototype.pq=function(b,a,e){var f=this.b.xb(),c=f.Bb,f=f.It();b=this.b.qu(b);if(e<a)if(f)for(;a>=e&&!b.Ma;--a)this.b.dg(c.ka),b.index=a,c.Ch(),this.b.Nd(c.ka);else for(;a>=e&&!b.Ma;--a)b.index=a,c.Ch();else if(f)for(;a<=e&&!b.Ma;++a)this.b.dg(c.ka),b.index=a,c.Ch(),this.b.Nd(c.ka);
else for(;a<=e&&!b.Ma;++a)b.index=a,c.Ch();this.b.gu();return!1};f.prototype.Tq=function(){var b=this.b.Ni().q;"undefined"===typeof b.TriggerOnce_lastTick&&(b.TriggerOnce_lastTick=-1);var a=b.TriggerOnce_lastTick,e=this.b.ad;b.TriggerOnce_lastTick=e;return this.b.jl||a!==e-1};f.prototype.nq=function(b){var a=this.b.Ni(),e=a.q.Every_lastTime||0,f=this.b.jb.T;"undefined"===typeof a.q.Every_seconds&&(a.q.Every_seconds=b);var c=a.q.Every_seconds;if(f>=e+c)return a.q.Every_lastTime=e+c,f>=a.q.Every_lastTime+
.04&&(a.q.Every_lastTime=f),a.q.Every_seconds=b,!0;f<e-.1&&(a.q.Every_lastTime=f);return!1};f.prototype.kq=function(b,a,e){return kc(b.We(),a,e)};f.prototype.mq=function(){var b=this.b.xb();return b.xk?!1:!b.ef};f.prototype.Jm=function(){return!0};f.prototype.Aq=function(){return!0};f.prototype.$j=function(){return!0};f.prototype.Km=function(){return!0};f.prototype.Fq=function(){return!0};f.prototype.Zh=function(){return!0};f.prototype.dq=function(b,a,e){return Wa(V(b),V(e))<=V(a)};f.prototype.sq=
function(b,a){return Ya(V(b),V(a))};f.prototype.rq=function(b,a,e){b=Sa(b);a=Sa(a);e=Sa(e);return Ya(e,a)?Ya(b,a)&&!Ya(b,e):!(!Ya(b,a)&&Ya(b,e))};q.n=new f;p.prototype.lq=function(b,a,e,f){if(a&&b&&(a=this.b.dn(b,a,e,f))){this.b.Uc++;var c;this.b.trigger(Object.getPrototypeOf(b.xa).n.Xh,a);if(a.Kb)for(e=0,f=a.siblings.length;e<f;e++)c=a.siblings[e],this.b.trigger(Object.getPrototypeOf(c.type.xa).n.Xh,c);this.b.Uc--;b=b.ba();b.ra=!1;Q(b.d);b.d[0]=a;if(a.Kb)for(e=0,f=a.siblings.length;e<f;e++)c=a.siblings[e],
b=c.type.ba(),b.ra=!1,Q(b.d),b.d[0]=c}};p.prototype.Nq=function(b,a){0===b.Sh?ma(a)?b.Pd(a):b.Pd(parseFloat(a)):1===b.Sh&&b.Pd(a.toString())};p.prototype.bq=function(b,a){0===b.Sh?ma(a)?b.Pd(b.We()+a):b.Pd(b.We()+parseFloat(a)):1===b.Sh&&b.Pd(b.We()+a.toString())};p.prototype.Rq=function(b,a){0===b.Sh&&(ma(a)?b.Pd(b.We()-a):b.Pd(b.We()-parseFloat(a)))};p.prototype.Mq=function(b){0>b&&(b=0);this.b.xf=b};var u=[],t=[];p.prototype.Gq=function(){var b,a,e;b=0;for(a=this.b.ck.length;b<a;b++)e=this.b.ck[b],
e.data=e.Ui};p.prototype.Hq=function(){if(!this.b.ah&&!this.b.tg&&this.b.ea){this.b.tg=this.b.ea;var b,a,e;b=0;for(a=this.b.de.length;b<a;b++)e=this.b.de[b],e.pp(e.Vi)}};q.ja=new p;m.prototype["int"]=function(b,a){B(a)?(b.na(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.na(a)};m.prototype["float"]=function(b,a){B(a)?(b.N(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.N(a)};m.prototype.random=function(b,a,e){void 0===e?b.N(Math.random()*a):b.N(Math.random()*(e-a)+a)};m.prototype.sqrt=function(b,a){b.N(Math.sqrt(a))};
m.prototype.abs=function(b,a){b.N(Math.abs(a))};m.prototype.round=function(b,a){b.na(Math.round(a))};m.prototype.floor=function(b,a){b.na(Math.floor(a))};m.prototype.ceil=function(b,a){b.na(Math.ceil(a))};m.prototype.sin=function(b,a){b.N(Math.sin(V(a)))};m.prototype.cos=function(b,a){b.N(Math.cos(V(a)))};m.prototype.tan=function(b,a){b.N(Math.tan(V(a)))};m.prototype.asin=function(b,a){b.N(Pa(Math.asin(a)))};m.prototype.acos=function(b,a){b.N(Pa(Math.acos(a)))};m.prototype.atan=function(b,a){b.N(Pa(Math.atan(a)))};
m.prototype.exp=function(b,a){b.N(Math.exp(a))};m.prototype.log10=function(b,a){b.N(Math.log(a)/Math.LN10)};m.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var e,f,c;e=2;for(f=arguments.length;e<f;e++)c=arguments[e],"number"===typeof c&&a<c&&(a=c);b.N(a)};m.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var e,f,c;e=2;for(f=arguments.length;e<f;e++)c=arguments[e],"number"===typeof c&&a>c&&(a=c);b.N(a)};m.prototype.Qe=function(b){b.N(this.b.Qe)};m.prototype.xf=
function(b){b.N(this.b.xf)};m.prototype.time=function(b){b.N(this.b.jb.T)};m.prototype.ad=function(b){b.na(this.b.ad)};m.prototype.uj=function(b){b.na(this.b.uj)};m.prototype.Dk=function(b){b.na(this.b.Dk)};m.prototype.i=function(b,a,e,f,c){b.N(Pa(Va(a,e,f,c)))};m.prototype.left=function(b,a,e){b.gc(B(a)?a.substr(0,e):"")};m.prototype.right=function(b,a,e){b.gc(B(a)?a.substr(a.length-e):"")};m.prototype.replace=function(b,a,e,f){B(a)&&B(e)&&B(f)?b.gc(a.replace(new RegExp(lb(e),"gi"),f)):b.gc(B(a)?
a:"")};m.prototype.trim=function(b,a){b.gc(B(a)?a.trim():"")};m.prototype.nr=function(b){var a=K(Math.random()*(arguments.length-1));b.Nu(arguments[a+1])};m.prototype.Au=function(b,a,e,f){b.na(ya(a,e,f))};m.prototype.rk=function(b){b.N(this.b.rk/1E3)};m.prototype.mj=function(b){b.N(this.b.mj)};q.Qa=new m;q.Bu=function(){var b,a,e,f,c,d,l=this.b.xb();b=0;for(e=this.ic.length;b<e;b++){f=this.ic[b];if(-1===f.time){if(!f.yp)continue}else if(f.time>this.b.jb.T)continue;l.Bb=f.Cg;l.xc=f.xc;l.Oa=0;for(a in f.hc)f.hc.hasOwnProperty(a)&&
(c=this.b.k[parseInt(a,10)].ba(),d=f.hc[a],c.ra=d.ip,Ha(c.d,d.$e),c=d,Q(c.$e),t.push(c));f.Cg.zu();this.b.pk(f.ka);f.jn=!0}a=b=0;for(e=this.ic.length;b<e;b++)f=this.ic[b],this.ic[a]=f,f.jn?(cb(f.hc),Q(f.ka),u.push(f)):a++;Ga(this.ic,a)}})();
(function(){vb=function(f,m){var q=f[1],u=f[3],t=f[4],b=f[5],a=f[6],e=f[7],w=f[8];m.n||(m.n={});m.ja||(m.ja={});m.Qa||(m.Qa={});var c=m.n,d=m.ja,l=m.Qa;u&&(c.qv=function(a,b){return kc(this.x,a,b)},c.rv=function(a,b){return kc(this.y,a,b)},c.xv=function(){var a=this.g;this.pa();var b=this.qa;return!(b.right<a.Z||b.bottom<a.aa||b.left>a.ga||b.top>a.fa)},c.yv=function(){this.pa();var a=this.qa,b=this.b.ea;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.Jv=function(a,b,c){var d=this.ba(),
e=d.oc();if(!e.length)return!1;var f=e[0],l=f,p=$a(f.x,f.y,b,c),m,q,u;m=1;for(q=e.length;m<q;m++)if(f=e[m],u=$a(f.x,f.y,b,c),0===a&&u<p||1===a&&u>p)p=u,l=f;d.yh(l);return!0},d.$v=function(a){this.x!==a&&(this.x=a,this.W())},d.aw=function(a){this.y!==a&&(this.y=a,this.W())},d.Wv=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.W()},d.Xv=function(a,b){var c=a.Xs(this);if(c){var d;c.Kk?(d=c.Kk(b,!0),c=c.Kk(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.W()}},d.Dv=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.W())},d.Cv=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.W())},l.fw=function(a){a.N(this.x)},l.gw=function(a){a.N(this.y)},l.Qe=function(a){a.N(this.b.Hk(this))});t&&(c.pv=function(a,b){return kc(this.width,a,b)},c.jq=function(a,b){return kc(this.height,a,b)},d.Pq=function(a){this.width!==a&&(this.width=a,this.W())},d.Jq=function(a){this.height!==a&&(this.height=a,this.W())},d.Yv=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.W()},l.ew=function(a){a.N(this.width)},l.qq=function(a){a.N(this.height)},l.jv=function(a){this.pa();a.N(this.qa.left)},l.lv=function(a){this.pa();a.N(this.qa.top)},l.kv=function(a){this.pa();a.N(this.qa.right)},l.iv=function(a){this.pa();a.N(this.qa.bottom)});b&&(c.dq=function(a,b){return Wa(this.i,V(b))<=V(a)},c.sq=function(a){return Ya(this.i,V(a))},c.rq=function(a,b){var c=Sa(a),d=Sa(b),e=W(this.i);return Ya(d,c)?Ya(e,c)&&!Ya(e,
d):!(!Ya(e,c)&&Ya(e,d))},d.Rv=function(a){a=V(Qa(a));isNaN(a)||this.i===a||(this.i=a,this.W())},d.Nv=function(a){0===a||isNaN(a)||(this.i+=V(a),this.i=W(this.i),this.W())},d.Ov=function(a){0===a||isNaN(a)||(this.i-=V(a),this.i=W(this.i),this.W())},d.Pv=function(a,b){var c=Xa(this.i,V(b),V(a));isNaN(c)||this.i===c||(this.i=c,this.W())},d.Qv=function(a,b,c){a=Xa(this.i,Math.atan2(c-this.y,b-this.x),V(a));isNaN(a)||this.i===a||(this.i=a,this.W())},d.Zv=function(a,b){var c=Math.atan2(b-this.y,a-this.x);
isNaN(c)||this.i===c||(this.i=c,this.W())},l.cq=function(a){a.N(Ra(this.i))});q||(c.nv=function(a,b,c){return kc(this.Ta[a],b,c)},c.vv=function(a){return this.Ta[a]},c.Kv=function(a,b){var c=this.ba(),d=c.oc();if(!d.length)return!1;var e=d[0],f=e,l=e.Ta[b],p,m,q;p=1;for(m=d.length;p<m;p++)if(e=d[p],q=e.Ta[b],0===a&&q<l||1===a&&q>l)l=q,f=e;c.yh(f);return!0},c.Iv=function(a){var b,c,d,e,f;if(this.b.Ni().Xk){f=this.ba();if(f.ra)for(f.ra=!1,Q(f.d),Q(f.Y),d=this.d,b=0,c=d.length;b<c;b++)e=d[b],e.uid===
a?f.Y.push(e):f.d.push(e);else{d=b=0;for(c=f.d.length;b<c;b++)e=f.d[b],f.d[d]=e,e.uid===a?f.Y.push(e):d++;Ga(f.d,d)}this.fd();return!!f.d.length}e=this.b.Pi(a);if(!e)return!1;f=this.ba();if(!f.ra&&-1===f.d.indexOf(e))return!1;if(this.G)for(a=e.type.ua,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.yh(e),this.fd(),!0}else if(e.type===this)return f.yh(e),this.fd(),!0;return!1},c.Xh=function(){return!0},c.Cq=function(){return!0},d.Vv=function(a,b){var c=this.Ta;ma(c[a])?c[a]=ma(b)?b:parseFloat(b):B(c[a])&&
(c[a]=B(b)?b:b.toString())},d.hv=function(a,b){var c=this.Ta;ma(c[a])?c[a]=ma(b)?c[a]+b:c[a]+parseFloat(b):B(c[a])&&(c[a]=B(b)?c[a]+b:c[a]+b.toString())},d.bw=function(a,b){var c=this.Ta;ma(c[a])&&(c[a]=ma(b)?c[a]-b:c[a]-parseFloat(b))},d.Sv=function(a,b){this.Ta[a]=b?1:0},d.cw=function(a){this.Ta[a]=1-this.Ta[a]},d.tv=function(){this.b.Ie(this)},d.uq||(d.uq=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.kj(this,b,!0);this.be&&this.be();if(this.I)for(a=0,b=this.I.length;a<b;++a)c=
this.I[a],c.be&&c.be()}),l.sv=function(a){var b=a.mf.d.length,c,d,e;c=0;for(d=this.b.Qc.length;c<d;c++)e=this.b.Qc[c],a.mf.G?0<=e.type.ua.indexOf(a.mf)&&b++:e.type===a.mf&&b++;a.na(b)},l.Mv=function(a){a.na(a.mf.ba().oc().length)},l.dw=function(a){a.na(this.uid)},l.uv=function(a){a.na(this.Jg())},l.fq||(l.fq=function(a){a.gc(JSON.stringify(this.b.Yl(this,!0)))}));a&&(c.zv=function(){return this.visible},d.Oq=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.da=!0)},c.ov=function(a,b){return kc(rb(100*
this.opacity),a,b)},d.Kq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.da=!0)},l.Opacity=function(a){a.N(rb(100*this.opacity))});e&&(c.wv=function(a){return a?this.g===a:!1},c.Lv=function(a){var b=this.ba(),c=b.oc();if(!c.length)return!1;var d=c[0],e=d,f,l;f=1;for(l=c.length;f<l;f++)if(d=c[f],0===a){if(d.g.index>e.g.index||d.g.index===e.g.index&&d.md()>e.md())e=d}else if(d.g.index<e.g.index||d.g.index===e.g.index&&d.md()<e.md())e=d;b.yh(e);return!0},d.vq=function(){var a=
this.g,b=a.d;b.length&&b[b.length-1]===this||(a.fg(this,!1),a.rg(this,!1),this.b.da=!0)},d.Ev=function(){var a=this.g,b=a.d;b.length&&b[0]===this||(a.fg(this,!1),a.lu(this),this.b.da=!0)},d.Fv=function(a){a&&a!=this.g&&(this.g.fg(this,!0),this.g=a,a.rg(this,!0),this.b.da=!0)},d.Wq=function(a,b){var c=0===a;if(b){var d=b.Qs(this);d&&d.uid!==this.uid&&(this.g.index!==d.g.index&&(this.g.fg(this,!0),this.g=d.g,d.g.rg(this,!0)),this.g.Ut(this,d,c),this.b.da=!0)}},l.Bv=function(a){a.na(this.g.Go)},l.Av=
function(a){a.gc(this.g.name)},l.hw=function(a){a.na(this.md())});w&&(d.Tv=function(a,b){if(this.b.j){var c=this.type.Jk(b);if(!(0>c)){var d=1===a;this.$d[c]!==d&&(this.$d[c]=d,this.cd(),this.b.da=!0)}}},d.Uv=function(a,b,c){if(this.b.j){var d=this.type.Jk(a);0>d||(a=this.type.J[d],d=this.Aa[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.j.ct(a.La,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.jc&&(this.b.da=!0))))}})};Qb=function(){this.kk=this.fk=!0;this.type.ci=!0;this.b.da=!0;var f,m,q=this.gk;f=0;for(m=
q.length;f<m;++f)q[f](this);this.g.wc&&this.pa()};Rb=function(f){f&&this.gk.push(f)};Tb=function(){if(this.fk){var f=this.qa,m=this.ub;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.Yb*this.width,-this.Zb*this.height);this.i?(f.offset(-this.x,-this.y),m.up(f,this.i),m.offset(this.x,this.y),m.Tm(f)):m.tf(f);f.normalize();this.fk=!1;this.av()}};var f=new wa(0,0,0,0);Ub=function(){if(this.g.wc){var p=this.g.nb,m=this.qa;f.set(p.Cb(m.left),p.Db(m.top),p.Cb(m.right),p.Db(m.bottom));
this.Nb.Bg(f)||(this.Nb.right<this.Nb.left?p.update(this,null,f):p.update(this,this.Nb,f),this.Nb.vg(f),this.g.Zc=!0)}};Vb=function(){if(this.kk&&this.wd){this.pa();var p=this.type.mi,m=this.qa;f.set(p.Cb(m.left),p.Db(m.top),p.Cb(m.right),p.Db(m.bottom));this.je.Bg(f)||(this.je.right<this.je.left?p.update(this,null,f):p.update(this,this.je,f),this.je.vg(f),this.kk=!1)}};Sb=function(f,m){return this.qa.Vb(f,m)&&this.ub.Vb(f,m)?this.Ge?this.rw(f,m):this.K&&!this.K.qe()?(this.K.fe(this.width,this.height,
this.i),this.K.Vb(f-this.x,m-this.y)):!0:!1};Mb=function(){this.type.Uj();return this.Ze};Wb=function(){this.g.xm();return this.dd};Xb=function(){Q(this.X);var f,m,q,u=!0;f=0;for(m=this.$d.length;f<m;f++)this.$d[f]&&(q=this.type.J[f],this.X.push(q),q.tc||(u=!1));this.Yp=!!this.X.length;this.Qd=u};Nb=function(){return"Inst"+this.bp};Ab=function(f){if(f&&f.Kb&&f.type!=this){var m,q,u;m=0;for(q=f.siblings.length;m<q;m++)if(u=f.siblings[m],u.type==this)return u}f=this.ba().oc();return f.length?f[0]:null};
Bb=function(f){var m=this.ba().oc();return m.length?m[f.Jg()%m.length]:null};xb=function(){if(this.jg&&!this.G){var f,m;f=0;for(m=this.d.length;f<m;f++)this.d[f].Ze=f;var q=f,u=this.b.Qc;f=0;for(m=u.length;f<m;++f)u[f].type===this&&(u[f].Ze=q++);this.jg=!1}};Kb=function(f){if(f<this.d.length)return this.d[f];f-=this.d.length;var m=this.b.Qc,q,u;q=0;for(u=m.length;q<u;++q)if(m[q].type===this){if(0===f)return m[q];--f}return null};Cb=function(){return this.Sd[this.hd]};Db=function(){this.hd++;this.hd===
this.Sd.length?this.Sd.push(new wb(this)):(this.Sd[this.hd].ra=!0,Q(this.Sd[this.hd].Y))};Eb=function(){this.hd++;this.hd===this.Sd.length&&this.Sd.push(new wb(this));var f=this.Sd[this.hd],m=this.Sd[this.hd-1];m.ra?f.ra=!0:(f.ra=!1,Ha(f.d,m.d));Q(f.Y)};Fb=function(){this.hd--};Gb=function(f){var m,q,u,t,b,a=0;if(!this.G)for(m=0,q=this.ua.length;m<q;m++)for(b=this.ua[m],u=0,t=b.ya.length;u<t;u++){if(f===b.ya[u].name)return this.q.lastBehIndex=a,b.ya[u];a++}m=0;for(q=this.ya.length;m<q;m++){if(f===
this.ya[m].name)return this.q.lastBehIndex=a,this.ya[m];a++}return null};Hb=function(f){return this.Mi(f)?this.q.lastBehIndex:-1};Ib=function(f){var m,q;m=0;for(q=this.J.length;m<q;m++)if(this.J[m].name===f)return m;return-1};Jb=function(){if(this.Kb&&!this.G){var f,m,q,u,t,b,a;this.Uj();b=this.ba();var e=b.ra,w=(f=this.b.xb())&&f.Bb&&f.Bb.Wc;f=0;for(m=this.Ub.length;f<m;f++)if(t=this.Ub[f],t!==this&&(t.Uj(),a=t.ba(),a.ra=e,!e)){Q(a.d);q=0;for(u=b.d.length;q<u;++q)a.d[q]=t.Lk(b.d[q].Ze);if(w)for(Q(a.Y),
q=0,u=b.Y.length;q<u;++q)a.Y[q]=t.Lk(b.Y[q].Ze)}}};Lb=function(){return"Type"+this.R};kc=function(f,m,q){if("undefined"===typeof f||"undefined"===typeof q)return!1;switch(m){case 0:return f===q;case 1:return f!==q;case 2:return f<q;case 3:return f<=q;case 4:return f>q;case 5:return f>=q;default:return!1}}})();
var tc={hsbadjust:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float briadjust;\nvec3 rgb_to_hsl(vec3 c)\n{\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\nvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\nvec3 hsl_to_rgb(vec3 c)\n{\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3(huerotate, 0, (briadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",Fg:0,
Gg:0,pi:!1,tc:!1,bi:!1,M:[["huerotate",0,1],["satadjust",0,1],["briadjust",0,1]]},outline:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision highp float;\nuniform highp float pixelWidth;\nuniform highp float pixelHeight;\nuniform highp float red;\nuniform highp float green;\nuniform highp float blue;\nuniform highp float width;\nuniform highp float justoutline;\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nfloat dx = pixelWidth*width;\nfloat dy = pixelHeight*width;\nfloat diag = 0.7071;\nfloat a0 = texture2D(samplerFront, vTex + vec2(-dx*diag, dy*diag)).a;\nfloat a1 = texture2D(samplerFront, vTex + vec2(dx*diag, -dy*diag)).a;\nfloat a2 = texture2D(samplerFront, vTex + vec2(-dx*diag, -dy*diag)).a;\nfloat a3 = texture2D(samplerFront, vTex + vec2(dx*diag, dy*diag)).a;\nfloat a4 = texture2D(samplerFront, vTex + vec2(-dx, 0.0)).a;\nfloat a5 = texture2D(samplerFront, vTex + vec2(dx, 0.0)).a;\nfloat a6 = texture2D(samplerFront, vTex + vec2(0.0, dy)).a;\nfloat a7 = texture2D(samplerFront, vTex + vec2(0.0, -dy)).a;\nfloat ina=max(max(max(max(max(max(max(a0,a1),a2),a3),a4),a5),a6),a7)-front.a;\nif(justoutline!=1.0)\n{\nfloat outa = ina + front.a*(1.0-ina);\nvec3 outrgb = (vec3(red/255.0, green/255.0, blue/255.0)*ina + front.rgb*front.a*(1.0-ina));\ngl_FragColor = vec4(outrgb, outa);\n}\nelse if(ina>0.0)\n{\ngl_FragColor = vec4(vec3(red/255.0, green/255.0, blue/255.0)*ina, ina);\n}\n}",
Fg:0,Gg:0,pi:!1,tc:!1,bi:!1,M:[["red",0,0],["green",0,0],["blue",0,0],["width",0,0],["justoutline",0,0]]}};function yc(f){this.b=f}
(function(){function f(a){-1===hb.indexOf(a)&&hb.push(a)}function p(a){var b=a.e,c;try{c=b.play()}catch(d){f(a);return}c?c.catch(function(){f(a)}):Ec&&!D.Sg&&f(a)}function m(){var a,b,c,d;Fc||Ca||!v||(q(),"running"===v.state&&(Fc=!0));var e=hb.slice(0);Q(hb);if(!ca)for(a=0,b=e.length;a<b;++a)c=e[a],c.Ma||c.$b||(d=c.e.play())&&d.catch(function(){f(c)})}function q(){"suspended"===v.state&&v.resume&&v.resume();if(v.createBuffer){var a=v.createBuffer(1,220,22050),b=v.createBufferSource();b.buffer=a;b.connect(v.destination);
e(b)}}function u(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function t(a){a=a.toLowerCase();return U.hasOwnProperty(a)&&U[a].length?U[a][0].nc():v.destination}function b(){return v.createGain?v.createGain():v.createGainNode()}function a(a){return v.createDelay?v.createDelay(a):v.createDelayNode(a)}function e(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function w(a,b,c,d){a.start?a.start(d||0,b):a.noteGrainOn(d||0,b,c-b)}function c(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function d(a,
c,d,e,f,g){this.type="filter";this.Xc=[a,c,d,e,f,g];this.S=b();this.H=b();this.H.gain.value=g;this.F=b();this.F.gain.value=1-g;this.Ga=v.createBiquadFilter();this.Ga.type="number"===typeof this.Ga.type?a:Gc[a];this.Ga.frequency.value=c;this.Ga.detune&&(this.Ga.detune.value=d);this.Ga.Q.value=e;this.Ga.gain.value=f;this.S.connect(this.Ga);this.S.connect(this.F);this.Ga.connect(this.H)}function l(c,d,e){this.type="delay";this.Xc=[c,d,e];this.S=b();this.H=b();this.H.gain.value=e;this.F=b();this.F.gain.value=
1-e;this.qh=b();this.Ac=a(c);this.Ac.delayTime.value=c;this.xi=b();this.xi.gain.value=d;this.S.connect(this.qh);this.S.connect(this.F);this.qh.connect(this.H);this.qh.connect(this.Ac);this.Ac.connect(this.xi);this.xi.connect(this.qh)}function h(a,c,d,e){this.type="convolve";this.Xc=[c,d,e];this.S=b();this.H=b();this.H.gain.value=d;this.F=b();this.F.gain.value=1-d;this.Oe=v.createConvolver();a&&(this.Oe.normalize=c,this.Oe.buffer=a);this.S.connect(this.Oe);this.S.connect(this.F);this.Oe.connect(this.H)}
function y(c,d,f,g,k){this.type="flanger";this.Xc=[c,d,f,g,k];this.S=b();this.F=b();this.F.gain.value=1-k/2;this.H=b();this.H.gain.value=k/2;this.Fi=b();this.Fi.gain.value=g;this.Ac=a(c+d);this.Ac.delayTime.value=c;this.bb=v.createOscillator();this.bb.frequency.value=f;this.ec=b();this.ec.gain.value=d;this.S.connect(this.Ac);this.S.connect(this.F);this.Ac.connect(this.H);this.Ac.connect(this.Fi);this.Fi.connect(this.Ac);this.bb.connect(this.ec);this.ec.connect(this.Ac.delayTime);e(this.bb)}function n(a,
c,d,f,g,k){this.type="phaser";this.Xc=[a,c,d,f,g,k];this.S=b();this.F=b();this.F.gain.value=1-k/2;this.H=b();this.H.gain.value=k/2;this.Ga=v.createBiquadFilter();this.Ga.type="number"===typeof this.Ga.type?7:"allpass";this.Ga.frequency.value=a;this.Ga.detune&&(this.Ga.detune.value=c);this.Ga.Q.value=d;this.bb=v.createOscillator();this.bb.frequency.value=g;this.ec=b();this.ec.gain.value=f;this.S.connect(this.Ga);this.S.connect(this.F);this.Ga.connect(this.H);this.bb.connect(this.ec);this.ec.connect(this.Ga.frequency);
e(this.bb)}function r(a){this.type="gain";this.Xc=[a];this.V=b();this.V.gain.value=a}function g(a,c){this.type="tremolo";this.Xc=[a,c];this.V=b();this.V.gain.value=1-c/2;this.bb=v.createOscillator();this.bb.frequency.value=a;this.ec=b();this.ec.gain.value=c/2;this.bb.connect(this.ec);this.ec.connect(this.V.gain);e(this.bb)}function k(a,c){this.type="ringmod";this.Xc=[a,c];this.S=b();this.H=b();this.H.gain.value=c;this.F=b();this.F.gain.value=1-c;this.Eh=b();this.Eh.gain.value=0;this.bb=v.createOscillator();
this.bb.frequency.value=a;this.bb.connect(this.Eh.gain);e(this.bb);this.S.connect(this.Eh);this.S.connect(this.F);this.Eh.connect(this.H)}function x(a,c,d,e,f){this.type="distortion";this.Xc=[a,c,d,e,f];this.S=b();this.Bj=b();this.Aj=b();this.Iu(d,Math.pow(10,e/20));this.H=b();this.H.gain.value=f;this.F=b();this.F.gain.value=1-f;this.Yj=v.createWaveShaper();this.vi=new Float32Array(65536);this.Ms(a,c);this.Yj.vi=this.vi;this.S.connect(this.Bj);this.S.connect(this.F);this.Bj.connect(this.Yj);this.Yj.connect(this.Aj);
this.Aj.connect(this.H)}function Y(a,b,c,d,e){this.type="compressor";this.Xc=[a,b,c,d,e];this.V=v.createDynamicsCompressor();try{this.V.threshold.value=a,this.V.knee.value=b,this.V.ratio.value=c,this.V.attack.value=d,this.V.release.value=e}catch(f){}}function M(a,b){this.type="analyser";this.Xc=[a,b];this.V=v.createAnalyser();this.V.fftSize=a;this.V.smoothingTimeConstant=b;this.Ks=new Float32Array(this.V.frequencyBinCount);this.xp=new Uint8Array(a);this.xh=0}function T(){this.ca=null;this.lj=0}function P(a,
c){this.src=a;this.P=z;this.nd=c;this.ai=!1;var d=this;this.Xf=this.ag=null;this.bg=[];this.Jj=0;this.Bm=this.Di=this.Dp=this.wj=!1;1===z&&c&&!ib&&(this.P=0,this.ag=b());this.vd=this.U=null;var e;switch(this.P){case 0:this.U=new Audio;this.U.crossOrigin="anonymous";this.U.addEventListener("canplaythrough",function(){d.Bm=!0});1===z&&v.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Dp=!0,this.U.addEventListener("canplay",function(){!d.Xf&&d.U&&(d.Xf=v.createMediaElementSource(d.U),
d.Xf.connect(d.ag))}));this.U.autoplay=!1;this.U.ow="auto";this.U.src=a;break;case 1:D.$i?D.rn(a,function(a){d.vd=a;d.hn()},function(){d.Di=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){d.vd=e.response;d.hn()},e.onerror=function(){d.Di=!0},e.send());break;case 2:this.U=!0;break;case 3:this.U=!0}}function G(a,c){var d=this;this.tag=c;this.Ma=this.ld=!0;this.src=a.src;this.buffer=a;this.P=z;this.nd=a.nd;this.playbackRate=1;this.Kf=!0;this.$b=this.uc=
!1;this.Ob=0;this.Yg=this.Nf=this.od=!1;this.volume=1;this.Il=function(a){if(!d.$b&&!d.uc){var b=this;b||(b=a.target);b===d.$h&&(d.Kf=!0,d.Ma=!0,Z=d.tag,D.trigger(yc.prototype.n.Yh,J))}};this.$h=null;this.Lf=1===R&&!this.nd||2===R;this.Yf=1;this.startTime=this.Lf?D.jb.T:D.Xd.T;this.Ia=this.Ra=null;this.qd=!1;this.lb=null;this.Po=this.Oo=this.No=this.Mo=this.Ro=this.Qo=0;this.e=null;var e=!1;1!==this.P||0!==this.buffer.P||this.buffer.Dp||(this.P=0);switch(this.P){case 0:this.nd?(this.e=a.U,e=!a.ai,
a.ai=!0):(this.e=new Audio,this.e.crossOrigin="anonymous",this.e.autoplay=!1,this.e.src=a.U.src,e=!0);e&&this.e.addEventListener("ended",function(){Z=d.tag;d.Ma=!0;D.trigger(yc.prototype.n.Yh,J)});break;case 1:this.Ra=b();this.Ra.connect(t(c));1===this.buffer.P?a.U&&(this.e=v.createBufferSource(),this.e.buffer=a.U,this.e.connect(this.Ra)):(this.e=this.buffer.U,this.buffer.ag.connect(this.Ra),this.buffer.ai||(this.buffer.ai=!0,this.buffer.U.addEventListener("ended",function(){Z=d.tag;d.Ma=!0;D.trigger(yc.prototype.n.Yh,
J)})));break;case 2:this.e=new window.Media(ba+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(d.Kf=!0,d.Ma=!0,Z=d.tag,D.trigger(yc.prototype.n.Yh,J))});break;case 3:this.e=!0}}function S(a){Q(Da);if(a.length){var b,c,d;b=0;for(c=A.length;b<c;b++)d=A[b],sb(a,d.tag)&&Da.push(d)}else I&&!I.Ye()&&(Q(Da),Da[0]=I)}function F(a,b){U.hasOwnProperty(a)?U[a].push(b):U[a]=[b];var c,d,e,f,g=v.destination;if(U.hasOwnProperty(a)&&(e=U[a],e.length))for(g=e[0].nc(),c=0,d=e.length;c<d;c++)f=e[c],
c+1===d?f.yc(v.destination):f.yc(e[c+1].nc());S(a);c=0;for(d=Da.length;c<d;c++)Da[c].tu(g);Ia&&zb===a&&(Ia.disconnect(),Ia.connect(g))}function O(){}function E(){}var L=yc.prototype;L.rb=function(a){this.xa=a;this.b=a.b};L.rb.prototype.ma=function(){};var D=null,J=null,Z="",ba="",z=0,v=null,C=[],A=[],I=null,H=!1,R=0,ca=!1,N=1,ja=0,da=0,Ca=!1,yb=1,ha=1,La=10,Ma=1E4,Dc=1,Ia=null,zb="",Ec=!1,hb=[],ib=!1,Fc=!1;document.addEventListener("pointerup",m,!0);document.addEventListener("touchend",m,!0);document.addEventListener("click",
m,!0);document.addEventListener("keydown",m,!0);document.addEventListener("gamepadconnected",m,!0);var U={},Gc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.prototype.yc=function(a){this.H.disconnect();this.H.connect(a);this.F.disconnect();this.F.connect(a)};d.prototype.remove=function(){this.S.disconnect();this.Ga.disconnect();this.H.disconnect();this.F.disconnect()};d.prototype.nc=function(){return this.S};l.prototype.yc=function(a){this.H.disconnect();this.H.connect(a);
this.F.disconnect();this.F.connect(a)};l.prototype.remove=function(){this.S.disconnect();this.qh.disconnect();this.Ac.disconnect();this.xi.disconnect();this.H.disconnect();this.F.disconnect()};l.prototype.nc=function(){return this.S};h.prototype.yc=function(a){this.H.disconnect();this.H.connect(a);this.F.disconnect();this.F.connect(a)};h.prototype.remove=function(){this.S.disconnect();this.Oe.disconnect();this.H.disconnect();this.F.disconnect()};h.prototype.nc=function(){return this.S};y.prototype.yc=
function(a){this.F.disconnect();this.F.connect(a);this.H.disconnect();this.H.connect(a)};y.prototype.remove=function(){this.S.disconnect();this.Ac.disconnect();this.bb.disconnect();this.ec.disconnect();this.F.disconnect();this.H.disconnect();this.Fi.disconnect()};y.prototype.nc=function(){return this.S};n.prototype.yc=function(a){this.F.disconnect();this.F.connect(a);this.H.disconnect();this.H.connect(a)};n.prototype.remove=function(){this.S.disconnect();this.Ga.disconnect();this.bb.disconnect();
this.ec.disconnect();this.F.disconnect();this.H.disconnect()};n.prototype.nc=function(){return this.S};r.prototype.yc=function(a){this.V.disconnect();this.V.connect(a)};r.prototype.remove=function(){this.V.disconnect()};r.prototype.nc=function(){return this.V};g.prototype.yc=function(a){this.V.disconnect();this.V.connect(a)};g.prototype.remove=function(){this.bb.disconnect();this.ec.disconnect();this.V.disconnect()};g.prototype.nc=function(){return this.V};k.prototype.yc=function(a){this.H.disconnect();
this.H.connect(a);this.F.disconnect();this.F.connect(a)};k.prototype.remove=function(){this.bb.disconnect();this.Eh.disconnect();this.S.disconnect();this.H.disconnect();this.F.disconnect()};k.prototype.nc=function(){return this.S};x.prototype.Iu=function(a,b){.01>a&&(a=.01);this.Bj.gain.value=a;this.Aj.gain.value=Math.pow(1/a,.6)*b};x.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};x.prototype.Ms=function(a,b){for(var c=Math.pow(10,
a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.vi[32768+f]=e,this.vi[32768-f-1]=-e};x.prototype.yc=function(a){this.H.disconnect();this.H.connect(a);this.F.disconnect();this.F.connect(a)};x.prototype.remove=function(){this.S.disconnect();this.Bj.disconnect();this.Yj.disconnect();this.Aj.disconnect();this.H.disconnect();this.F.disconnect()};x.prototype.nc=function(){return this.S};Y.prototype.yc=function(a){this.V.disconnect();this.V.connect(a)};Y.prototype.remove=
function(){this.V.disconnect()};Y.prototype.nc=function(){return this.V};M.prototype.fb=function(){this.V.getFloatFrequencyData(this.Ks);this.V.getByteTimeDomainData(this.xp);for(var a=this.V.fftSize,b=0,c=this.xh=0,d=0;b<a;b++)d=(this.xp[b]-128)/128,0>d&&(d=-d),this.xh<d&&(this.xh=d),c+=d*d;this.xh=u(this.xh);u(Math.sqrt(c/a))};M.prototype.yc=function(a){this.V.disconnect();this.V.connect(a)};M.prototype.remove=function(){this.V.disconnect()};M.prototype.nc=function(){return this.V};T.prototype.Fh=
function(a){this.ca=a};T.prototype.Ti=function(){return!!this.ca};T.prototype.fb=function(){};P.prototype.uu=function(){var a,b,c,d;c=a=0;for(b=A.length;a<b;++a)d=A[a],A[c]=d,d.buffer===this?d.stop():++c;A.length=c;this.Xf&&(this.Xf.disconnect(),this.Xf=null);this.ag&&(this.ag.disconnect(),this.ag=null);this.vd=this.U=null};P.prototype.hn=function(){if(!this.U&&this.vd){var a=this;if(v.decodeAudioData)v.decodeAudioData(this.vd,function(b){a.U=b;a.vd=null;var c,d,e;if(la(a.xj)||ca)la(a.oi)||(c=a.oi.Oe,
c.normalize=a.Fo,c.buffer=b);else if(a.bg.length){c=0;for(d=a.bg.length;c<d;c++){b=a.bg[c];e=new G(a,b.Kp);e.cm(!0);if("undefined"!==typeof b.Ho&&(b.ca=D.Pi(b.Ho),!b.ca))continue;if(b.ca){var f=Za(b.ca.x,b.ca.y,-b.ca.g.Sa(),ja,da,!0),g=Za(b.ca.x,b.ca.y,-b.ca.g.Sa(),ja,da,!1);e.am(f,g,Pa(b.ca.i-b.ca.g.Sa()),b.Sk,b.Bl,b.El);e.Fh(b.ca)}else e.am(b.x,b.y,b.sb,b.Sk,b.Bl,b.El);e.play(a.tl,a.Am,a.Jj);a.wj&&e.pause();A.push(e)}Q(a.bg)}else e=new G(a,a.xj||""),e.play(a.tl,a.Am,a.Jj),a.wj&&e.pause(),A.push(e)},
function(){a.Di=!0});else if(this.U=v.createBuffer(this.vd,!1),this.vd=null,la(this.xj)||ca)la(this.oi)||(b=this.oi.Oe,b.normalize=this.Fo,b.buffer=this.U);else{var b=new G(this,this.xj);b.play(this.tl,this.Am,this.Jj);this.wj&&b.pause();A.push(b)}}};P.prototype.Qn=function(){switch(this.P){case 0:var a=4<=this.U.readyState;a&&(this.Bm=!0);return a||this.Bm;case 1:return!!this.vd||!!this.U;case 2:return!0;case 3:return!0}return!1};P.prototype.Ht=function(){switch(this.P){case 0:return this.Qn();case 1:return!!this.U;
case 2:return!0;case 3:return!0}return!1};P.prototype.xt=function(){switch(this.P){case 0:return!!this.U.error;case 1:return this.Di}return!1};G.prototype.Ye=function(){switch(this.P){case 0:return this.e.ended;case 1:return 1===this.buffer.P?!this.ld&&!this.Ma&&this.e.loop||this.$b?!1:this.Kf:this.e.ended;case 2:return this.Kf;case 3:!0}return!0};G.prototype.kr=function(){return this.ld||this.Ma?!0:this.Ye()};G.prototype.cm=function(a){1===z&&(!this.qd&&a?this.Ra&&(this.Ia||(this.Ia=v.createPanner(),
this.Ia.panningModel="number"===typeof this.Ia.panningModel?yb:["equalpower","HRTF","soundfield"][yb],this.Ia.distanceModel="number"===typeof this.Ia.distanceModel?ha:["linear","inverse","exponential"][ha],this.Ia.refDistance=La,this.Ia.maxDistance=Ma,this.Ia.rolloffFactor=Dc),this.Ra.disconnect(),this.Ra.connect(this.Ia),this.Ia.connect(t(this.tag)),this.qd=!0):this.qd&&!a&&this.Ra&&(this.Ia.disconnect(),this.Ra.disconnect(),this.Ra.connect(t(this.tag)),this.qd=!1))};G.prototype.am=function(a,b,
c,d,e,f){this.qd&&1===z&&(this.Ia.setPosition(a,b,0),this.Ia.setOrientation(Math.cos(V(c)),Math.sin(V(c)),0),this.Ia.coneInnerAngle=d,this.Ia.coneOuterAngle=e,this.Ia.coneOuterGain=f,this.Qo=a,this.Ro=b,this.Mo=c,this.No=d,this.Oo=e,this.Po=f)};G.prototype.Fh=function(a){this.qd&&1===z&&(this.lb||(this.lb=new T),this.lb.Fh(a))};G.prototype.fb=function(a){if(this.qd&&1===z&&this.lb&&this.lb.Ti()&&this.Vg()){this.lb.fb(a);a=this.lb.ca;var b=Za(a.x,a.y,-a.g.Sa(),ja,da,!0),c=Za(a.x,a.y,-a.g.Sa(),ja,da,
!1);this.Ia.setPosition(b,c,0);b=0;"undefined"!==typeof this.lb.ca.i&&(b=a.i-a.g.Sa(),this.Ia.setOrientation(Math.cos(b),Math.sin(b),0))}};G.prototype.play=function(a,b,c,d){var f=this.e;this.od=a;this.volume=b;c=c||0;d=d||0;switch(this.P){case 0:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==b*N&&(f.volume=b*N);f.loop!==a&&(f.loop=a);f.muted&&(f.muted=!1);if(f.currentTime!==c)try{f.currentTime=c}catch(g){}p(this);break;case 1:this.muted=!1;this.Yf=1;if(1===this.buffer.P)this.Ra.gain.value=b*N,
this.ld||(this.e=v.createBufferSource(),this.e.buffer=this.buffer.U,this.e.connect(this.Ra)),this.e.onended=this.Il,this.$h=this.e,this.e.loop=a,this.Kf=!1,0===c?e(this.e,d):w(this.e,c,this.Ve(),d);else{1!==f.playbackRate&&(f.playbackRate=1);f.loop!==a&&(f.loop=a);f.volume=b*N;if(f.currentTime!==c)try{f.currentTime=c}catch(k){}p(this)}break;case 2:(!this.ld&&this.Ma||0!==c)&&f.seekTo(c);f.play();this.Kf=!1;break;case 3:D.Jb?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=
1;this.startTime=(this.Lf?D.jb.T:D.Xd.T)-c;this.$b=this.Ma=this.ld=!1};G.prototype.stop=function(){switch(this.P){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.P?c(this.e):this.e.paused||this.e.pause();break;case 2:this.e.stop();break;case 3:D.Jb&&AppMobi.context.stopSound(this.src)}this.Ma=!0;this.$b=!1};G.prototype.pause=function(){if(!(this.ld||this.Ma||this.Ye()||this.$b)){switch(this.P){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.P?(this.Ob=this.Mk(!0),
this.od&&(this.Ob=this.Ob%this.Ve()),this.$b=!0,c(this.e)):this.e.paused||this.e.pause();break;case 2:this.e.pause();break;case 3:D.Jb&&AppMobi.context.stopSound(this.src)}this.$b=!0}};G.prototype.yu=function(){if(!(this.ld||this.Ma||this.Ye())&&this.$b){switch(this.P){case 0:p(this);break;case 1:1===this.buffer.P?(this.e=v.createBufferSource(),this.e.buffer=this.buffer.U,this.e.connect(this.Ra),this.e.onended=this.Il,this.$h=this.e,this.e.loop=this.od,this.Ra.gain.value=N*this.volume*this.Yf,this.Vj(),
this.startTime=(this.Lf?D.jb.T:D.Xd.T)-this.Ob/(this.playbackRate||.001),w(this.e,this.Ob,this.Ve())):p(this);break;case 2:this.e.play();break;case 3:D.Jb&&AppMobi.context.resumeSound(this.src)}this.$b=!1}};G.prototype.seek=function(a){if(!(this.ld||this.Ma||this.Ye()))switch(this.P){case 0:try{this.e.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.P)this.$b?this.Ob=a:(this.pause(),this.Ob=a,this.yu());else try{this.e.currentTime=a}catch(c){}break;case 3:D.Jb&&AppMobi.context.seekSound(this.src,
a)}};G.prototype.tu=function(a){1===this.P&&(this.qd?(this.Ia.disconnect(),this.Ia.connect(a)):(this.Ra.disconnect(),this.Ra.connect(a)))};G.prototype.Ve=function(){var a=0;switch(this.P){case 0:"undefined"!==typeof this.e.duration&&(a=this.e.duration);break;case 1:a=this.buffer.U.duration;break;case 2:a=this.e.getDuration();break;case 3:D.Jb&&(a=AppMobi.context.getDurationSound(this.src))}return a};G.prototype.Mk=function(a){var b=this.Ve(),c=0;switch(this.P){case 0:"undefined"!==typeof this.e.currentTime&&
(c=this.e.currentTime);break;case 1:if(1===this.buffer.P){if(this.$b)return this.Ob;c=(this.Lf?D.jb.T:D.Xd.T)-this.startTime}else"undefined"!==typeof this.e.currentTime&&(c=this.e.currentTime);break;case 3:D.Jb&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.od&&c>b&&(c=b);return c};G.prototype.Vg=function(){return!this.$b&&!this.ld&&!this.Ma&&!this.Ye()};G.prototype.Ou=function(){return!this.ld&&!this.Ma&&!this.Ye()};G.prototype.Zu=function(){var a=this.volume*
N;isFinite(a)||(a=0);switch(this.P){case 0:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a);break;case 1:1===this.buffer.P?this.Ra.gain.value=a*this.Yf:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a)}};G.prototype.Ai=function(a){switch(this.P){case 0:this.e.muted!==!!a&&(this.e.muted=!!a);break;case 1:1===this.buffer.P?(this.Yf=a?0:1,this.Ra.gain.value=N*this.volume*this.Yf):this.e.muted!==!!a&&(this.e.muted=!!a)}};G.prototype.Ju=function(){this.Nf=
!0;this.Ai(this.Nf||this.Yg)};G.prototype.rp=function(a){this.Yg=!!a;this.Ai(this.Nf||this.Yg)};G.prototype.Vj=function(){var a=this.playbackRate;this.Lf&&(a*=D.xf);switch(this.P){case 0:this.e.playbackRate!==a&&(this.e.playbackRate=a);break;case 1:1===this.buffer.P?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==a&&(this.e.playbackRate=a)}};G.prototype.Lu=function(a){switch(this.P){case 0:a?this.Vg()?(this.uc=!0,this.e.pause()):this.uc=!1:this.uc&&(this.e.play(),
this.uc=!1);break;case 1:a?this.Vg()?(this.uc=!0,1===this.buffer.P?(this.Ob=this.Mk(!0),this.od&&(this.Ob=this.Ob%this.Ve()),c(this.e)):this.e.pause()):this.uc=!1:this.uc&&(1===this.buffer.P?(this.e=v.createBufferSource(),this.e.buffer=this.buffer.U,this.e.connect(this.Ra),this.e.onended=this.Il,this.$h=this.e,this.e.loop=this.od,this.Ra.gain.value=N*this.volume*this.Yf,this.Vj(),this.startTime=(this.Lf?D.jb.T:D.Xd.T)-this.Ob/(this.playbackRate||.001),w(this.e,this.Ob,this.Ve())):this.e.play(),this.uc=
!1);break;case 2:a?this.Vg()?(this.e.pause(),this.uc=!0):this.uc=!1:this.uc&&(this.uc=!1,this.e.play())}};L.Na=function(a){this.type=a;D=this.b=a.b;J=this;this.ac=null;this.hh=-600;this.b.$i&&(ib=!0);!(this.b.$g||this.b.Qg&&(this.b.Yk||this.b.Wi))||this.b.Yi||this.b.yb||this.b.On||ib||(Ec=!0);v=null;"undefined"!==typeof AudioContext?(z=1,v=new AudioContext):"undefined"!==typeof webkitAudioContext&&(z=1,v=new webkitAudioContext);this.b.$g&&v&&(v.close&&v.close(),"undefined"!==typeof AudioContext?v=
new AudioContext:"undefined"!==typeof webkitAudioContext&&(v=new webkitAudioContext));1!==z&&(this.b.Dd&&"undefined"!==typeof window.Media?z=2:this.b.Pn&&(z=3));2===z&&(ba=location.href,a=ba.lastIndexOf("/"),-1<a&&(ba=ba.substr(0,a+1)),ba=ba.replace("file://",""));if(this.b.Jt&&this.b.Lt&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Ie(this);else{if(this.b.Jb)H=this.b.Qg;else try{H=
!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')&&!this.b.dl}catch(b){H=!1}this.b.nm(this)}};var qa=L.Na.prototype;qa.ma=function(){this.b.Cf=this;R=this.D[0];this.Od=this.D[1];this.eu=0!==this.D[2];this.Do=0;yb=this.D[3];ha=this.D[4];this.hh=-this.D[5];La=this.D[6];Ma=this.D[7];Dc=this.D[8];this.ac=new T;var a=this.b.C||this.b.width,b=this.b.B||this.b.height;1===z&&(v.listener.setPosition(a/2,b/2,this.hh),v.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Ia&&
Ia.disconnect();zb=b.toLowerCase();Ia=v.createMediaStreamSource(a);Ia.connect(t(zb))});this.b.Zq(function(a){J.$t(a)});var c=this;this.b.Mm(function(a){c.Yt(a)})};qa.Yt=function(a){var b,c,d;b=0;for(c=A.length;b<c;b++)d=A[b],d.lb&&d.lb.ca===a&&(d.lb.ca=null,d.qd&&d.Vg()&&d.od&&d.stop());this.ac.ca===a&&(this.ac.ca=null)};qa.Pb=function(){var a={silent:ca,masterVolume:N,listenerZ:this.hh,listenerUid:this.ac.Ti()?this.ac.ca.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,k;c=0;for(d=A.length;c<
d;c++)e=A[c],!e.Ou()||3===this.Od||e.nd&&1===this.Od||!e.nd&&2===this.Od||(f=e.Mk(),e.od&&(f=f%e.Ve()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.nd,playbackTime:f,volume:e.volume,looping:e.od,muted:e.Nf,playbackRate:e.playbackRate,paused:e.$b,resume_position:e.Ob},e.qd&&(f.pan={},k=f.pan,e.lb&&e.lb.Ti()?k.objUid=e.lb.ca.uid:(k.x=e.Qo,k.y=e.Ro,k.a=e.Mo),k.ia=e.No,k.oa=e.Oo,k.og=e.Po),b.push(f));b=a.effects;for(g in U)if(U.hasOwnProperty(g)){e=[];c=0;for(d=U[g].length;c<d;c++)e.push({type:U[g][c].type,
params:U[g][c].Xc});b[g]=e}return a};var Ta=[];qa.rc=function(a){var b=a.silent;N=a.masterVolume;this.hh=a.listenerZ;this.ac.Fh(null);var c=a.listenerUid;-1!==c&&(this.ac.lj=c,Ta.push(this.ac));var c=a.playing,e,f,m,p,q,u,w,z,t,v,J;if(3!==this.Od)for(e=0,f=A.length;e<f;e++)t=A[e],t.nd&&1===this.Od||(t.nd||2!==this.Od)&&t.stop();for(q in U)if(U.hasOwnProperty(q))for(e=0,f=U[q].length;e<f;e++)U[q][e].remove();cb(U);for(q in a.effects)if(a.effects.hasOwnProperty(q))for(u=a.effects[q],e=0,f=u.length;e<
f;e++)switch(m=u[e].type,v=u[e].params,m){case "filter":F(q,new d(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "delay":F(q,new l(v[0],v[1],v[2]));break;case "convolve":m=v[2];t=this.Li(m,!1);t.U?m=new h(t.U,v[0],v[1],m):(m=new h(null,v[0],v[1],m),t.Fo=v[0],t.oi=m);F(q,m);break;case "flanger":F(q,new y(v[0],v[1],v[2],v[3],v[4]));break;case "phaser":F(q,new n(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "gain":F(q,new r(v[0]));break;case "tremolo":F(q,new g(v[0],v[1]));break;case "ringmod":F(q,new k(v[0],
v[1]));break;case "distortion":F(q,new x(v[0],v[1],v[2],v[3],v[4]));break;case "compressor":F(q,new Y(v[0],v[1],v[2],v[3],v[4]));break;case "analyser":F(q,new M(v[0],v[1]))}e=0;for(f=c.length;e<f;e++)3===this.Od||(a=c[e],m=a.buffersrc,p=a.is_music,q=a.tag,u=a.playbackTime,w=a.looping,z=a.volume,J=(v=a.pan)&&v.hasOwnProperty("objUid")?v.objUid:-1,p&&1===this.Od)||!p&&2===this.Od||((t=this.wn(m,q,p,w,z))?(t.Ob=a.resume_position,t.cm(!!v),t.play(w,z,u),t.Vj(),t.Zu(),t.Ai(t.Nf||t.Yg),a.paused&&t.pause(),
a.muted&&t.Ju(),t.Ai(t.Nf||t.Yg),v&&(-1!==J?(t.lb=t.lb||new T,t.lb.lj=J,Ta.push(t.lb)):t.am(v.x,v.y,v.a,v.ia,v.oa,v.og))):(t=this.Li(m,p),t.Jj=u,t.wj=a.paused,v&&(-1!==J?t.bg.push({Ho:J,Sk:v.ia,Bl:v.oa,El:v.og,Kp:q}):t.bg.push({x:v.x,y:v.y,sb:v.a,Sk:v.ia,Bl:v.oa,El:v.og,Kp:q}))));if(b&&!ca){e=0;for(f=A.length;e<f;e++)A[e].rp(!0);ca=!0}else if(!b&&ca){e=0;for(f=A.length;e<f;e++)A[e].rp(!1);ca=!1}};qa.be=function(){var a,b,c,d;a=0;for(b=Ta.length;a<b;a++)c=Ta[a],d=this.b.Pi(c.lj),c.Fh(d),c.lj=-1,d&&
(ja=d.x,da=d.y);Q(Ta)};qa.$t=function(a){if(!this.eu){!a&&v&&v.resume&&(v.resume(),Ca=!1);var b,c;b=0;for(c=A.length;b<c;b++)A[b].Lu(a);a&&v&&v.suspend&&(v.suspend(),Ca=!0)}};qa.fb=function(){var a=this.b.Qe,b,c,d;b=0;for(c=A.length;b<c;b++)d=A[b],d.fb(a),0!==R&&d.Vj();var e,f;for(e in U)if(U.hasOwnProperty(e))for(d=U[e],b=0,c=d.length;b<c;b++)f=d[b],f.fb&&f.fb();1===z&&this.ac.Ti()&&(this.ac.fb(a),ja=this.ac.ca.x,da=this.ac.ca.y,v.listener.setPosition(this.ac.ca.x,this.ac.ca.y,this.hh))};var Ua=
[];qa.Ku=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&H||!f&&!H)Ua.push({filename:e,size:d,ca:null}),g+=d;return g};qa.Ru=function(){var a,b,c,d;a=0;for(b=Ua.length;a<b;++a)c=Ua[a],d=this.b.Bk+c.filename,c.ca=this.Li(d,!1)};qa.Zs=function(){var a=0,b,c,d;b=0;for(c=Ua.length;b<c;++b)d=Ua[b],d.ca.Ht()||d.ca.xt()||this.b.yb||this.b.Wi?a+=d.size:d.ca.Qn()&&(a+=Math.floor(d.size/2));return a};qa.vu=function(){var a,b,
c,d;c=a=0;for(b=C.length;a<b;++a)d=C[a],C[c]=d,d.nd?d.uu():++c;C.length=c};qa.Li=function(a,b){var c,d,e,f=null;c=0;for(d=C.length;c<d;c++)if(e=C[c],e.src===a){f=e;break}f||(ib&&b&&this.vu(),f=new P(a,b),C.push(f));return f};qa.wn=function(a,b,c,d,e){var f,g,k;f=0;for(g=A.length;f<g;f++)if(k=A[f],k.src===a&&(k.kr()||c))return k.tag=b,k;a=this.Li(a,c);if(!a.U)return"<preload>"!==b&&(a.xj=b,a.tl=d,a.Am=e),null;k=new G(a,b);A.push(k);return k};var Da=[];O.prototype.Yh=function(a){return sb(Z,a)};L.n=
new O;E.prototype.Play=function(a,b,c,d){!ca&&(c=Math.pow(10,c/20),isFinite(c)||(c=0),0>c&&(c=0),1<c&&(c=1),I=this.wn(this.b.Bk+a[0]+(H?".ogg":".m4a"),d,a[1],0!==b,c))&&(I.cm(!1),I.play(0!==b,c,0,this.Do),this.Do=0)};E.prototype.ak=function(a){S(a);var b;a=0;for(b=Da.length;a<b;a++)Da[a].stop()};E.prototype.Qq=function(){var a,b;a=0;for(b=A.length;a<b;a++)A[a].stop()};L.ja=new E;L.Qa=new function(){}})();function zc(f){this.b=f}
(function(){function f(){}var p=zc.prototype;p.rb=function(f){this.xa=f;this.b=f.b};p.rb.prototype.ma=function(){};p.Na=function(f){this.type=f;this.b=f.b;this.dh=Array(256);this.Ph=Array(256);this.Vd=0};var m=p.Na.prototype;m.ma=function(){var f=this;this.b.yb||(jQuery(document).keydown(function(m){f.Fl(m)}),jQuery(document).keyup(function(m){f.Gl(m)}))};var q=[32,33,34,35,36,37,38,39,40,44];m.Fl=function(f){var m=!1;window!=window.top&&-1<q.indexOf(f.which)&&(f.preventDefault(),m=!0,f.stopPropagation());
if(this.dh[f.which])this.Ph[f.which]&&!m&&f.preventDefault();else{this.dh[f.which]=!0;this.Vd=f.which;this.b.Sg=!0;this.b.trigger(zc.prototype.n.zq,this);var b=this.b.trigger(zc.prototype.n.Fm,this),a=this.b.trigger(zc.prototype.n.Dq,this);this.b.Sg=!1;if(b||a)this.Ph[f.which]=!0,m||f.preventDefault()}};m.Gl=function(f){this.dh[f.which]=!1;this.Vd=f.which;this.b.Sg=!0;this.b.trigger(zc.prototype.n.Em,this);var m=this.b.trigger(zc.prototype.n.Hm,this),b=this.b.trigger(zc.prototype.n.Gm,this);this.b.Sg=
!1;if(m||b||this.Ph[f.which])this.Ph[f.which]=!0,f.preventDefault()};m.nf=function(){var f;for(f=0;256>f;++f)if(this.dh[f]){this.dh[f]=!1;this.Vd=f;this.b.trigger(zc.prototype.n.Em,this);var m=this.b.trigger(zc.prototype.n.Hm,this),b=this.b.trigger(zc.prototype.n.Gm,this);if(m||b)this.Ph[f]=!0}};m.Pb=function(){return{triggerKey:this.Vd}};m.rc=function(f){this.Vd=f.triggerKey};f.prototype.Fm=function(f){return f===this.Vd};f.prototype.zq=function(){return!0};f.prototype.Em=function(){return!0};f.prototype.Hm=
function(f){return f===this.Vd};f.prototype.Dq=function(f){return f===this.Vd};f.prototype.Gm=function(f){return f===this.Vd};p.n=new f;p.ja=new function(){};p.Qa=new function(){}})();function xc(f){this.b=f}
(function(){function f(){if(0===this.tk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.ig?b.drawImage(this.eb,this.Zf,this.$f,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.eb,0,0,this.width,this.height);this.tk=a.toDataURL("image/png")}return this.tk}function p(){}function m(a){a[0]=0;a[1]=0;a[2]=0;d.push(a)}function q(a,b){return a<b?""+a+","+b:""+b+","+a}function u(a,b,c,e){b=b.uid;c=c.uid;var f=q(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var h=d.length?d.pop():[0,0,0];h[0]=b;h[1]=c;h[2]=e;a[f]=h}}function t(a,b,c){b=q(b.uid,c.uid);a.hasOwnProperty(b)&&(m(a[b]),delete a[b])}function b(a,b,c){b=q(b.uid,c.uid);if(a.hasOwnProperty(b))return l=a[b][2],!0;l=-2;return!1}var a=xc.prototype;a.rb=function(a){this.xa=a;this.b=a.b};var e=a.rb.prototype;e.ma=function(){if(!this.G){var a,b,c,d,e,h,l,n,m;this.Mc=[];this.Mg=!1;a=0;for(b=this.Tb.length;a<b;a++){e=this.Tb[a];l={};l.name=e[0];l.speed=e[1];l.loop=e[2];l.Ul=e[3];l.Vl=e[4];l.Uo=
e[5];l.R=e[6];l.frames=[];c=0;for(d=e[7].length;c<d;c++)h=e[7][c],n={},n.Ip=h[0],n.Jp=h[1],n.Zf=h[2],n.$f=h[3],n.width=h[4],n.height=h[5],n.duration=h[6],n.Yb=h[7],n.Zb=h[8],n.Uk=h[9],n.yj=h[10],n.Vo=h[11],n.ig=0!==n.width,n.tk="",n.kw=f,m={left:0,top:0,right:1,bottom:1},n.em=m,n.Fa=null,(m=this.b.Js(h[0]))?n.eb=m:(n.eb=new Image,n.eb.pr=h[0],n.eb.cn=h[1],n.eb.fr=null,this.b.$p(n.eb,h[0])),l.frames.push(n),this.Mc.push(n);this.Tb[a]=l}}};e.Wp=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=
this.d[a],c.ri=c.gb.Fa};e.vj=function(){if(!this.G){var a,b,c;a=0;for(b=this.Mc.length;a<b;++a)c=this.Mc[a],c.eb.fr=null,c.Fa=null;this.Mg=!1;this.Wp()}};e.Hl=function(){if(!this.G&&this.d.length){var a,b,c;a=0;for(b=this.Mc.length;a<b;++a)c=this.Mc[a],c.Fa=this.b.j.eo(c.eb,this.b.Ba,c.Vo);this.Wp()}};e.Qt=function(){if(!this.G&&!this.Mg&&this.b.j){var a,b,c;a=0;for(b=this.Mc.length;a<b;++a)c=this.Mc[a],c.Fa=this.b.j.eo(c.eb,this.b.Ba,c.Vo);this.Mg=!0}};e.Sp=function(){if(!this.G&&!this.d.length&&
this.Mg){var a,b,c;a=0;for(b=this.Mc.length;a<b;++a)c=this.Mc[a],this.b.j.deleteTexture(c.Fa),c.Fa=null;this.Mg=!1}};var w=[];e.Yo=function(a){var b,c,d;Q(w);b=0;for(c=this.Mc.length;b<c;++b)d=this.Mc[b].eb,-1===w.indexOf(d)&&(a.drawImage(d,0,0),w.push(d))};a.Na=function(a){this.type=a;this.b=a.b;a=this.type.Tb[0].frames[0].yj;this.Ec?this.K.Hh(a):this.K=new mb(a)};var c=a.Na.prototype;c.ma=function(){this.visible=0===this.D[0];this.wd=0!==this.D[3];this.ta=this.vn(this.D[1])||this.type.Tb[0];this.r=
this.D[2];0>this.r&&(this.r=0);this.r>=this.ta.frames.length&&(this.r=this.ta.frames.length-1);var a=this.ta.frames[this.r];this.K.Hh(a.yj);this.Yb=a.Yb;this.Zb=a.Zb;this.Df=this.ta.speed;this.le=this.ta.Vl;1===this.type.Tb.length&&1===this.type.Tb[0].frames.length||0===this.Df||this.b.nm(this);this.Ec?this.ed.reset():this.ed=new kb;this.Cd=this.ed.T;this.Ke=!0;this.ud=0;this.Je=!0;this.ok=this.Om="";this.lr=0;this.nk=-1;this.type.Qt();var b,c,d,e,f,h,l,a=0;for(b=this.type.Tb.length;a<b;a++)for(e=
this.type.Tb[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.eb.width,f.height=f.eb.height),f.ig&&(l=f.eb,h=f.em,h.left=f.Zf/l.width,h.top=f.$f/l.height,h.right=(f.Zf+f.width)/l.width,h.bottom=(f.$f+f.height)/l.height,0===f.Zf&&0===f.$f&&f.width===l.width&&f.height===l.height&&(f.ig=!1));this.gb=this.ta.frames[this.r];this.ri=this.gb.Fa};c.Pb=function(){var a={a:this.ta.R,f:this.r,cas:this.Df,fs:this.Cd,ar:this.ud,at:this.ed.T,rt:this.le};this.Ke||(a.ap=this.Ke);this.Je||(a.af=
this.Je);return a};c.rc=function(a){var b=this.Ns(a.a);b&&(this.ta=b);this.r=a.f;0>this.r&&(this.r=0);this.r>=this.ta.frames.length&&(this.r=this.ta.frames.length-1);this.Df=a.cas;this.Cd=a.fs;this.ud=a.ar;this.ed.reset();this.ed.T=a.at;this.Ke=a.hasOwnProperty("ap")?a.ap:!0;this.Je=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.le=a.rt:this.le=this.ta.Vl;this.gb=this.ta.frames[this.r];this.ri=this.gb.Fa;this.K.Hh(this.gb.yj);this.Yb=this.gb.Yb;this.Zb=this.gb.Zb};c.ek=function(a){this.r=
a?0:this.ta.frames.length-1;this.Ke=!1;this.Om=this.ta.name;this.b.trigger(xc.prototype.n.yq,this);this.b.trigger(xc.prototype.n.xq,this);this.ud=0};c.Rm=function(){return this.ed.T};c.fb=function(){this.ed.add(this.b.Hk(this));this.ok.length&&this.Ar();0<=this.nk&&this.Br();var a=this.ed.T,b=this.ta,c=b.frames[this.r],d=c.duration/this.Df;this.Ke&&a>=this.Cd+d&&(this.Je?this.r++:this.r--,this.Cd+=d,this.r>=b.frames.length&&(b.Uo?(this.Je=!1,this.r=b.frames.length-2):b.loop?this.r=this.le:(this.ud++,
this.ud>=b.Ul?this.ek(!1):this.r=this.le)),0>this.r&&(b.Uo?(this.r=1,this.Je=!0,b.loop||(this.ud++,this.ud>=b.Ul&&this.ek(!0))):b.loop?this.r=this.le:(this.ud++,this.ud>=b.Ul?this.ek(!0):this.r=this.le)),0>this.r?this.r=0:this.r>=b.frames.length&&(this.r=b.frames.length-1),a>this.Cd+b.frames[this.r].duration/this.Df&&(this.Cd=a),a=b.frames[this.r],this.Bf(c,a),this.b.da=!0)};c.vn=function(a){var b,c,d;b=0;for(c=this.type.Tb.length;b<c;b++)if(d=this.type.Tb[b],sb(d.name,a))return d;return null};c.Ns=
function(a){var b,c,d;b=0;for(c=this.type.Tb.length;b<c;b++)if(d=this.type.Tb[b],d.R===a)return d;return null};c.Ar=function(){var a=this.ta.frames[this.r],b=this.vn(this.ok);this.ok="";!b||sb(b.name,this.ta.name)&&this.Ke||(this.ta=b,this.Df=b.speed,this.le=b.Vl,0>this.r&&(this.r=0),this.r>=this.ta.frames.length&&(this.r=this.ta.frames.length-1),1===this.lr&&(this.r=0),this.Ke=!0,this.Cd=this.ed.T,this.Je=!0,this.Bf(a,this.ta.frames[this.r]),this.b.da=!0)};c.Br=function(){var a=this.ta.frames[this.r],
b=this.r;this.r=K(this.nk);0>this.r&&(this.r=0);this.r>=this.ta.frames.length&&(this.r=this.ta.frames.length-1);b!==this.r&&(this.Bf(a,this.ta.frames[this.r]),this.Cd=this.ed.T,this.b.da=!0);this.nk=-1};c.Bf=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Yb=b.Yb;this.Zb=b.Zb;this.K.Hh(b.yj);this.W();this.gb=b;this.ri=b.Fa;c=0;for(d=this.I.length;c<d;c++)e=this.I[c],e.Zt&&e.Zt(a,b);this.b.trigger(xc.prototype.n.Bf,this)};c.jd=function(a){a.globalAlpha=
this.opacity;var b=this.gb,c=b.ig,d=b.eb,e=this.x,f=this.y,h=this.width,l=this.height;if(0===this.i&&0<=h&&0<=l)e-=this.Yb*h,f-=this.Zb*l,this.b.Md&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Zf,b.$f,b.width,b.height,e,f,h,l):a.drawImage(d,e,f,h,l);else{this.b.Md&&(e=Math.round(e),f=Math.round(f));a.save();var n=0<h?1:-1,m=0<l?1:-1;a.translate(e,f);1===n&&1===m||a.scale(n,m);a.rotate(this.i*n*m);e=0-this.Yb*pa(h);f=0-this.Zb*pa(l);c?a.drawImage(d,b.Zf,b.$f,b.width,b.height,e,f,pa(h),pa(l)):
a.drawImage(d,e,f,pa(h),pa(l));a.restore()}};c.Ff=function(a){this.lc(a)};c.lc=function(a){a.cb(this.ri);a.rf(this.opacity);var b=this.gb,c=this.ub;if(this.b.Md){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.ig?a.Be(c.ob+d,c.pb+e,c.Rb+d,c.Sb+e,c.Gb+d,c.Hb+e,c.Eb+d,c.Fb+e,b.em):a.pf(c.ob+d,c.pb+e,c.Rb+d,c.Sb+e,c.Gb+d,c.Hb+e,c.Eb+d,c.Fb+e)}else b.ig?a.Be(c.ob,c.pb,c.Rb,c.Sb,c.Gb,c.Hb,c.Eb,c.Fb,b.em):a.pf(c.ob,c.pb,c.Rb,c.Sb,c.Gb,c.Hb,c.Eb,c.Fb)};c.Ss=function(a){var b=this.gb,c,d;c=
0;for(d=b.Uk.length;c<d;c++)if(sb(a,b.Uk[c][0]))return c;return-1};c.Kk=function(a,b){var c=this.gb,d=c.Uk,e;B(a)?e=this.Ss(a):e=a-1;e=K(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Yb)*this.width,d=d[e][2],d=(d-c.Zb)*this.height,c=Math.cos(this.i);e=Math.sin(this.i);var h=f*c-d*e,d=d*c+f*e,f=h+this.x,d=d+this.y;return b?f:d};var d=[],l=-2,h=[];p.prototype.Bq=function(a){if(!a)return!1;var c=this.b,d=c.Ni(),e=d.type,f=null;d.q.collmemory?f=d.q.collmemory:(f={},d.q.collmemory=f);
d.q.spriteCreatedDestroyCallback||(d.q.spriteCreatedDestroyCallback=!0,c.Mm(function(a){var b=d.q.collmemory;a=a.uid;var c,e;for(c in b)b.hasOwnProperty(c)&&(e=b[c],e[0]===a||e[1]===a)&&(m(b[c]),delete b[c])}));var n=e.ba(),q=a.ba(),n=n.oc(),p,w,y,F,O,E,L,D=this.b.ad,J=D-1,Z=c.xb().Bb;for(w=0;w<n.length;w++){y=n[w];q.ra?(y.pa(),this.b.xn(y.g,a,y.qa,h),p=h,this.b.Yq(y,a,p)):p=q.oc();for(F=0;F<p.length;F++)O=p[F],c.vf(y,O)||c.mr(y,O)?(E=b(f,y,O),E=!E||l<J,u(f,y,O,D),E&&(c.dg(Z.ka),E=e.ba(),L=a.ba(),
E.ra=!1,L.ra=!1,e===a?(E.d.length=2,E.d[0]=y,E.d[1]=O,e.fd()):(E.d.length=1,L.d.length=1,E.d[0]=y,L.d[0]=O,e.fd(),a.fd()),Z.Ch(),c.Nd(Z.ka))):t(f,y,O);Q(h)}return!1};var y=new fa,n=!1;new wa(0,0,0,0);e.finish=function(a){if(n){if(a){var b=this.b.xb().Bb.Wc;a=null.ba();var c=y.Wd(),d,e;if(a.ra){a.ra=!1;Q(a.d);d=0;for(e=c.length;d<e;++d)a.d[d]=c[d];if(b)for(Q(a.Y),d=0,e=null.d.length;d<e;++d)c=null.d[d],y.contains(c)||a.Y.push(c)}else if(b)for(b=a.d.length,d=0,e=c.length;d<e;++d)a.d[b+d]=c[d],Na(a.Y,
c[d]);else Ha(a.d,c);null.fd()}y.clear();n=!1}};p.prototype.xq=function(a){return sb(this.Om,a)};p.prototype.yq=function(){return!0};p.prototype.Bf=function(){return!0};a.n=new p;a.ja=new function(){};a.Qa=new function(){}})();function Ac(f){this.b=f}
(function(){function f(){return a.length?a.pop():{}}function p(b){var f,c;f=0;for(c=b.length;f<c;f++)a.push(b[f]);Q(b)}function m(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function q(){}var u=Ac.prototype;u.ma=function(){u.ja.Pq=function(a){this.width!==a&&(this.width=a,this.wf=!0,this.W())}};u.rb=function(a){this.xa=a;this.b=a.b};var t=u.rb.prototype;t.ma=function(){};t.vj=function(){if(!this.G){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.pd=null,c.lf=
null,c.cc=null}};u.Na=function(a){this.type=a;this.b=a.b;this.Ec?Q(this.ve):this.ve=[];this.wf=!0};t=u.Na.prototype;t.ma=function(){this.text=this.D[0];this.visible=0===this.D[1];this.font=this.D[2];this.color=this.D[3];this.Si=this.D[4];this.Xj=this.D[5];this.Cm=0===this.D[7];this.il=this.ej=this.width;this.dj=this.height;this.ol=this.D[8];this.Ii=this.Gf="";this.Gp=this.Hp=this.Ah=0;this.cu();this.cc=this.lf=this.pd=null;this.Al=!1;this.fh=this.b.ad;this.Ec?this.eg.set(0,0,1,1):this.eg=new wa(0,
0,1,1);this.b.j&&this.b.nm(this)};t.cu=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Ah=parseInt(a[b].substr(0,a[b].length-2));this.Ql=Math.ceil(this.Ah/72*96)+4;0<b&&(this.Ii=a[b-1]);this.Gf=a[b+1];for(b+=2;b<a.length;b++)this.Gf+=" "+a[b];break}};t.Pb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Si,va:this.Xj,wr:this.Cm,lho:this.ol,fn:this.Gf,fs:this.Ii,ps:this.Ah,pxh:this.Ql,tw:this.Hp,th:this.Gp,lrt:this.fh}};t.rc=
function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Si=a.ha;this.Xj=a.va;this.Cm=a.wr;this.ol=a.lho;this.Gf=a.fn;this.Ii=a.fs;this.Ah=a.ps;this.Ql=a.pxh;this.Hp=a.tw;this.Gp=a.th;this.fh=a.lrt;this.wf=!0;this.il=this.ej=this.width;this.dj=this.height};t.fb=function(){if(this.b.j&&this.cc&&300<=this.b.ad-this.fh){var a=this.g;this.pa();var b=this.qa;if(b.right<a.Z||b.bottom<a.aa||b.left>a.ga||b.top>a.fa)this.b.j.deleteTexture(this.cc),this.pd=this.lf=this.cc=null}};t.vh=function(){this.pd=
this.lf=null;this.b.j&&this.cc&&this.b.j.deleteTexture(this.cc);this.cc=null};t.Rm=function(){this.font=this.Ii+" "+this.Ah.toString()+"pt "+this.Gf;this.wf=!0;this.b.da=!0};t.jd=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.g.Xb()),a.save(),a.scale(c,c));if(this.wf||this.width!==this.il)this.type.xa.Uq(this.text,this.ve,a,this.width,this.Cm),this.wf=!1,this.il=this.width;this.pa();var c=b?0:this.ub.ob,d=b?0:this.ub.pb;
this.b.Md&&(c=c+.5|0,d=d+.5|0);0===this.i||b||(a.save(),a.translate(c,d),a.rotate(this.i),d=c=0);var f=d+this.height,h=this.Ql,h=h+this.ol,m,n;1===this.Xj?d+=Math.max(this.height/2-this.ve.length*h/2,0):2===this.Xj&&(d+=Math.max(this.height-this.ve.length*h-2,0));for(n=0;n<this.ve.length&&!(m=c,1===this.Si?m=c+(this.width-this.ve[n].width)/2:2===this.Si&&(m=c+(this.width-this.ve[n].width)),a.fillText(this.ve[n].text,m,d),d+=h,d>=f-h);n++);(0!==this.i||b)&&a.restore();this.fh=this.b.ad};t.lc=function(a){if(!(1>
this.width||1>this.height)){var b=this.wf||this.Al;this.Al=!1;var c=this.g.Xb(),d=this.g.Sa(),f=this.eg,h=c*this.width,m=c*this.height,n=Math.ceil(h),q=Math.ceil(m),g=Math.abs(n),k=Math.abs(q),p=this.b.C/2,t=this.b.B/2;this.lf||(this.pd=document.createElement("canvas"),this.pd.width=g,this.pd.height=k,this.ej=g,this.dj=k,b=!0,this.lf=this.pd.getContext("2d"));if(g!==this.ej||k!==this.dj)this.pd.width=g,this.pd.height=k,this.cc&&(a.deleteTexture(this.cc),this.cc=null),b=!0;b&&(this.lf.clearRect(0,
0,g,k),this.jd(this.lf,!0),this.cc||(this.cc=a.Ib(g,k,this.b.Ba,this.b.bf)),a.zm(this.pd,this.cc,this.b.bf));this.ej=g;this.dj=k;a.cb(this.cc);a.rf(this.opacity);a.Fc();a.translate(-p,-t);a.vc();var u=this.ub,b=this.g.wa(u.ob,u.pb,!0,!0),g=this.g.wa(u.ob,u.pb,!1,!0),k=this.g.wa(u.Rb,u.Sb,!0,!0),p=this.g.wa(u.Rb,u.Sb,!1,!0),t=this.g.wa(u.Gb,u.Hb,!0,!0),T=this.g.wa(u.Gb,u.Hb,!1,!0),P=this.g.wa(u.Eb,u.Fb,!0,!0),u=this.g.wa(u.Eb,u.Fb,!1,!0);if(this.b.Md||0===this.i&&0===d)var G=(b+.5|0)-b,S=(g+.5|0)-
g,b=b+G,g=g+S,k=k+G,p=p+S,t=t+G,T=T+S,P=P+G,u=u+S;0===this.i&&0===d?(k=b+n,p=g,t=k,T=g+q,P=b,u=T,f.right=1,f.bottom=1):(f.right=h/n,f.bottom=m/q);a.Be(b,g,k,p,t,T,P,u,f);a.Fc();a.scale(c,c);a.Hj(-this.g.Sa());a.translate((this.g.Z+this.g.ga)/-2,(this.g.aa+this.g.fa)/-2);a.vc();this.fh=this.b.ad}};var b=[];u.Sq=function(a){Q(b);for(var f="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)f.length&&(b.push(f),f=""),b.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do f+=a.charAt(d),d++;while(d<a.length&&
(" "===a.charAt(d)||"\t"===a.charAt(d)));b.push(f);f=""}else d<a.length&&(f+=c,d++);f.length&&b.push(f)};var a=[];u.Uq=function(a,b,c,d,l){if(a&&a.length)if(2>=d)p(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var h=c.measureText(a).width;if(h<=d){p(b);b.push(f());b[0].text=a;b[0].width=h;return}}this.Vq(a,b,c,d,l)}else p(b)};u.Vq=function(e,p,c,d,l){l&&(this.Sq(e),e=b);var h="",q,n,r,g=0;for(r=0;r<e.length;r++)"\n"===e[r]?(g>=p.length&&p.push(f()),h=m(h),n=p[g],n.text=h,n.width=c.measureText(h).width,
g++,h=""):(q=h,h+=e[r],n=c.measureText(h).width,n>=d&&(g>=p.length&&p.push(f()),q=m(q),n=p[g],n.text=q,n.width=c.measureText(q).width,g++,h=e[r],l||" "!==h||(h="")));h.length&&(g>=p.length&&p.push(f()),h=m(h),n=p[g],n.text=h,n.width=c.measureText(h).width,g++);for(r=g;r<p.length;r++)a.push(p[r]);p.length=g};u.n=new function(){};q.prototype.Lq=function(a){ma(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.wf=!0,this.b.da=!0)};q.prototype.Iq=function(a){a="rgb("+
za(a).toString()+","+Aa(a).toString()+","+Ba(a).toString()+")";a!==this.color&&(this.color=a,this.Al=!0,this.b.da=!0)};u.ja=new q;u.Qa=new function(){}})();function Bc(f){this.b=f}
(function(){function f(a){a%=d.length;0>a&&(a+=d.length);return a}function p(){var a,b,c,e;a=0;for(b=d.length;a<b;++a)c=d[a],(e=d[f(a-1)])&&!c&&(h=a),!e&&c&&(n=a)}var m=Bc.prototype;m.rb=function(a){this.xa=a;this.b=a.b};var q=m.rb.prototype,u=!1,t=null,b=null;q.ma=function(){this.G||u||(u=!0,t=new Image,t.cn=15E3,this.b.$p(t,"penumbra.png"))};q.vj=function(){if(!this.G){this.fc=this.Fa=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.Fa=null,c.fc=null}};q.Hl=function(){if(!this.G){var a,
b;a=0;for(b=this.d.length;a<b;++a)this.d[a].en()}};m.Na=function(a){this.type=a;this.b=a.b};q=m.Na.prototype;q.ma=function(){if(!b){var a=t.width,c=t.height,d=document.createElement("canvas");d.width=a;d.height=c;d=d.getContext("2d");d.clearRect(0,0,a,c);d.drawImage(t,0,0,a,c);b=d.getImageData(0,0,a,c).data}this.te=this.x;this.ue=this.y;this.co=this.D[0];this.Lb=1E3;this.Uf=this.D[1];this.Ym=this.D[2];this.tag=this.D[3];this.ll=this.ml=this.nl=0;this.Wn=this.x;this.Xn=this.y;this.fc=this.Fa=null;
this.b.j?this.en():this.Uf=0;this.b.Vu(this)};q.Zm=function(a){return 1===this.Ym?sb(this.tag,a):2===this.Ym?!sb(this.tag,a):!0};q.mm=function(){if(this.Wn!==this.x||this.Xn!==this.y)this.te=this.x,this.ue=this.y;var a=this.g,b=(a.Z+a.ga)/2,c=(a.aa+a.fa)/2,d=a.ga-a.Z+this.Lb,e=a.fa-a.aa+this.Lb;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.W();this.Wn=this.x;this.Xn=this.y;this.Lb=1.5*$a(a.Z,a.aa,a.ga,a.fa)};q.vh=function(){this.b.j&&
(this.Fa&&(this.b.j.deleteTexture(this.Fa),this.Fa=null),this.fc&&(this.b.j.deleteTexture(this.fc),this.fc=null))};q.Pb=function(){return{}};q.rc=function(){};var a=[],e=[];q.Dn=function(){this.b.dm&&(this.b.En(this.g,this.b.dm.xl,this.qa,a),eb(a))};var w=[],c=0,d=[],l=[],h=-1,y=-1,n=-1,r=-1,g=0,k=0,x=[],Y=0,M=0,T=0,P=0,G=0,S=0,F=0,O=0,E=new mb([]);q.jd=function(b){this.Dn();b.save();b.fillStyle="rgba("+this.nl+","+this.ml+","+this.ll+","+this.opacity+")";var c,f,g,h,k,l,n,m,p,q;c=0;for(f=a.length;c<
f;++c)if(g=a[c],g.q.shadowcasterEnabled&&this.Zm(g.q.shadowcasterTag))if(g.pa(),n=g.q.shadowcasterHeight,g.Ge){g.yn(this.qa,e);m=g.x;p=g.y;g=0;for(h=e.length;g<h;++g){k=e[g];q=k.dp;k.of?(k=k.of,l=q.left,q=q.top):(E.tf(q,0,0),k=E,q=l=0);this.li(k,m+l,p+q,n,!1);b.beginPath();b.moveTo(x[0],x[1]);k=2;for(l=x.length;k<l;k+=2)b.lineTo(x[k],x[k+1]);b.closePath();b.fill();Q(d);Q(x)}Q(e)}else{g.K&&!g.K.qe()?(g.K.fe(g.width,g.height,g.i),k=g.K):(E.De(g.ub,g.x,g.y,g.width,g.height),k=E);this.li(k,g.x,g.y,n,
ab(0>g.width,0>g.height));b.beginPath();b.moveTo(x[0],x[1]);g=2;for(h=x.length;g<h;g+=2)b.lineTo(x[g],x[g+1]);b.closePath();b.fill();Q(d);Q(x)}b.restore();Q(a)};q.Ys=function(a,b,d,e){c=a.Dc;Q(w);var f,h=a.Ja;k=g=0;var l;for(l=0;l<c;++l)f=2*l,a=h[f]+b,f=h[f+1]+d,e?(w.unshift(f),w.unshift(a)):(w.push(a),w.push(f)),g+=a,k+=f;g/=c;k/=c};q.li=function(a,b,e,f,g){this.Ys(a,b,e,g);var k;Q(d);Q(l);Q(x);r=y=n=h=-1;e=this.te;g=this.ue;if(0<this.Uf)this.ik(-this.Uf),p(),Ha(l,d),y=h,r=n,Q(d),n=h=-1,this.ik(this.Uf),
p(),-1!==h&&-1!==n&&-1!==y&&-1!==r&&this.hr();else for(this.ik(0),p(),a=0;a<c;++a)k=2*a,b=w[k],k=w[k+1],this.gr(a,e,g,b,k,f)};q.gr=function(a,b,c,e,g,k){var l;l=d[f(a-1)];var m=a===h,p=a===n;d[a]||l?(a=Va(b,c,e,g),l=$a(b,c,e,g),k=this.ir(b,c,e,g,k),b+=Math.cos(a)*(l+k),c+=Math.sin(a)*(l+k)):(b=e,c=g);p&&(x.push(e),x.push(g));x.push(b);x.push(c);m&&(x.push(e),x.push(g))};q.ik=function(a){var b=this.te,e=this.ue,f=b,h=e,l,n,m,p,q;for(l=0;l<c;++l)n=2*l,m=l+1,m=m===c?0:2*m,p=w[n],n=w[n+1],q=w[m],m=w[m+
1],0!==a&&(h=Va(b,e,g,k)-Math.PI/2,f=b+Math.cos(h)*a,h=e+Math.sin(h)*a),d.push(Wa(Va(p,n,f,h),Va(p,n,q,m)-Math.PI/2)>=Math.PI/2)};var L=0,D=0;q.hr=function(){for(var a=y,b,d,e;a=a%c,b=2*a,d=w[b],e=w[b+1],x.push(d),x.push(e),a!==n;++a);var f=this.Uf,h=Va(this.te,this.ue,g,k),a=this.te+Math.cos(h-Math.PI/2)*f,l=this.ue+Math.sin(h-Math.PI/2)*f,h=Va(a,l,d,e),m=$a(a,l,d,e),a=a+Math.cos(h)*(m+this.Lb),l=l+Math.sin(h)*(m+this.Lb);b=2*y;var p=w[b];b=w[b+1];var h=Va(this.te,this.ue,g,k),q=this.te+Math.cos(h+
Math.PI/2)*f,r=this.ue+Math.sin(h+Math.PI/2)*f,h=Va(q,r,p,b),m=$a(q,r,p,b),f=q+Math.cos(h)*(m+this.Lb),h=r+Math.sin(h)*(m+this.Lb);G=d;S=e;Y=p;M=b;var t,u,E,m=a-d,q=l-e;t=f-p;u=h-b;E=-t*q+m*u;0===E?d=!1:(r=(-q*(d-p)+m*(e-b))/E,E=-t*q+m*u,0===E?d=!1:(p=(t*(e-b)-u*(d-p))/E,0<=r&&1>=r&&0<=p&&1>=p?(L=d+p*m,D=e+p*q,d=!0):d=!1));d?(x.push(L),x.push(D),F=L,O=D,T=L,P=D):(x.push(a),x.push(l),x.push(f),x.push(h),F=a,O=l,T=f,P=h)};q.ir=function(a,b,c,d,e){if(e>=this.co)return this.Lb;if(0>=e)return 0;a=$a(a,
b,c,d);a=Math.atan(a/(this.co-e));e=e*Math.tan(a);e>=this.Lb&&(e=this.Lb);0>e&&(e=0);return e};q.lc=function(b){b.rf(this.opacity);this.Dn();var c,f,g,k,l,m,p,q,t,u;c=0;for(f=a.length;c<f;++c)if(g=a[c],g.q.shadowcasterEnabled&&this.Zm(g.q.shadowcasterTag))if(g.pa(),l=g.q.shadowcasterHeight,g.Ge){g.yn(this.qa,e);p=g.x;q=g.y;g=0;for(k=e.length;g<k;++g)m=e[g],t=m.dp,m.of?(m=m.of,u=t.left,t=t.top):(E.tf(t,0,0),m=E,t=u=0),this.li(m,p+u,q+t,l,!1),6>x.length||(b.cb(this.Fa),b.bn(x),-1<h&&-1<y&&(b.cb(this.fc),
this.Bi(b,!0)),-1<n&&-1<r&&(b.cb(this.fc),this.Bi(b,!1)),Q(d),Q(x));Q(e)}else g.K&&!g.K.qe()?(g.K.fe(g.width,g.height,g.i),m=g.K):(E.De(g.ub,g.x,g.y,g.width,g.height),m=E),this.li(m,g.x,g.y,l,ab(0>g.width,0>g.height)),6>x.length||(b.cb(this.Fa),b.bn(x),-1<h&&-1<y&&(b.cb(this.fc),this.Bi(b,!0)),-1<n&&-1<r&&(b.cb(this.fc),this.Bi(b,!1)),Q(d),Q(x));Q(a)};q.Bi=function(a,b){var c=this.te,d=this.ue,e,f,l,m,p,q;b?(l=Y,m=M,p=T,q=P):(l=G,m=S,p=F,q=O);var t=this.Uf,u=Va(c,d,g,k),x=Math.PI/2;b&&(x=-x);c+=Math.cos(u+
x)*t;d+=Math.sin(u+x)*t;t=!1;if(b){if(t=h!==y)e=w[2*h],f=w[2*h+1]}else if(t=n!==r)e=w[2*r],f=w[2*r+1];var u=t?Va(e,f,l,m):Va(c,d,l,m),x=l+Math.cos(u)*this.Lb,D=m+Math.sin(u)*this.Lb,E,L,ha,La=ha=0,Ma=1;t&&(ha=Va(c,d,e,f),E=e+Math.cos(ha)*this.Lb,L=f+Math.sin(ha)*this.Lb,c=Va(l,m,p,q),ha=Wa(u,ha)/Wa(c,ha),u=$a(e,f,l,m),u=u/(u+this.Lb),c=Va(0,1,ha,0),d=$a(0,1,ha,0),La+=Math.cos(c)*u*d,Ma+=Math.sin(c)*u*d);a.cp(l,m,p,q,x,D,x,D,La,Ma,1,ha,ha);t&&a.cp(e,f,x,D,E,L,E,L,0,1,ha,0,0)};q.en=function(){this.b.j&&
(this.Fa&&(this.b.j.deleteTexture(this.Fa),this.Fa=null),this.fc&&(this.b.j.deleteTexture(this.fc),this.fc=null),this.qr(),this.tr())};q.qr=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.nl+","+this.ml+","+this.ll+")";b.fillRect(0,0,16,16);this.Fa=this.b.j.Ib(16,16,!1,!1,!0);this.b.j.zm(a,this.Fa)};q.tr=function(){var a=t.width,c=t.height,d=this.nl,e=this.ml,f=this.ll,g=b,h=document.createElement("canvas");h.width=a;h.height=
c;var k=h.getContext("2d"),l=k.createImageData(a,c),n=l.data,m,p;m=0;for(p=n.length;m<p;m+=4)n[m]=d,n[m+1]=e,n[m+2]=f,n[m+3]=g[m+3];k.putImageData(l,0,0);this.fc=this.b.j.Ib(a,c,this.b.Ba,!1,!1);this.b.j.zm(h,this.fc)};m.n=new function(){};m.ja=new function(){};m.Qa=new function(){}})();function Cc(f){this.b=f}
(function(){function f(){}function p(){}var m=Cc.prototype;m.rb=function(f){this.behavior=f;this.b=f.b};m.rb.prototype.ma=function(){};m.Na=function(f,m){this.type=f;this.behavior=f.behavior;this.u=m;this.b=f.b;this.hm=this.gm=this.fm=this.im=this.Tk=this.Dh=this.gh=this.Ag=this.Oh=!1;this.A=0;this.kb=this.sb=this.u.i};var q=m.Na.prototype;q.ma=function(){this.ze=this.D[0];this.bk=this.D[1];this.zg=this.D[2];this.Pj=V(this.D[3]);this.wk=V(this.D[4]);this.Ek=this.D[5];this.$l=1===this.D[6];this.ur=
1===this.D[7];this.enabled=0!==this.D[8];this.fj=this.u.x;this.gj=this.u.y;this.Qf=this.u.i;this.ur&&!this.b.yb&&(jQuery(document).keydown(function(f){return function(m){f.Fl(m)}}(this)),jQuery(document).keyup(function(f){return function(m){f.Gl(m)}}(this)))};q.Pb=function(){return{ignoreInput:this.Tk,enabled:this.enabled,s:this.A,a:this.sb,m:this.kb,maxspeed:this.ze,acc:this.bk,dec:this.zg,steerSpeed:this.Pj,driftRecover:this.wk,friction:this.Ek,lastx:this.fj,lasty:this.gj,lastAngle:this.Qf}};q.rc=
function(f){this.Tk=f.ignoreInput;this.enabled=f.enabled;this.A=f.s;this.sb=f.a;this.kb=f.m;this.ze=f.maxspeed;this.bk=f.acc;this.zg=f.dec;this.Pj=f.steerSpeed;this.wk=f.driftRecover;this.Ek=f.friction;this.fj=f.lastx;this.gj=f.lasty;this.Qf=f.lastAngle;this.hm=this.gm=this.fm=this.im=this.Dh=this.gh=this.Ag=this.Oh=!1};q.Fl=function(f){switch(f.which){case 37:f.preventDefault();this.gh=!0;break;case 38:f.preventDefault();this.Oh=!0;break;case 39:f.preventDefault();this.Dh=!0;break;case 40:f.preventDefault(),
this.Ag=!0}};q.Gl=function(f){switch(f.which){case 37:f.preventDefault();this.gh=!1;break;case 38:f.preventDefault();this.Oh=!1;break;case 39:f.preventDefault();this.Dh=!1;break;case 40:f.preventDefault(),this.Ag=!1}};q.nf=function(){this.Dh=this.gh=this.Ag=this.Oh=!1};q.fb=function(){var f=this.b.Hk(this.u),m=this.gh||this.gm,b=this.Dh||this.hm,a=this.Oh||this.im,e=this.Ag||this.fm;this.fm=this.im=this.hm=this.gm=!1;if(this.enabled){this.$l&&this.u.i!==this.Qf&&(this.Qf=this.kb=this.sb=this.u.i);
var p=this.b.Td(this.u);if(p&&(this.b.fp(this.u,p),!this.b.Pl(this.u)))return;this.Tk&&(e=a=b=m=!1);a&&!e&&(this.A+=this.bk*f,this.A>this.ze&&(this.A=this.ze));e&&!a&&(this.A-=this.zg*f,this.A<-this.ze&&(this.A=-this.ze));e===a&&(0<this.A?(this.A-=this.zg*f*.1,0>this.A&&(this.A=0)):0>this.A&&(this.A+=this.zg*f*.1,0<this.A&&(this.A=0)));0>this.A&&(a=m,m=b,b=a);m&&!b&&(this.sb=W(this.sb-this.Pj*f*(Math.abs(this.A)/this.ze)));b&&!m&&(this.sb=W(this.sb+this.Pj*f*(Math.abs(this.A)/this.ze)));m=this.wk*
f;b=Wa(this.sb,this.kb);b>V(90)&&(m+=b-V(90));b<=m?this.kb=W(this.sb):Ya(this.sb,this.kb)?this.kb=W(this.kb+m):this.kb=W(this.kb-m);this.fj=this.u.x;this.gj=this.u.y;if(0!==this.A&&0!==f){if(this.u.x+=Math.cos(this.kb)*this.A*f,this.u.y+=Math.sin(this.kb)*this.A*f,this.$l&&(this.Qf=this.u.i=this.sb),this.u.W(),m=this.b.Td(this.u))this.b.fp(this.u,m),this.A=Math.abs(this.A),this.kb=this.b.jr(this.u,this.fj,this.gj),this.u.x+=Math.cos(this.kb)*this.A*f,this.u.y+=Math.sin(this.kb)*this.A*f,this.u.W(),
this.A*=1-this.Ek,this.b.ru(this.u,Math.cos(this.kb),Math.sin(this.kb),Math.max(2.5*this.A*f,30))||this.b.Pl(this.u,100)}else this.$l&&this.u.i!==this.sb&&(this.Qf=this.u.i=this.sb,this.u.W(),this.b.Td(this.u)&&this.b.Pl(this.u,100))}};m.n=new function(){};f.prototype.ak=function(){this.A=0};m.ja=new f;p.prototype.wq=function(f){f.N(Pa(this.kb))};m.Qa=new p})();function wc(f){this.b=f;this.xl=[]}
(function(){function f(){}function p(){}function m(){}var q=wc.prototype;q.rb=function(f,b){this.behavior=f;this.b=f.b;-1===this.behavior.xl.indexOf(b)&&this.behavior.xl.push(b)};q.rb.prototype.ma=function(){};q.Na=function(f,b){this.type=f;this.behavior=f.behavior;this.u=b;this.b=f.b};var u=q.Na.prototype;u.ma=function(){this.u.q.shadowcasterEnabled=0!==this.D[0];this.u.q.shadowcasterHeight=this.D[1];this.u.q.shadowcasterTag=this.D[2]};u.fb=function(){};f.prototype.jq=function(f,b){return kc(this.u.q.shadowcasterHeight,
f,b)};q.n=new f;p.prototype.Jq=function(f){this.u.q.shadowcasterHeight!==f&&(this.u.q.shadowcasterHeight=f,this.b.da=!0)};q.ja=new p;m.prototype.qq=function(f){f.N(this.u.q.shadowcasterHeight)};q.Qa=new m})();function vc(f){this.b=f}
(function(){var f=vc.prototype;f.rb=function(f){this.behavior=f;this.b=f.b};f.rb.prototype.ma=function(){};f.Na=function(f,p){this.type=f;this.behavior=f.behavior;this.u=p;this.b=f.b};var p=f.Na.prototype;p.ma=function(){this.u.q.solidEnabled=0!==this.D[0]};p.fb=function(){};f.n=new function(){};f.ja=new function(){}})();
function uc(){return[yc,zc,Bc,Ac,xc,vc,Cc,wc,X.prototype.n.Im,Bc.prototype.ja.Kq,Bc.prototype.ja.Wq,X.prototype.ja.Gq,yc.prototype.ja.Qq,yc.prototype.ja.Play,X.prototype.ja.Mq,Ac.prototype.ja.vq,X.prototype.n.pq,X.prototype.ja.lq,X.prototype.Qa.random,X.prototype.n.oq,Ac.prototype.ja.Lq,X.prototype.Qa["int"],X.prototype.ja.Rq,X.prototype.n.kq,X.prototype.n.iq,xc.prototype.Qa.cq,Cc.prototype.Qa.wq,X.prototype.ja.bq,X.prototype.Qa.min,X.prototype.Qa.abs,Ac.prototype.ja.Oq,Ac.prototype.ja.Iq,X.prototype.Qa.Au,
X.prototype.ja.Nq,xc.prototype.n.Bq,yc.prototype.ja.ak,X.prototype.n.nq,Cc.prototype.ja.ak,zc.prototype.n.Fm,X.prototype.ja.Hq,X.prototype.n.Tq]};
